"use strict";var sd=Object.create;var Zr=Object.defineProperty;var ld=Object.getOwnPropertyDescriptor;var cd=Object.getOwnPropertyNames;var dd=Object.getPrototypeOf,pd=Object.prototype.hasOwnProperty;var ud=(e,t)=>{for(var o in t)Zr(e,o,{get:t[o],enumerable:!0})},wa=(e,t,o,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of cd(t))!pd.call(e,n)&&n!==o&&Zr(e,n,{get:()=>t[n],enumerable:!(r=ld(t,n))||r.enumerable});return e};var T=(e,t,o)=>(o=e!=null?sd(dd(e)):{},wa(t||!e||!e.__esModule?Zr(o,"default",{value:e,enumerable:!0}):o,e)),md=e=>wa(Zr({},"__esModule",{value:!0}),e);var _m={};ud(_m,{AsExternalProvider:()=>et,ConnectorManager:()=>Do,PrivyClient:()=>Uo,PrivyProvider:()=>rd,PrivyProxyProvider:()=>X,VERSION:()=>on,WalletConnector:()=>Ae,getAccessToken:()=>At,usePrivy:()=>H,useWallets:()=>Xc});module.exports=md(_m);var Vr=require("@ethersproject/address"),mi=require("@ethersproject/providers"),z=require("react");var P=()=>{throw new Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.")};var Ca=require("ofetch"),Ze=class extends Error{constructor(o,r,n){super(o);r instanceof Error&&(this.cause=r),this.privyErrorCode=n}toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}},Po=class extends Ze{constructor(o,r,n,i,a){super(n,i,a);this.type=o;this.status=r}},E=class extends Ze{constructor(o,r,n){super(o,r,n);this.type="client_error"}},Jr=class extends E{constructor(){super("Request timed out",void 0,ur.CLIENT_REQUEST_TIMEOUT)}};var q=class extends Ze{constructor(o,r,n){super(o,r,n);this.type="connector_error"}},se=e=>{if(e instanceof Ze)return e;if(!(e instanceof Ca.FetchError))return Ge(e);if(!e.response)return new Po("api_error",null,e.message,e);let{type:t,message:o,error:r,code:n}=e.data;return new Po(t||"ApiError",e.response.status,o||r,e,n)},Ge=e=>e instanceof Ze?e:e instanceof Error?new E(e.message,e):new E(`Internal error: ${e}`),ur=(a=>(a.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",a.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",a.INVALID_DATA="invalid_data",a.LINKED_TO_ANOTHER_USER="linked_to_another_user",a.ALLOWLIST_REJECTED="allowlist_rejected",a.CLIENT_REQUEST_TIMEOUT="client_request_timeout",a))(ur||{});var Xr=()=>"/api/v1/sessions",Ea=()=>"/api/v1/sessions/logout",xa=()=>"/api/v1/sessions/fork",en=()=>"/api/v1/sessions/fork/recover",Ta=()=>"/api/v1/siwe/init",Pa=()=>"/api/v1/siwe/authenticate",_a=()=>"/api/v1/siwe/link",Aa=()=>"/api/v1/passwordless/init",Sa=()=>"/api/v1/passwordless/authenticate",ka=()=>"/api/v1/passwordless/link",Ra=()=>"/api/v1/passwordless_sms/init",Ia=()=>"/api/v1/passwordless_sms/authenticate",Wa=()=>"/api/v1/passwordless_sms/link",Na=()=>"/api/v1/oauth/init",La=()=>"/api/v1/oauth/authenticate",Ma=()=>"/api/v1/oauth/link",Oa=()=>"/api/v1/siwe/unlink",Da=()=>"/api/v1/passwordless/unlink",Ua=()=>"/api/v1/passwordless_sms/unlink",Ba=()=>"/api/v1/oauth/unlink",Fa=()=>"/api/v1/analytics_events";var io=class{constructor(t){this.meta={email:t}}async authenticate(){if(!this.api)throw new E("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new E("Email and email code must be set prior to calling authenticate.");try{let t=Sa(),o=await this.api.post(t,{email:this.meta.email,code:this.meta.emailCode});return{user:o.user,token:o.token,refresh_token:o.refresh_token,is_new_user:o.is_new_user}}catch(t){throw se(t)}}async link(){if(!this.api)throw new E("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new E("Email and email code must be set prior to calling authenticate.");try{let t=ka();return await this.api.post(t,{email:this.meta.email,code:this.meta.emailCode})}catch(t){throw se(t)}}async sendCodeEmail(t){if(!this.api)throw new E("Auth flow has no API instance");if(t&&(this.meta.email=t),!this.meta.email)throw new E("Email must be set when initialzing authentication.");try{let o=Aa();return await this.api.post(o,{email:this.meta.email})}catch(o){throw se(o)}}};var Ht=class{constructor(t,o,r){this.meta={provider:t},this.meta.authorizationCode=o,this.meta.stateCode=r}isActive(){return!!(this.meta.authorizationCode&&this.meta.stateCode&&this.meta.provider)}async authenticate(){if(!this.api)throw new E("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new E("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenticate.");if(this.meta.authorizationCode==="undefined")throw new E("User denied confirmation during OAuth flow");try{let t=La(),o=await this.api.post(t,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode});return{user:o.user,token:o.token,refresh_token:o.refresh_token,is_new_user:o.is_new_user}}catch(t){throw se(t)}}async link(){if(!this.api)throw new E("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new E("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling link.");if(this.meta.authorizationCode==="undefined")throw new E("User denied confirmation during OAuth flow");try{let t=Ma();return await this.api.post(t,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode})}catch(t){throw se(t)}}async getAuthorizationUrl(){var t;if(!this.api)throw new E("Auth flow has no API instance");if(!this.meta.provider)throw new E("Provider must be set when initialzing OAuth authentication.");try{let o=Na();return await this.api.post(o,{provider:this.meta.provider,redirect_to:window.location.href},{baseURL:(t=this.api)==null?void 0:t.fallbackApiUrl})}catch(o){throw se(o)}}};var He=class{constructor(t){this.promise=null;this.fn=t}execute(t){return this.promise===null&&(this.promise=(async()=>{try{return await this.fn(t)}finally{this.promise=null}})()),this.promise}};var ao=class{constructor(t){this.createSiweMessage=(t,o,r,n,i,a,l)=>`${r} wants you to sign in with your Ethereum account:
${o}

${l}

URI: ${n}
Version: 1
Chain ID: ${t}
Nonce: ${a}
Issued At: ${i}
Resources:
- https://privy.io`;this.getNonceOnce=new He(this._getNonceOnce.bind(this)),this.wallet=t}get meta(){return{connectorType:this.wallet.connectorType,walletClientType:this.wallet.walletClientType}}async authenticate(){if(!this.api)throw new E("Auth flow has no API instance");try{let{message:t,signature:o}=await this.sign(),r=await this.api.post(Pa(),{message:t,signature:o,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType});return{user:r.user,token:r.token,refresh_token:r.refresh_token,is_new_user:r.is_new_user}}catch(t){throw se(t)}}async link(){if(!this.api)throw new E("Auth flow has no API instance");try{let{message:t,signature:o}=await this.sign();return await this.api.post(_a(),{message:t,signature:o,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType})}catch(t){throw se(t)}}async sign(){if(!this.api)throw new E("Auth flow has no API instance");if(await this.buildSiweMessage(),!this.preparedMessage)throw new E("Could not prepare SIWE message");let t=await this.wallet.sign(this.preparedMessage);return{message:this.preparedMessage,signature:t}}async _getNonceOnce(){if(!this.api)throw new E("Auth flow has no API instance");let t=this.wallet.address;return(await this.api.post(Ta(),{address:t})).nonce}async buildSiweMessage(){if(!this.api)throw new E("Auth flow has no API instance");let t=this.wallet.address,o=this.wallet.chainId.replace("eip155:","");return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.preparedMessage=this.prepareMessage(o,t,this.nonce),this.preparedMessage}prepareMessage(t,o,r){let n=window.location.host,i=window.location.origin,a="By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",l=new Date().toISOString();return this.createSiweMessage(t,o,n,i,l,r,a)}};var so=class{constructor(t){this.meta={phoneNumber:t}}async authenticate(){if(!this.api)throw new E("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new E("phone number and sms code must be set prior to calling authenticate.");try{let t=Ia(),o=await this.api.post(t,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode});return{user:o.user,token:o.token,refresh_token:o.refresh_token,is_new_user:o.is_new_user}}catch(t){throw se(t)}}async link(){if(!this.api)throw new E("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new E("phone number and sms code must be set prior to calling authenticate.");try{let t=Wa();return await this.api.post(t,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode})}catch(t){throw se(t)}}async sendSmsCode(t){if(!this.api)throw new E("Auth flow has no API instance");if(t&&(this.meta.phoneNumber=t),!this.meta.phoneNumber)throw new E("phone nNumber must be set when initialzing authentication.");try{let o=Ra();return await this.api.post(o,{phoneNumber:this.meta.phoneNumber})}catch(o){throw se(o)}}};var Ms=require("uuid");function Tt(e){return new Date(e*1e3)}function hd(e){let t=[];for(let o of e){let r=o.type;switch(o.type){case"wallet":let n={address:o.address,type:o.type,verifiedAt:Tt(o.verified_at),chainType:"ethereum",chainId:o.chain_id,walletClient:o.wallet_client_type==="privy"?"privy":"unknown",walletClientType:o.wallet_client_type,connectorType:o.connector_type,recoveryMethod:o.recovery_method};t.push(n);break;case"email":let i={address:o.address,type:o.type,verifiedAt:Tt(o.verified_at)};t.push(i);break;case"phone":let a={number:o.phoneNumber,type:o.type,verifiedAt:Tt(o.verified_at)};t.push(a);break;case"google_oauth":let l={subject:o.subject,email:o.email,name:o.name,type:o.type,verifiedAt:Tt(o.verified_at)};t.push(l);break;case"twitter_oauth":let s={subject:o.subject,username:o.username,name:o.name,type:o.type,verifiedAt:Tt(o.verified_at)};t.push(s);break;case"discord_oauth":let u={subject:o.subject,username:o.username,email:o.email,type:o.type,verifiedAt:Tt(o.verified_at)};t.push(u);break;case"github_oauth":let h={subject:o.subject,username:o.username,name:o.name,email:o.email,type:o.type,verifiedAt:Tt(o.verified_at)};t.push(h);break;case"apple_oauth":let C={subject:o.subject,email:o.email,type:o.type,verifiedAt:Tt(o.verified_at)};t.push(C);break;default:console.warn(`Unrecognized account type: ${r}. Please consider upgrading the Privy SDK.`)}}return t}function zt(e,t){return e.sort((o,r)=>r.verifiedAt.getTime()-o.verifiedAt.getTime()),e.find(o=>o.type===t)}var le=e=>e==null?void 0:e.linkedAccounts.find(t=>t.type==="wallet"&&t.walletClient==="privy"),fd=e=>e.linkedAccounts.filter(t=>t.type==="wallet"),_o=(e,t)=>{var o;return t==="all-users"&&!le(e)||t==="users-without-wallets"&&!((o=fd(e))!=null&&o.length)};function Pt(e){if(!e)return null;let t=hd(e.linked_accounts),o=zt(t,"wallet"),r=zt(t,"email"),n=zt(t,"phone"),i=zt(t,"google_oauth"),a=zt(t,"twitter_oauth"),l=zt(t,"discord_oauth"),s=zt(t,"github_oauth"),u=zt(t,"apple_oauth");return{id:e.id,createdAt:Tt(e.created_at),linkedAccounts:t,email:r&&{address:r==null?void 0:r.address},phone:n&&{number:n==null?void 0:n.number},wallet:o&&{address:o.address,chainType:o.chainType,chainId:o.chainId,walletClient:o.walletClient,walletClientType:o.walletClientType,connectorType:o.connectorType,recoveryMethod:o.recoveryMethod},google:i&&{subject:i.subject,email:i.email,name:i.name},twitter:a&&{subject:a.subject,username:a.username,name:a.name},discord:l&&{subject:l.subject,username:l.username,email:l.email},github:s&&{subject:s.subject,username:s.username,name:s.name,email:s.email},apple:u&&{subject:u.subject,email:u.email}}}var ki=require("@ethersproject/address"),Is=T(require("eventemitter3"));var Ga="1.30.3";var Ao="4df5e2316331463a9130964bd6078dfa",Ha="34357d3c125c2bcf2ce2bc3309d98715",tn="https://auth.privy.io",za=2e4,Je=1400,Va=4500,on=Ga;var So="privy:token",hi="privy-token",rn="privy:refresh_token",fi="privy-refresh-token",mr="privy:session_transfer_token",yi="privy:connectors",gi="privy:connections";var Xe=1;var vi=class{constructor(){this._cache={}}get(t){return this._cache[t]}put(t,o){o!==void 0?this._cache[t]=o:this.del(t)}del(t){delete this._cache[t]}getKeys(){return Object.keys(this._cache)}},bi=class{get(t){let o=localStorage.getItem(t);return o===null?void 0:JSON.parse(o)}put(t,o){o!==void 0?localStorage.setItem(t,JSON.stringify(o)):this.del(t)}del(t){localStorage.removeItem(t)}getKeys(){return Object.entries(localStorage).map(([t])=>t)}};function gd(){return typeof window<"u"&&window.localStorage?new bi:new vi}var J=gd();var is=require("libphonenumber-js/min");var qa={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}}};var $a={id:421613,name:"Arbitrum Goerli",network:"arbitrum-goerli",nativeCurrency:{name:"Arbitrum Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://arb-goerli.g.alchemy.com/v2"],webSocket:["wss://arb-goerli.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-goerli.infura.io/v3"],webSocket:["wss://arbitrum-goerli.infura.io/ws/v3"]},default:{http:["https://goerli-rollup.arbitrum.io/rpc"]},public:{http:["https://goerli-rollup.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://goerli.arbiscan.io/"},default:{name:"Arbiscan",url:"https://goerli.arbiscan.io/"}},testnet:!0};var ja={id:84531,network:"base-goerli",name:"Base Goerli",nativeCurrency:{name:"Base Goerli",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://goerli.base.org"]},public:{http:["https://goerli.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://goerli.basescan.org"},default:{name:"Basescan",url:"https://goerli.basescan.org"}},testnet:!0};var Ka={id:42220,name:"Celo",network:"celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]},infura:{http:["https://celo-mainnet.infura.io/v3"]},public:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/mainnet"},etherscan:{name:"CeloScan",url:"https://celoscan.io"}},testnet:!1};var Ya={id:44787,name:"Alfajores",network:"celo-alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"A-CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]},infura:{http:["https://celo-alfajores.infura.io/v3"]},public:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores"},etherscan:{name:"CeloScan",url:"https://alfajores.celoscan.io/"}},testnet:!0};var Qa={id:314,name:"Filecoin Mainnet",network:"filecoin-mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]},public:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"},filscan:{name:"Filscan",url:"https://filscan.io"},filscout:{name:"Filscout",url:"https://filscout.io/en"},glif:{name:"Glif",url:"https://explorer.glif.io"}}};var Za={id:314159,name:"Filecoin Calibration",network:"filecoin-calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]},public:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}}};var Ja={id:5,network:"goerli",name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-goerli.g.alchemy.com/v2"],webSocket:["wss://eth-goerli.g.alchemy.com/v2"]},infura:{http:["https://goerli.infura.io/v3"],webSocket:["wss://goerli.infura.io/ws/v3"]},default:{http:["https://rpc.ankr.com/eth_goerli"]},public:{http:["https://rpc.ankr.com/eth_goerli"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://goerli.etherscan.io"},default:{name:"Etherscan",url:"https://goerli.etherscan.io"}},testnet:!0};var Xa={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}}};var es={id:10,name:"Optimism",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}}};var ts={id:420,name:"Optimism Goerli",network:"optimism-goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://opt-goerli.g.alchemy.com/v2"],webSocket:["wss://opt-goerli.g.alchemy.com/v2"]},infura:{http:["https://optimism-goerli.infura.io/v3"],webSocket:["wss://optimism-goerli.infura.io/ws/v3"]},default:{http:["https://goerli.optimism.io"]},public:{http:["https://goerli.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://goerli-optimism.etherscan.io"},default:{name:"Etherscan",url:"https://goerli-optimism.etherscan.io"}},testnet:!0};var os={id:137,name:"Polygon",network:"matic",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}}};var rs={id:80001,name:"Polygon Mumbai",network:"maticmum",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{alchemy:{http:["https://polygon-mumbai.g.alchemy.com/v2"],webSocket:["wss://polygon-mumbai.g.alchemy.com/v2"]},infura:{http:["https://polygon-mumbai.infura.io/v3"],webSocket:["wss://polygon-mumbai.infura.io/ws/v3"]},default:{http:["https://matic-mumbai.chainstacklabs.com"]},public:{http:["https://matic-mumbai.chainstacklabs.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://mumbai.polygonscan.com"},default:{name:"PolygonScan",url:"https://mumbai.polygonscan.com"}},testnet:!0};var ns={id:11155111,network:"sepolia",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:{alchemy:{http:["https://eth-sepolia.g.alchemy.com/v2"],webSocket:["wss://eth-sepolia.g.alchemy.com/v2"]},infura:{http:["https://sepolia.infura.io/v3"],webSocket:["wss://sepolia.infura.io/ws/v3"]},default:{http:["https://rpc.sepolia.org"]},public:{http:["https://rpc.sepolia.org"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://sepolia.etherscan.io"},default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}},testnet:!0};var ko=[qa,$a,Ja,ns,Xa,es,ts,os,rs,Ka,Ya,Qa,Za,ja],vd=e=>ko.find(t=>t.id===e),Vt=e=>{var t;return(t=vd(e))==null?void 0:t.nativeCurrency.symbol};var an=()=>{let e=window;if(!e.ethereum)return!1;if(nn(window.ethereum,!0))return!0;if(e.ethereum.providers){for(let t of e.ethereum.providers)if(nn(t,!0))return!0}return!1},hr=()=>{let e=window;if(!e.ethereum)return!1;if(nn(window.ethereum,!1))return!0;if(e.ethereum.providers){for(let t of e.ethereum.providers)if(nn(t,!1))return!0}return!1},nn=(e,t)=>e.isMetaMask?e.isMetaMask&&!t?!0:!(e.isBraveWallet&&!e._events&&!e._state||e.isApexWallet||e.isAvalanche||e.isBitKeep||e.isBlockWallet||e.isKuCoinWallet||e.isMathWallet||e.isOkxWallet||e.isOKExWallet||e.isOneInchIOSWallet||e.isOneInchAndroidWallet||e.isOpera||e.isPhantom||e.isPortal||e.isRabby||e.isRainbow||e.isTokenPocket||e.isTokenary||e.isZerion):!1,ze=()=>{var e,t;if("phantom"in window){let o=window;if((t=(e=o==null?void 0:o.phantom)==null?void 0:e.ethereum)!=null&&t.isPhantom)return!0}return!1},qt=()=>{let e=window;if(!e.ethereum)return!1;if(e.ethereum.isCoinbaseWallet)return!0;if(e.ethereum.providers){for(let t of e.ethereum.providers)if(t.isCoinbaseWallet)return!0}return!1};var as=e=>!!String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),ss=e=>(0,is.isPossiblePhoneNumber)(String(e),"US"),ls=(e,t)=>{let o=e.slice(0),r=[];for(;o.length;)r.push(o.splice(0,t));return r},Ro=(e,t=3,o=4)=>{if(!e)return"";let r=2,n=3;if(t+o+r+n>=e.length)return e;let i=e.slice(0,r+t),a=e.slice(e.length-o,e.length);return`${i}...${a}`},wi=e=>new Promise(t=>setTimeout(t,e)),cs=(e,t={})=>{let o=t.delayMs||40,r=t.maxAttempts||1e3;return new Promise(async(n,i)=>{let a=!1,l=0;for(;!a&&l<r;)e().then(()=>{a=!0,n()},(...s)=>{a=!0,i(...s)}),l+=1,await wi(o);a||i(new Error("Exceeded max attempts before resolving function"))})},sn=(e,t,o={})=>{let r=new URL(t,e);for(let[n,i]of Object.entries(o))r.searchParams.set(n,i);return r.href};var Ci=e=>e.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,""),fr=e=>typeof e=="string"?e:"0x"+e.toString(16);async function ds(e=3e3){let t=!1,o=window;return new Promise(r=>{o.ethereum?n():(window.addEventListener("ethereum#initialized",n,{once:!0}),setTimeout(()=>{n()},e));function n(){if(t)return;t=!0,window.removeEventListener("ethereum#initialized",n);let i=[];an()&&i.push("metamask"),ze()&&i.push("phantom"),o.ethereum&&o.ethereum.isBraveWallet&&i.push("brave"),r(i)}})}function Ei(e){return`eip155:${String(Number(e))}`}var lo=e=>{var o;let t=ko.find(r=>r.id===e);if(!t)throw new q(`Unsupported chainId ${e}`,4901);return((o=t.rpcUrls.infura)==null?void 0:o.http[0])+`/${Ao}`};var vs=T(require("@coinbase/wallet-sdk"));var yr=require("react/jsx-runtime"),Ve=({style:e,...t})=>(0,yr.jsxs)("svg",{width:"1024",height:"1024",viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...e},...t,children:[(0,yr.jsx)("rect",{width:"1024",height:"1024",fill:"#0052FF",rx:100,ry:100}),(0,yr.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"})]});var St=require("@ethersproject/address"),_i=require("@ethersproject/providers"),gs=T(require("eventemitter3"));var Ti=require("@ethersproject/providers"),ms=T(require("eventemitter3"));var bd=["eth_sign","eth_populateTransactionRequest","eth_signTransaction","personal_sign","eth_signTypedData_v4"],ps=e=>bd.includes(e);var us=require("@ethersproject/logger");var Io=class extends q{constructor(){super("Wallet timeout");this.type="wallet_error"}},Wo=class extends q{constructor(){super("User rejected connection");this.type="wallet_error"}},ct=e=>{if(e instanceof q)return e;if((e==null?void 0:e.code)&&(e==null?void 0:e.reason)){let t=new No(e);return e.code===us.ErrorCode.ACTION_REJECTED&&(t.details=co.E4001_USER_REJECTED_REQUEST),t}return e!=null&&e.code?new No(e):new q("Unknown connector error",e)},xi=class extends Ze{constructor(o,r,n){super(o);this.type="provider_error";this.code=r,this.data=n}},No=class extends xi{constructor(o){var i,a,l;let r=o;super(r.message,r.code,r.data);let n=Object.values(co).find(s=>s.eipCode===r.code);this.details=n||co.UNKNOWN_ERROR,r.code===-32002&&((i=r.message)!=null&&i.includes("already pending for origin")?(a=r.message)!=null&&a.includes("wallet_requestPermissions")?this.details=co.E32002_CONNECTION_ALREADY_PENDING:this.details=co.E32002_REQUEST_ALREADY_PENDING:(l=r.message)!=null&&l.includes("Already processing")&&r.message.includes("eth_requestAccounts")&&(this.details=co.E32002_WALLET_LOCKED))}},wd={ERROR_USER_EXISTS:{message:"User already exists for this address",detail:"Try another address!",retryable:!1},ERROR_TIMED_OUT:{message:"Wallet request timed out",detail:"Please try connecting again.",retryable:!0},ERROR_WALLET_CONNECTION:{message:"Could not log in with wallet",detail:"Please try connecting again.",retryable:!0},ERROR_USER_REJECTED_CONNECTION:{message:"You rejected the request",detail:"Please try connecting again.",retryable:!0}},Cd={E32002_CONNECTION_ALREADY_PENDING:{eipCode:-32002,message:"Connection request already pending",detail:"Don\u2019t see your wallet modal? Check your other browser windows.",retryable:!1},E32002_REQUEST_ALREADY_PENDING:{eipCode:-32002,message:"Resource request already pending",detail:"Don\u2019t see your wallet modal? Check your other browser windows.",retryable:!1},E32002_WALLET_LOCKED:{eipCode:-32002,message:"Wallet might be locked",detail:"Don\u2019t see your wallet modal? Check your other browser windows.",retryable:!1},E4001_USER_REJECTED_REQUEST:{eipCode:4001,message:"Signature rejected",detail:"Please try signing again.",retryable:!0}},Ed={E4001_DEFAULT_USER_REJECTED_REQUEST:{eipCode:4001,message:"User Rejected Request",detail:"The user rejected the request.",default:!0,retryable:!0},E4100_DEFAULT_UNAUTHORIZED:{eipCode:4100,message:"Unauthorized",detail:"The requested method and/or account has not been authorized by the user.",default:!0,retryable:!1},E4200_DEFAULT_UNSUPPORTED_METHOD:{eipCode:4200,message:"Unsupported Method",detail:"The Provider does not support the requested method.",default:!0,retryable:!1},E4900_DEFAULT_DISCONNECTED:{eipCode:4900,message:"Disconnected",detail:"The Provider is disconnected from all chains.",default:!0,retryable:!0},E4901_DEFAULT_CHAIN_DISCONNECTED:{eipCode:4901,message:"Chain Disconnected",detail:"The Provider is not connected to the requested chain.",default:!0,retryable:!0},E32700_DEFAULT_PARSE_ERROR:{eipCode:-32700,message:"Parse error",detail:"Invalid JSON",default:!0,retryable:!1},E32600_DEFAULT_INVALID_REQUEST:{eipCode:-32600,message:"Invalid request",detail:"JSON is not a valid request object",default:!0,retryable:!1},E32601_DEFAULT_METHOD_NOT_FOUND:{eipCode:-32601,message:"Method not found",detail:"Method does not exist",default:!0,retryable:!1},E32602_DEFAULT_INVALID_PARAMS:{eipCode:-32602,message:"Invalid params",detail:"Invalid method parameters",default:!0,retryable:!1},E32603_DEFAULT_INTERNAL_ERROR:{eipCode:-32603,message:"Internal error",detail:"Internal JSON-RPC error",default:!0,retryable:!0},E32000_DEFAULT_INVALID_INPUT:{eipCode:-32e3,message:"Invalid input",detail:"Missing or invalid parameters",default:!0,retryable:!1},E32001_DEFAULT_RESOURCE_NOT_FOUND:{eipCode:-32001,message:"Resource not found",detail:"Requested resource not found",default:!0,retryable:!1},E32002_DEFAULT_RESOURCE_UNAVAILABLE:{eipCode:-32002,message:"Resource unavailable",detail:"Requested resource not available",default:!0,retryable:!0},E32003_DEFAULT_TRANSACTION_REJECTED:{eipCode:-32003,message:"Transaction rejected",detail:"Transaction creation failed",default:!0,retryable:!0},E32004_DEFAULT_METHOD_NOT_SUPPORTED:{eipCode:-32004,message:"Method not supported",detail:"Method is not implemented",default:!0,retryable:!1},E32005_DEFAULT_LIMIT_EXCEEDED:{eipCode:-32005,message:"Limit exceeded",detail:"Request exceeds defined limit",default:!0,retryable:!1},E32006_DEFAULT_JSON_RPC_VERSION_NOT_SUPPORTED:{eipCode:-32006,message:"JSON-RPC version not supported",detail:"Version of JSON-RPC protocol is not supported",default:!0,retryable:!1}},co={UNKNOWN_ERROR:{eipCode:0,message:"Unknown error",detail:"Unknown error",retryable:!0},...Ed,...Cd},_t={...wd,...co};var xd=12e4,Pi=(e=new Io,t=xd)=>new Promise((o,r)=>setTimeout(()=>{r(e)},t)),X=class{constructor(t){this.removeListener=(t,o)=>{if(this.walletProvider)try{return this.walletProvider.removeListener(t,o)}catch{console.warn("Unable to remove wallet provider listener")}};this.setWalletProvider=t=>{this.walletProvider&&this._subscriptions.forEach(o=>{this.removeListener(o.eventName,o.listener)}),this.walletProvider=t,this._subscriptions.forEach(o=>{var r;(r=this.walletProvider)==null||r.on(o.eventName,o.listener)})};this.walletProvider=t,this._subscriptions=[]}on(t,o){if(this.walletProvider)return this.walletProvider.on(t,o);this._subscriptions.push({eventName:t,listener:o})}async request(t){if(!this.walletProvider)throw new q(`A wallet request of type ${t.method} was made before setting a wallet provider.`);return Promise.race([this.walletProvider.request(t),Pi()]).catch(o=>{throw ct(o)})}},$t=class extends Error{constructor(o,r,n){super(o);this.code=r,this.data=n}},ln=class extends ms.default{constructor(o,r,n=1){super();this.walletProxy=o,this.address=r,this.chainId=n,this.provider=new Ti.JsonRpcProvider(lo(n))}async handleSendTransaction(o){if(!o.params||!Array.isArray(o.params))throw new $t(`Invalid params for ${o.method}`,4200);let r=o.params[0];if(!await At()||!this.address)throw new $t("Disconnected",4900);return(await fs(r)).transactionHash}handleSwitchEthereumChain(o){if(!o.params||!Array.isArray(o.params))throw new $t(`Invalid params for ${o.method}`,4200);let r;if(typeof o.params[0]=="string")r=o.params[0];else if("chainId"in o.params[0]&&typeof o.params[0].chainId=="string")r=o.params[0].chainId;else throw new $t(`Invalid params for ${o.method}`,4200);this.chainId=Number(r),this.provider=new Ti.JsonRpcProvider(lo(this.chainId)),this.emit("chainChanged",r)}async handlePersonalSign(o){if(!o.params||!Array.isArray(o.params))throw new Error("Invalid params for eth_estimateGas");let r=o.params[0];return await hs(r)}async handleEstimateGas(o){if(!o.params||!Array.isArray(o.params))throw new Error("Invalid params for eth_estimateGas");delete o.params[0].gasPrice,delete o.params[0].maxFeePerGas,delete o.params[0].maxPriorityFeePerGas;let r={...o.params[0],chainId:fr(this.chainId)};return this.provider.send("eth_estimateGas",[r])}async request(o){switch(console.debug("Embedded1193Provider.request() called with args",o),o.method){case"eth_accounts":return this.address?[this.address]:[];case"eth_chainId":return fr(this.chainId);case"eth_estimateGas":return this.handleEstimateGas(o);case"eth_sendTransaction":return this.handleSendTransaction(o);case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(o);case"personal_sign":return this.handlePersonalSign(o);default:break}if(ps(o.method)){let r=await At();if(await ys(),!r||!this.address)throw new $t("Disconnected",4900);try{return(await this.walletProxy.rpc({address:this.address,accessToken:r,request:{method:o.method,params:o.params}})).response.data}catch(n){throw console.error(n),new $t("Disconnected",4900)}}else return this.provider.send(o.method,o.params)}async connect(){let o=await At();if(!o||!this.address)return null;try{return(await this.walletProxy.connect({address:this.address,accessToken:o})).address}catch(r){return console.error(r),null}}},et=class extends X{constructor(o){super(o)}},jt=class extends X{constructor(t){super(t)}sendAsync(t,o){throw new Error("sendAsync is no longer supported by EIP-1193. Use the request method instead.")}};var Ae=class extends gs.default{constructor(o){super();this.onAccountsChanged=o=>{o.length===0?this.onDisconnect():this.syncAccounts(o)};this.onChainChanged=o=>{this.wallets.forEach(r=>{r.chainId=Ei(o)}),this.emit("walletsUpdated")};this.onDisconnect=()=>{this.connected=!1,this.wallets=[],this.emit("walletsUpdated")};this.onConnect=()=>{this.connected=!0,this.syncAccounts()};this.wallets=[],this.walletClientType=o,this.connected=!1,this.initialized=!1}buildConnectedWallet(o,r){let n=async()=>!!this.wallets.find(i=>(0,St.getAddress)(i.address)===(0,St.getAddress)(o));return{address:(0,St.getAddress)(o),chainId:r,connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:n,getEthereumProvider:async()=>{if(!await n())throw new q("Wallet is not currently connected.");return this.proxyProvider},getEthersProvider:async()=>{if(!await n())throw new q("Wallet is not currently connected.");return new _i.Web3Provider(new et(this.proxyProvider))},getWeb3jsProvider:async()=>{if(!await n())throw new q("Wallet is not currently connected.");return new jt(this.proxyProvider)},sign:async i=>{if(!await n())throw new q("Wallet is not currently connected.");return await this.sign(i)},disconnect:()=>{this.disconnect()}}}async syncAccounts(o){let r=o;if(r===void 0){let s=await this.proxyProvider.request({method:"eth_accounts"});Array.isArray(s)&&(r=s)}if(!r||!Array.isArray(r)||r.length<=0||!r[0])return;let n=r[0],i=[],a=await this.proxyProvider.request({method:"eth_chainId"}),l=Ei(a);i.find(s=>(0,St.getAddress)(s.address)===(0,St.getAddress)(n))||i.push(this.buildConnectedWallet((0,St.getAddress)(n),l)),cn(i,this.wallets)||(this.wallets=i,this.emit("walletsUpdated"))}async getConnectedWallet(){let o=await this.proxyProvider.request({method:"eth_accounts"});return this.wallets.sort((r,n)=>n.connectedAt-r.connectedAt).find(r=>o.find(n=>(0,St.getAddress)(n)===(0,St.getAddress)(r.address)))||null}async isConnected(){let o=await this.proxyProvider.request({method:"eth_accounts"});return Array.isArray(o)&&o.length>0}async sign(o){return await this.connect({showPrompt:!1}),new _i.Web3Provider(new et(this.proxyProvider)).getSigner().signMessage(o)}subscribeListeners(){this.proxyProvider.on("accountsChanged",this.onAccountsChanged),this.proxyProvider.on("chainChanged",this.onChainChanged),this.proxyProvider.on("disconnect",this.onDisconnect),this.proxyProvider.on("connect",this.onConnect)}unsubscribeListeners(){this.proxyProvider.removeListener("accountsChanged",this.onAccountsChanged),this.proxyProvider.removeListener("chainChanged",this.onChainChanged),this.proxyProvider.removeListener("disconnect",this.onDisconnect),this.proxyProvider.removeListener("connect",this.onConnect)}};var Td=e=>{let t=`https://mainnet.infura.io/v3/${Ao}`,o=1;return e.makeWeb3Provider(t,o)},dn,pn=class extends Ae{constructor(){super("coinbase_wallet");this.connectorType="coinbase_wallet";this.proxyProvider=new X,this.subscribeListeners(),dn||(dn=new vs.default({appName:"Privy",darkMode:!1,headlessMode:!1})),this.proxyProvider.setWalletProvider(Td(dn)),this.syncAccounts().then(()=>{this.emit("initialized"),this.initialized=!0})}async connect(o){return o.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){dn.disconnect()}get walletBranding(){return{name:"Coinbase Wallet",icon:Ve}}async promptConnection(){try{let o=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!o||o.length===0||!o[0])throw new q("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([o[0]])}catch(o){throw ct(o)}}};var Ai=require("react/jsx-runtime"),Lo=({style:e,...t})=>(0,Ai.jsx)("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"1.25rem",width:"1.25rem",...e},...t,children:(0,Ai.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99555 0.929932C-1.12055 1.31799 -0.499722 9.15734 2.17445 8.76915C0.0807959 10.5544 -0.960455 16.6416 6.01654 16.0265C10.6356 15.9489 15.5635 12.2232 15.5635 8.1095C15.5635 2.63748 10.7516 0.929932 7.99555 0.929932ZM9.47052 7.53055C9.47052 8.49933 8.81856 9.28468 8.01433 9.28468C7.2101 9.28468 6.55814 8.49933 6.55814 7.53055C6.55814 6.56176 7.2101 5.77641 8.01433 5.77641C8.81856 5.77641 9.47052 6.56176 9.47052 7.53055ZM12.3171 9.28468C13.1213 9.28468 13.7733 8.49933 13.7733 7.53055C13.7733 6.56176 13.1213 5.77641 12.3171 5.77641C11.5129 5.77641 10.8609 6.56176 10.8609 7.53055C10.8609 8.49933 11.5129 9.28468 12.3171 9.28468Z",fill:t.color||"var(--privy-color-foreground-3)"})});var un=class extends Ae{constructor(o){super("privy");this.connectorType="embedded";this.proxyProvider=o,this.syncAccounts().then(()=>{this.emit("initialized"),this.initialized=!0})}async connect(o){return await this.isConnected()?(await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[fr((o==null?void 0:o.chainId)||"0x1")]}),this.getConnectedWallet()):null}get walletBranding(){return{name:"Privy Wallet",icon:Lo}}disconnect(){this.connected=!1}async promptConnection(){}};var Pd=require("@ethersproject/address"),_d=require("@ethersproject/providers"),bs=require("react-device-detect");var ye=require("react/jsx-runtime"),ge=({style:e,...t})=>(0,ye.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",x:0,y:0,viewBox:"0 0 318.6 318.6",width:"28",height:"28",style:{height:"28px",width:"28px",...e},...t,children:[(0,ye.jsx)("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),(0,ye.jsx)("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),(0,ye.jsx)("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),(0,ye.jsx)("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),(0,ye.jsx)("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),(0,ye.jsx)("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),(0,ye.jsx)("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),(0,ye.jsx)("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),(0,ye.jsx)("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),(0,ye.jsx)("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),(0,ye.jsx)("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),(0,ye.jsx)("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),(0,ye.jsx)("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]});var mn=class extends Ae{constructor(){super("metamask");this.connectorType="injected";this.proxyProvider=new X,this.subscribeListeners();let o=window,r=o.ethereum,n=o.ethereum.providers||[];for(let i of n)if(i.isMetaMask){r=i;break}this.proxyProvider.setWalletProvider(r),this.syncAccounts().then(()=>{this.emit("initialized"),this.initialized=!0})}async connect(o){return o.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return{name:"MetaMask",icon:ge}}disconnect(){console.warn("Metamask does not support programmatic disconnect.")}async promptConnection(){try{!bs.isMobile&&an()&&await this.proxyProvider.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});let o=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!o||o.length===0||!o[0])throw new q("Unable to retrieve accounts");await this.syncAccounts([o[0]])}catch(o){throw ct(o)}}};var qe=require("react/jsx-runtime"),dt=({style:e,...t})=>(0,qe.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...e},...t,children:[(0,qe.jsx)("rect",{width:"28",height:"28",rx:"6",fill:"url(#paint0_linear_1765_9937)"}),(0,qe.jsx)("path",{d:"M24.0223 14.1704H21.5542C21.5542 9.14083 17.4627 5.06372 12.4151 5.06372C7.43008 5.06372 3.37717 9.04101 3.27798 13.9845C3.17536 19.0945 7.98653 23.5318 13.1154 23.5318H13.7605C18.2822 23.5318 24.3426 20.0047 25.2895 15.7072C25.4643 14.9151 24.8364 14.1704 24.0223 14.1704ZM8.74752 14.3945C8.74752 15.0671 8.19544 15.6172 7.52045 15.6172C6.84545 15.6172 6.29341 15.0669 6.29341 14.3945V12.4165C6.29341 11.7439 6.84545 11.1938 7.52045 11.1938C8.19544 11.1938 8.74752 11.7439 8.74752 12.4165V14.3945ZM13.0083 14.3945C13.0083 15.0671 12.4563 15.6172 11.7813 15.6172C11.1063 15.6172 10.5543 15.0669 10.5543 14.3945V12.4165C10.5543 11.7439 11.1065 11.1938 11.7813 11.1938C12.4563 11.1938 13.0083 11.7439 13.0083 12.4165V14.3945Z",fill:"url(#paint1_linear_1765_9937)"}),(0,qe.jsxs)("defs",{children:[(0,qe.jsxs)("linearGradient",{id:"paint0_linear_1765_9937",x1:"14",y1:"0",x2:"14",y2:"28",gradientUnits:"userSpaceOnUse",children:[(0,qe.jsx)("stop",{stopColor:"#534BB1"}),(0,qe.jsx)("stop",{offset:"1",stopColor:"#551BF9"})]}),(0,qe.jsxs)("linearGradient",{id:"paint1_linear_1765_9937",x1:"14.2976",y1:"5.06372",x2:"14.2976",y2:"23.5318",gradientUnits:"userSpaceOnUse",children:[(0,qe.jsx)("stop",{stopColor:"white"}),(0,qe.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0.82"})]})]})]});var hn=class extends Ae{constructor(){super("phantom");this.connectorType="injected";this.proxyProvider=new X,this.subscribeListeners(),this.proxyProvider.setWalletProvider(window.phantom.ethereum),this.syncAccounts().then(()=>{this.emit("initialized"),this.initialized=!0})}async connect(o){return o.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return{name:"Phantom",icon:dt}}disconnect(){console.warn("Phantom does not support programmatic disconnect.")}async promptConnection(){try{let o=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!o||o.length===0||!o[0])throw new q("Unable to retrieve accounts");await this.syncAccounts([o[0]])}catch(o){throw ct(o)}}};var Oo=require("@walletconnect/ethereum-provider"),gn=T(require("@walletconnect/qrcode-modal")),vn=require("react-device-detect");var tt=require("react");var Cs=require("react/jsx-runtime");function ws(e){return(0,Cs.jsx)("link",{rel:"prefetch",href:e.src})}var fn=require("react/jsx-runtime"),kt="LANDING",Es=(0,tt.createContext)({ready:!1,app:null,currentScreen:kt,lastScreen:kt,navigate:P,navigateBack:P,setModalData:P}),xs=e=>{var h,C,b;let t=e.appConfig,o=e.authenticated,r=e.visible,[n,i]=(0,tt.useState)(e.initialScreen||kt),[a,l]=(0,tt.useState)(e.initialScreen||kt);(0,tt.useEffect)(()=>{o||i(kt)},[o]),(0,tt.useEffect)(()=>{r||(l(kt),i(kt))},[r]),(0,tt.useEffect)(()=>{e.initialScreen&&n===kt&&(i(e.initialScreen),l(e.initialScreen))},[e.initialScreen]);let s=e.initialScreen&&n===kt?e.initialScreen:n,u={ready:!!(t!=null&&t.id),app:t,data:e.data,setModalData:e.setModalData,currentScreen:s,lastScreen:a,navigate:p=>{l(n),i(p)},navigateBack:()=>{i(a)}};return(0,fn.jsxs)(Es.Provider,{value:u,children:[(typeof((h=t==null?void 0:t.appearance)==null?void 0:h.logo)=="string"||((b=(C=t==null?void 0:t.appearance)==null?void 0:C.logo)==null?void 0:b.type)==="img")&&(0,fn.jsx)(ws,{src:typeof t.appearance.logo=="string"?t.appearance.logo:t.appearance.logo.props.src}),e.children]})},w=()=>(0,tt.useContext)(Es);var Rt=require("react/jsx-runtime"),Mo=({style:e,...t})=>{let{app:o}=w();return(0,Rt.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...e},...t,children:[(0,Rt.jsx)("rect",{width:"28",height:"28",rx:"3",fill:(o==null?void 0:o.appearance.palette.colorScheme)==="dark"?"#3396ff":"#141414"}),(0,Rt.jsx)("g",{clipPath:"url(#clip0_1765_9946)",children:(0,Rt.jsx)("path",{d:"M8.09448 10.3941C11.3558 7.20196 16.6442 7.20196 19.9055 10.3941L20.2982 10.7782C20.3369 10.8157 20.3677 10.8606 20.3887 10.9102C20.4097 10.9599 20.4206 11.0132 20.4206 11.0671C20.4206 11.121 20.4097 11.1744 20.3887 11.224C20.3677 11.2737 20.3369 11.3186 20.2982 11.3561L18.9554 12.6702C18.9158 12.7086 18.8628 12.7301 18.8077 12.7301C18.7526 12.7301 18.6996 12.7086 18.66 12.6702L18.1198 12.1415C15.8448 9.91503 12.1557 9.91503 9.88015 12.1415L9.30167 12.7075C9.26207 12.7459 9.20909 12.7673 9.15395 12.7673C9.0988 12.7673 9.04582 12.7459 9.00622 12.7075L7.66346 11.3934C7.62475 11.3559 7.59397 11.3109 7.57295 11.2613C7.55193 11.2117 7.5411 11.1583 7.5411 11.1044C7.5411 11.0505 7.55193 10.9971 7.57295 10.9475C7.59397 10.8979 7.62475 10.8529 7.66346 10.8154L8.09448 10.3941ZM22.6829 13.1115L23.8776 14.2814C23.9163 14.319 23.9471 14.3639 23.9681 14.4135C23.9892 14.4632 24 14.5165 24 14.5704C24 14.6243 23.9892 14.6777 23.9681 14.7273C23.9471 14.777 23.9163 14.8219 23.8776 14.8594L18.4893 20.1332C18.4102 20.2101 18.3042 20.2531 18.1938 20.2531C18.0835 20.2531 17.9775 20.2101 17.8984 20.1332L14.0743 16.3901C14.0545 16.3708 14.0279 16.36 14.0003 16.36C13.9726 16.36 13.9461 16.3708 13.9263 16.3901L10.1021 20.1332C10.023 20.2101 9.91703 20.2531 9.8067 20.2531C9.69636 20.2531 9.59038 20.2101 9.51124 20.1332L4.12236 14.8594C4.08365 14.8219 4.05287 14.777 4.03185 14.7273C4.01083 14.6777 4 14.6243 4 14.5704C4 14.5165 4.01083 14.4632 4.03185 14.4135C4.05287 14.3639 4.08365 14.319 4.12236 14.2814L5.31767 13.1115C5.39678 13.0348 5.50265 12.9919 5.61285 12.9919C5.72305 12.9919 5.82892 13.0348 5.90803 13.1115L9.73216 16.8546C9.75194 16.874 9.7785 16.8848 9.80616 16.8848C9.83381 16.8848 9.86037 16.874 9.88015 16.8546L13.7043 13.1115C13.7834 13.0346 13.8894 12.9916 13.9997 12.9916C14.1101 12.9916 14.216 13.0346 14.2952 13.1115L18.1198 16.8546C18.1396 16.874 18.1662 16.8848 18.1938 16.8848C18.2215 16.8848 18.2481 16.874 18.2678 16.8546L22.092 13.1115C22.1711 13.0346 22.2771 12.9916 22.3874 12.9916C22.4977 12.9916 22.6037 13.0346 22.6829 13.1115Z",fill:"white"})}),(0,Rt.jsx)("defs",{children:(0,Rt.jsx)("clipPath",{id:"clip0_1765_9946",children:(0,Rt.jsx)("rect",{width:"20",height:"12.2531",fill:"white",transform:"translate(4 8)"})})})]})};var po=require("react-device-detect");var yn=e=>{let t;try{t=new URL(e).hostname}catch{return}for(let[o,r]of Object.entries(Ps))if(r.hostname===t)return{walletClientType:o,entry:r}};var Ps={metamask:{id:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",displayName:"MetaMask",image_id:"5195e9db-94d8-4579-6f11-ef553be95100",hostname:"metamask.io",mobile:{native:"metamask:"}},trust:{id:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",displayName:"Trust",image_id:"0528ee7e-16d1-4089-21e3-bbfb41933100",hostname:"trustwallet.com",mobile:{universal:"https://link.trustwallet.com"}},safe:{id:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",displayName:"Safe",image_id:"a1cb2777-f8f9-49b0-53fd-443d20ee0b00",hostname:"safe.global",mobile:{universal:"https://app.safe.global/"}},rainbow:{id:"1ae92b26df02f0abca6304df07debccd18262fdf5fe82daa81593582dac9a369",displayName:"Rainbow",image_id:"7a33d7f1-3d12-4b5c-f3ee-5cd83cb1b500",hostname:"rainbow.me",mobile:{universal:"https://rnbwapp.com"}},uniswap:{id:"c03dfee351b6fcc421b4494ea33b9d4b92a984f87aa76d1663bb28705e95034a",displayName:"Uniswap",image_id:"bff9cf1f-df19-42ce-f62a-87f04df13c00",hostname:"uniswap.org",mobile:{universal:"https://uniswap.org/app"}},zerion:{id:"ecc4036f814562b41a5268adc86270fba1365471402006302e70169465b7ac18",displayName:"Zerion",image_id:"f216b371-96cf-409a-9d88-296392b85800",hostname:"zerion.io",mobile:{universal:"https://wallet.zerion.io"}},argent:{id:"bc949c5d968ae81310268bf9193f9c9fb7bb4e1283e1284af8f2bd4992535fd6",displayName:"Argent",image_id:"215158d2-614b-49c9-410f-77aa661c3900",hostname:"www.argent.xyz",mobile:{universal:"https://www.argent.xyz/app"}},spot:{id:"74f8092562bd79675e276d8b2062a83601a4106d30202f2d509195e30e19673d",displayName:"Spot",image_id:"1bf33a89-b049-4a1c-d1f6-4dd7419ee400",hostname:"www.spot-wallet.com",mobile:{universal:"https://spot.so"}},omni:{id:"afbd95522f4041c71dd4f1a065f971fd32372865b416f95a0b1db759ae33f2a7",displayName:"Omni",image_id:"2cd67b4c-282b-4809-e7c0-a88cd5116f00",hostname:"omni.app",mobile:{universal:"https://links.omni.app"}},cryptocom:{id:"f2436c67184f158d1beda5df53298ee84abfc367581e4505134b5bcf5f46697d",displayName:"Crypto.com",image_id:"7c5ff577-a68d-49c5-02cd-3d83637b0b00",hostname:"crypto.com",mobile:{universal:"https://wallet.crypto.com"}},blockchain:{id:"84b43e8ddfcd18e5fcb5d21e7277733f9cccef76f7d92c836d0e481db0c70c04",displayName:"Blockchain",image_id:"6f913b80-86c0-46f9-61ca-cc90a1805900",hostname:"www.blockchain.com",mobile:{universal:"https://www.blockchain.com"}},safepal:{id:"0b415a746fb9ee99cce155c2ceca0c6f6061b1dbca2d722b3ba16381d0562150",displayName:"SafePal",image_id:"252753e7-b783-4e03-7f77-d39864530900",hostname:"safepal.com",mobile:{universal:"https://link.safepal.io"}},bitkeep:{id:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",displayName:"BitKeep",image_id:"3f7075d0-4ab7-4db5-404d-3e4c05e6fe00",hostname:"bitkeep.com",mobile:{universal:"https://bkapp.vip"}},zengo:{id:"9414d5a85c8f4eabc1b5b15ebe0cd399e1a2a9d35643ab0ad22a6e4a32f596f0",displayName:"ZenGo",image_id:"cfc07342-23ea-4f3f-f071-ec9d2cd86b00",hostname:"zengo.com",mobile:{universal:"https://get.zengo.com/"}},"1inch":{id:"c286eebc742a537cd1d6818363e9dc53b21759a1e8e5d9b263d0c03ec7703576",displayName:"1inch",image_id:"52b1da3c-9e72-40ae-5dac-6142addd9c00",hostname:"wallet.1inch.io",mobile:{universal:"https://wallet.1inch.io/wc/"}},binance:{id:"8a0ee50d1f22f6651afcae7eb4253e52a3310b90af5daef78a8c4929a9bb99d4",displayName:"Binance",image_id:"ebac7b39-688c-41e3-7912-a4fefba74600",hostname:"www.binance.com",mobile:{universal:"https://app.binance.com/cedefi"}},exodus:{id:"e9ff15be73584489ca4a66f64d32c4537711797e30b6660dbcb71ea72a42b1f4",displayName:"Exodus",image_id:"4c16cad4-cac9-4643-6726-c696efaf5200",hostname:"exodus.com",mobile:{universal:"https://exodus.com/m"}},mew_wallet:{id:"f5b4eeb6015d66be3f5940a895cbaa49ef3439e518cd771270e6b553b48f31d2",displayName:"MEW wallet",image_id:"e2024511-2c9b-46d7-3111-52df3d241700",hostname:"mewwallet.com",mobile:{universal:"https://mewwallet.com"}},alphawallet:{id:"138f51c8d00ac7b9ac9d8dc75344d096a7dfe370a568aa167eabc0a21830ed98",displayName:"AlphaWallet",image_id:"5b1cddfb-056e-4e78-029a-54de5d70c500",hostname:"alphawallet.com",mobile:{universal:"https://aw.app"}},keyring_pro:{id:"47bb07617af518642f3413a201ec5859faa63acb1dd175ca95085d35d38afb83",displayName:"KEYRING PRO",image_id:"dda0f0fb-34e8-4a57-dcea-b008e7d1ff00",hostname:"keyring.app",mobile:{universal:"https://keyring.app/"}},mathwallet:{id:"7674bb4e353bf52886768a3ddc2a4562ce2f4191c80831291218ebd90f5f5e26",displayName:"MathWallet",image_id:"26a8f588-3231-4411-60ce-5bb6b805a700",hostname:"mathwallet.org",mobile:{universal:"https://www.mathwallet.org"}},unstoppable:{id:"8308656f4548bb81b3508afe355cfbb7f0cb6253d1cc7f998080601f838ecee3",displayName:"Unstoppable",image_id:"4725dda0-4471-4d0f-7adf-6bbe8b929c00",hostname:"unstoppabledomains.com",mobile:{universal:"https://unstoppabledomains.com/mobile"}},obvious:{id:"031f0187049b7f96c6f039d1c9c8138ff7a17fd75d38b34350c7182232cc29aa",displayName:"Obvious",image_id:"61abe2ca-b06d-4a8b-de3e-8326f523e900",hostname:"obvious.technology",mobile:{universal:"https://wallet.obvious.technology"}},ambire:{id:"2c81da3add65899baeac53758a07e652eea46dbb5195b8074772c62a77bbf568",displayName:"Ambire",image_id:"c39b3a16-1a38-4588-f089-cb7aeb584700",hostname:"www.ambire.com",mobile:{universal:"https://mobile.ambire.com"}},internet_money_wallet:{id:"dd43441a6368ec9046540c46c5fdc58f79926d17ce61a176444568ca7c970dcd",displayName:"Internet Money Wallet",image_id:"204b2240-5ce4-4996-6ec4-f06a22726900",hostname:"internetmoney.io",mobile:{universal:"https://internetmoney.io"}},coin98:{id:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",displayName:"Coin98",image_id:"fc460647-ea95-447a-99f0-1bff8fa4be00",hostname:"coin98.com",mobile:{universal:"https://coin98.services"}},abc_wallet:{id:"b956da9052132e3dabdcd78feb596d5194c99b7345d8c4bd7a47cabdcb69a25f",displayName:"ABC Wallet",image_id:"f9854c79-14ba-4987-42e1-4a82abbf5700",hostname:"myabcwallet.io",mobile:{universal:"https://abcwalletconnect.page.link"}},arculus_wallet:{id:"0e4915107da5b3408b38e248f7a710f4529d54cd30e9d12ff0eb886d45c18e92",displayName:"Arculus Wallet",image_id:"f78dab27-7165-4a3d-fdb1-fcff06c0a700",hostname:"www.getarculus.com",mobile:{universal:"https://gw.arculus.co/app"}},haha:{id:"719bd888109f5e8dd23419b20e749900ce4d2fc6858cf588395f19c82fd036b3",displayName:"HaHa",image_id:"79285c9f-2630-451e-0680-c71b42fb7400",hostname:"www.haha.me",mobile:{universal:"https://haha.me"}},cling_wallet:{id:"942d0e22a7e6b520b0a03abcafc4dbe156a1fc151876e3c4a842f914277278ef",displayName:"Cling Wallet",image_id:"2d8006c3-852b-458a-d6b0-916c5ba76800",hostname:"clingon.io",mobile:{universal:"https://cling.carrieverse.com/apple-app-site-association"}},broearn:{id:"8ff6eccefefa7506339201bc33346f92a43118d6ff7d6e71d499d8187a1c56a2",displayName:"Broearn",image_id:"339b9e9d-e2a7-46eb-4ed3-272321257a00",hostname:"www.broearn.com",mobile:{universal:"https://www.broearn.com/link/wallet/"}},copiosa:{id:"07f99a5d9849bb049d74830012b286f8b238e72b0337933ef22b84947409db80",displayName:"Copiosa",image_id:"cae1be94-9f53-4eba-b915-f6e381d5a500",hostname:"copiosa.io",mobile:{universal:"https://copiosa.io/action/"}},burrito_wallet:{id:"8821748c25de9dbc4f72a691b25a6ddad9d7df12fa23333fd9c8b5fdc14cc819",displayName:"Burrito Wallet",image_id:"7eec7187-3f48-4fda-53bb-b0ad55749a00",hostname:"burritowallet.com",mobile:{universal:"https://burritowallet.com/wc?uri="}},enjin_wallet:{id:"bdc9433ffdaee55d31737d83b931caa1f17e30666f5b8e03eea794bac960eb4a",displayName:"Enjin Wallet",image_id:"add9626b-a5fa-4c12-178c-e5584e6dcd00",hostname:"enjin.io",mobile:{universal:"https://deeplink.wallet.enjin.io/"}},plasma_wallet:{id:"cbe13eb482c76f1fa401ff4c84d9acd0b8bc9af311ca0620a0b192fb28359b4e",displayName:"Plasma Wallet",image_id:"c268e78d-ffb0-4c8b-5cad-04c3add48500",hostname:"plasma-wallet.com",mobile:{universal:"https://plasma-wallet.com"}},avacus:{id:"94f785c0c8fb8c4f38cd9cd704416430bcaa2137f27e1468782d624bcd155a43",displayName:"Avacus",image_id:"a7106965-91cc-4a73-4688-c5c72ae0ed00",hostname:"avacus.cc",mobile:{universal:"https://avacus.app.link"}},bee:{id:"2cca8c1b0bea04ba37dee4017991d348cdb7b826804ab2bd31073254f345b715",displayName:"Bee",image_id:"f90bc33f-f085-40cf-7538-fae5ae84f900",hostname:"www.beewallet.app",mobile:{universal:"https://beewallet.app/wc"}},pitaka:{id:"14e5d957c6eb62d3ee8fc6239703ac2d537d7e3552154836ca0beef775f630bc",displayName:"Pitaka",image_id:"691c0716-5213-4b99-e837-079268313800",hostname:"pitaka.io",mobile:{universal:"https://app.pitaka.io"}},pltwallet:{id:"576c90ceaea34f29ff0104837cf2b2e23d201be43be1433feeb18d375430e1fd",displayName:"PLTwallet",image_id:"a5d9dd15-8cef-42de-8bed-09e01a8b0200",hostname:"pltwallet.io",mobile:{universal:"https://pltwallet.io/"}},minerva:{id:"49bb9d698dbdf2c3d4627d66f99dd9fe90bba1eec84b143f56c64a51473c60bd",displayName:"Minerva",image_id:"b57b2163-1bd8-4f6b-3311-470767e6d200",hostname:"minerva.digital",mobile:{universal:"https://minerva.digital"}},kryptogo:{id:"19418ecfd44963883e4d6abca1adeb2036f3b5ffb9bee0ec61f267a9641f878b",displayName:"KryptoGO",image_id:"3ccbd966-97e8-45a0-1ceb-6141a8978e00",hostname:"kryptogo.com",mobile:{universal:"https://kryptogo.page.link"}},prema:{id:"5b8e33346dfb2a532748c247876db8d596734da8977905a27b947ba1e2cf465b",displayName:"PREMA",image_id:"6487869b-1165-4f30-aa3a-115665be8300",hostname:"premanft.com",mobile:{universal:"https://premanft.com"}},slingshot:{id:"d23de318f0f56038c5edb730a083216ff0cce00c1514e619ab32231cc9ec484b",displayName:"Slingshot",image_id:"10c75467-6612-48ad-b97b-63985e922200",hostname:"slingshot.finance",mobile:{universal:"https://app.slingshot.finance"}},kriptonio:{id:"50df7da345f84e5a79aaf617df5167335a4b6751626df2e8a38f07029b3dde7b",displayName:"Kriptonio",image_id:"363fae03-882a-4d81-a721-6e6f6e9ac500",hostname:"kriptonio.com",mobile:{universal:"https://app.kriptonio.com/mobile"}},timeless:{id:"9751385960bca290c13b443155288f892f62ee920337eda8c5a8874135daaea8",displayName:"Timeless",image_id:"32e89601-0490-42fc-0cc4-8627d62a2000",hostname:"timelesswallet.xyz",mobile:{universal:"https://timelesswallet.xyz"}},secux:{id:"6464873279d46030c0b6b005b33da6be5ed57a752be3ef1f857dc10eaf8028aa",displayName:"SecuX",image_id:"98183be0-3125-45ee-a6b6-fbd47ebefd00",hostname:"secuxtech.com",mobile:{universal:"https://wsweb.secuxtech.com"}},bitizen:{id:"41f20106359ff63cf732adf1f7dc1a157176c9b02fd266b50da6dcc1e9b86071",displayName:"Bitizen",image_id:"75dd1471-77e9-4811-ce57-ec8fc980ec00",hostname:"bitizen.org",mobile:{universal:"https://bitizen.org/wallet"}},blocto:{id:"14e7176536cb3706e221daaa3cfd7b88b7da8c7dfb64d1d241044164802c6bdd",displayName:"Blocto",image_id:"374258d3-c749-4f37-7815-77e61f798c00",hostname:"blocto.io",mobile:{universal:"https://blocto.app"}},safemoon:{id:"a0e04f1086aac204d4ebdd5f985c12ed226cd0006323fd8143715f9324da58d1",displayName:"SafeMoon",image_id:"ea0140c7-787c-43a4-838f-d5ab6a342000",hostname:"safemoon.com",mobile:{universal:"https://safemoon.com/wc"}}},_s=(e,t="md")=>`https://registry.walletconnect.com/v2/logo/${t}/${e}`;function Si(e){return{name:e.displayName||"",universalLink:e.mobile.universal||"",deepLink:e.mobile.native||""}}function Ad(e){let t="mobile";return Object.values(e).filter(o=>!!o[t].universal||!!o[t].native).map(o=>Si(o))}function As(){return Ad(Ps)}function Ss(e,t){let o=encodeURIComponent(e);return t.universalLink?`${t.universalLink}/wc?uri=${o}`:t.deepLink?`${t.deepLink}${t.deepLink.endsWith(":")?"//":"/"}wc?uri=${e}`:""}function ks(e,t){return po.isAndroid?e:Ss(e,Si(t))}var Rs="WALLETCONNECT_DEEPLINK_CHOICE";function Ts(e){let t=e.href.split("?")[0];J.put(Rs,{...e,href:t})}var gr=(e,t)=>{if(!e||po.isDesktop){J.del(Rs);return}if(po.isAndroid){Ts({name:"Unknown",href:t||"wc:"});return}else if(po.isMobileOnly){let o=Ss(t||"wc:",Si(e));Ts({name:(e==null?void 0:e.displayName)||"",href:o})}};var vr=class extends Ae{constructor(o,r){super(r||"unknown");this.connectorType="wallet_connect_v2";this.walletConnectCloudProjectId=o,this.proxyProvider=new X,this.createProvider().then(n=>{var i,a;if(this.provider=n,this.proxyProvider.setWalletProvider(n),this.subscribeListeners(),n.session){if((i=this.walletProvider.session)!=null&&i.peer.metadata.url){let l=yn((a=this.walletProvider.session)==null?void 0:a.peer.metadata.url);this.walletEntry=l==null?void 0:l.entry,this.walletClientType=(l==null?void 0:l.walletClientType)||"unknown",gr(this.walletEntry)}this.connected=!0,this.syncAccounts().then(()=>{this.emit("initialized"),this.initialized=!0})}else this.emit("initialized"),this.initialized=!0})}async connect(o){return o.showPrompt&&await this.promptConnection(),this.getConnectedWallet()}async isConnected(){return this.walletProvider.connected}get walletBranding(){var o,r,n;return this.walletEntry?{name:this.walletEntry.displayName,icon:this.walletClientType==="metamask"?ge:_s(this.walletEntry.image_id)}:{name:Ci(((o=this.walletProvider.session)==null?void 0:o.peer.metadata.name)||"")||"WalletConnect",icon:((n=(r=this.walletProvider.session)==null?void 0:r.peer.metadata.icons)==null?void 0:n[0])||Mo}}resetConnection(){this.walletProvider&&this.walletProvider.connected&&(this.walletProvider.signer.session=void 0,this.walletEntry=void 0,gr(void 0),this.onDisconnect())}async promptConnection(){if(!!this.provider)return new Promise((o,r)=>{let n=()=>{r(new Wo)};this.onQrModalClosed=n,(async()=>{var s,u;let a="",l=await Promise.race([this.walletProvider.enable(),Pi()]);if(l.length>0&&(a=l[0]),!a||a==="")throw new q("Unable to retrieve address");if((s=this.walletProvider.session)!=null&&s.peer.metadata.url){let h=yn((u=this.walletProvider.session)==null?void 0:u.peer.metadata.url);this.walletEntry=h==null?void 0:h.entry,this.walletClientType=(h==null?void 0:h.walletClientType)||"unknown"}this.connected=!0,await this.syncAccounts(l),o()})().catch(a=>{if(a){r(ct(a));return}r(new q("Unknown error during connection"))}).finally(()=>gn.default.close())})}disconnect(){this.walletProvider.disconnect().then(()=>this.onDisconnect()).catch(()=>console.warn("Unable to disconnect Wallet Connect provider"))}get walletProvider(){return this.proxyProvider.walletProvider}setWalletProvider(o){this.proxyProvider.setWalletProvider(o)}async createProvider(){var n,i;let o={};for(let a of ko){let l=(i=(n=a.rpcUrls.infura)==null?void 0:n.http)==null?void 0:i[0];l&&(o[a.id]=l+"/"+Ao)}let r=await Oo.EthereumProvider.init({projectId:this.walletConnectCloudProjectId,chains:[1],optionalChains:ko.map(a=>a.id),optionalEvents:Oo.OPTIONAL_EVENTS,optionalMethods:Oo.OPTIONAL_METHODS,rpcMap:o,showQrModal:!1});return r.on("display_uri",a=>{if(vn.isAndroid)window.open(a,"_self");else if(vn.isMobile&&this.walletEntry){gr(this.walletEntry,a);let s=ks(a,this.walletEntry);window.open(s,"_self","noopener,noreferrer")}else gn.default.open(a,()=>{this.onQrModalClosed&&this.onQrModalClosed()},{mobileLinks:As().map(l=>l.name)})}),r.on("connect",()=>{var a,l;if(gn.default.close(),(a=r.session)!=null&&a.peer.metadata.url){let s=yn((l=r.session)==null?void 0:l.peer.metadata.url);this.walletEntry=s==null?void 0:s.entry,this.walletClientType=(s==null?void 0:s.walletClientType)||"unknown",gr(this.walletEntry)}}),r}async enableProvider(){return this.walletProvider.connected?Promise.resolve(this.walletProvider.accounts):await this.walletProvider.enable()}};var Ri=e=>{let t=localStorage.getItem("-walletlink:https://www.walletlink.org:Addresses");return t?!!(e==null?void 0:e.linkedAccounts.filter(r=>r.type=="wallet"&&r.address===(0,ki.getAddress)(t)).length):!1},Do=class extends Is.default{constructor(o){super();this.getEthereumProvider=()=>{let o=this.wallets[0],r=this.walletConnectors.find(n=>n.wallets.find(i=>i.address===(o==null?void 0:o.address)));return!o||!r?new X:r.proxyProvider};this.walletConnectCloudProjectId=o,this.walletConnectors=[],this.initialized=!1,this.storedConnections=this.loadConnectionHistory()}get wallets(){let o=new Set,r=this.walletConnectors.flatMap(i=>i.wallets).sort((i,a)=>i.connectedAt&&a.connectedAt?a.connectedAt-i.connectedAt:0).filter(i=>{let a=`${i.address}${i.walletClientType}${i.connectorType}`;return o.has(a)?!1:(o.add(a),!0)}),n=r.findIndex(i=>i.address===(this.activeWallet?this.activeWallet:"unknown"));return n>=0&&r.unshift(r.splice(n,1)[0]),r}initialize(){this.initialized||(J.get(yi)&&(J.getKeys().forEach(o=>{o.startsWith("walletconnect")&&J.del(o)}),J.del(yi)),ds().then(o=>o.forEach(r=>{switch(r){case"metamask":this.createWalletConnector("injected","metamask");break;case"phantom":this.createWalletConnector("injected","phantom");break;case"unknown":default:break}})),(qt()||J.getKeys().find(o=>o.startsWith("-walletlink")))&&this.createWalletConnector("coinbase_wallet","coinbase_wallet"),this.createWalletConnector("wallet_connect_v2","unknown"),this.initialized=!0)}findWalletConnector(o,r){return o==="wallet_connect_v2"?this.walletConnectors.find(n=>n.connectorType===o)||null:this.walletConnectors.find(n=>n.connectorType===o&&n.walletClientType===r)||null}onInitialized(o){o.wallets.forEach(r=>{let n=this.storedConnections.find(i=>i.address===r.address&&i.connectorType===r.connectorType&&i.walletClientType===r.walletClientType);n&&(r.connectedAt=n.connectedAt)}),this.saveConnectionHistory(),this.emit("walletsUpdated")}onWalletsUpdated(o){o.initialized&&(this.saveConnectionHistory(),this.emit("walletsUpdated"))}addEmbeddedWalletConnector(o,r){if(!this.findWalletConnector("embedded","privy")){let i=new ln(o,r),a=new un(i);this.addWalletConnector(a)}}removeEmbeddedWalletConnector(){let o=this.findWalletConnector("embedded","privy");if(o){let r=this.walletConnectors.indexOf(o);this.walletConnectors.splice(r,1),this.saveConnectionHistory(),this.emit("walletsUpdated")}}async createWalletConnector(o,r){let n=this.findWalletConnector(o,r);if(n)return n instanceof vr&&n.resetConnection(),n;let a=(()=>{switch(o){case"injected":switch(r){case"phantom":return ze()?new hn:null;case"metamask":default:return hr()?new mn:null}case"coinbase_wallet":return new pn;case"wallet_connect_v2":return new vr(this.walletConnectCloudProjectId)}})();return a&&this.addWalletConnector(a),a||null}addWalletConnector(o){this.walletConnectors.push(o),o.on("initialized",()=>this.onInitialized(o)),o.on("walletsUpdated",()=>this.onWalletsUpdated(o))}loadConnectionHistory(){let o=a=>a&&typeof a.address=="string"&&typeof a.connectorType=="string"&&typeof a.walletClientType=="string"&&typeof a.connectedAt=="number",r=J.get(gi);return r&&Array.isArray(r)&&r.map(a=>o(a)).every(Boolean)?r:[]}saveConnectionHistory(){let o=this.wallets.map(r=>({address:r.address,connectorType:r.connectorType,walletClientType:r.walletClientType,connectedAt:r.connectedAt}));J.put(gi,o)}async activeWalletSign(o){let r=this.wallets,n=r.length>0?r[0]:null;return n?n.sign(o):null}setActiveWallet(o){this.activeWallet=(0,ki.getAddress)(o),this.emit("walletsUpdated")}};function cn(e,t){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let r=e[o],n=t[o];if((r==null?void 0:r.address)!==(n==null?void 0:n.address)||(r==null?void 0:r.chainId)!==(n==null?void 0:n.chainId)||(r==null?void 0:r.connectorType)!==(n==null?void 0:n.connectorType)||(r==null?void 0:r.connectedAt)!==(n==null?void 0:n.connectedAt)||(r==null?void 0:r.walletClientType)!==(n==null?void 0:n.walletClientType)||(r==null?void 0:r.isConnected)!==(n==null?void 0:n.isConnected)||(r==null?void 0:r.linked)!==(n==null?void 0:n.linked))return!1}return!0}var Ws=require("ofetch");var Sd=[Xr(),en()],kd=e=>{let t=new AbortController;return setTimeout(()=>t.abort(),e),t.signal},bn=class{constructor(t,o,r){this.appId=t,this.sdkVersion=on,this.client=o,this.defaults=r,this.fallbackApiUrl=o.fallbackApiUrl,this.baseFetch=Ws.ofetch.create({baseURL:this.defaults.baseURL,retry:3,credentials:"include",onRequest:async({request:n,options:i})=>{let a=new Headers(i.headers);a.set("privy-app-id",this.appId),a.set("privy-client",`react-auth:${this.sdkVersion}`);let l=!Sd.includes(n.toString());if(!a.has("authorization")&&l){let s=await this.client.getAccessToken();s!==null&&a.set("authorization",`Bearer ${s}`)}i.headers=a,i.signal||(i.signal=kd(this.defaults.timeout))},onRequestError:({error:n})=>{if(n instanceof DOMException&&n.name==="AbortError")throw new Jr}})}async get(t,o){try{return await this.baseFetch(t,o)}catch(r){throw se(r)}}async post(t,o,r){try{return await this.baseFetch(t,{method:"POST",...o?{body:o}:{},...r})}catch(n){throw se(n)}}async delete(t,o){try{return await this.baseFetch(t,{method:"DELETE",...o})}catch(r){throw se(r)}}};var br=T(require("js-cookie"));function Ns(e){return e instanceof io?"email":e instanceof so?"sms":e instanceof ao?"siwe":e instanceof Ht?e.meta.provider:null}var Ls=T(require("jose")),pt=class{static parse(t){try{return new pt(t)}catch{return null}}constructor(t){this.value=t,this._decoded=Ls.decodeJwt(t)}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(t=0){let o=Date.now(),r=(this.expiration-t)*1e3;return o>=r}};var Rd=30,wn=class{constructor(){this.authenticateOnce=new He(async t=>this._authenticate(t)),this.linkOnce=new He(async t=>this._link(t)),this.refreshOnce=new He(this._refresh.bind(this)),this.destroyOnce=new He(this._destroy.bind(this)),this.forkSessionOnce=new He(this._forkSession.bind(this))}get token(){try{let t=J.get(So);return typeof t=="string"?new pt(t).value:null}catch(t){return console.error(t),this.destroyLocalState(),null}}get refreshToken(){try{let t=J.get(rn);return typeof t=="string"?t:null}catch(t){return console.error(t),this.destroyLocalState(),null}}get forkedToken(){try{let t=J.get(mr);return typeof t=="string"?t:null}catch(t){return console.error(t),this.destroyLocalState(),null}}hasRefreshCredentials(){return typeof this.token=="string"&&typeof this.refreshToken=="string"}hasRecoveryCredentials(){return typeof this.forkedToken=="string"}hasActiveToken(){let t=pt.parse(this.token);return t!==null&&!t.isExpired(Rd)}authenticate(t){return this.authenticateOnce.execute(t)}link(t){return this.linkOnce.execute(t)}refresh(){return this.refreshOnce.execute()}forkSession(){return this.forkSessionOnce.execute()}destroy(){return this.destroyOnce.execute()}async _authenticate(t){try{let{token:o,refresh_token:r,user:n,is_new_user:i}=await t.authenticate();this.storeToken(o),this.storeRefreshToken(r);let a=Ns(t);return a&&this.client&&this.client.createAnalyticsEvent("sdk_authenticate",{method:a,isNewUser:i}),a==="siwe"&&this.client&&this.client.createAnalyticsEvent("sdk_authenticate_siwe",{connectorType:t.meta.connectorType,walletClientType:t.meta.walletClientType}),{user:Pt(n),isNewUser:i}}catch(o){throw console.warn("Error authenticating session"),Ge(o)}}async _link(t){try{let o=await t.link();return Pt(o)}catch(o){throw console.warn("Error linking account"),Ge(o)}}async _refresh(){if(!this.api)throw new E("Session has no API instance");if(!this.client)throw new E("Session has no PrivyClient instance");await this.client.getAccessToken({disableAutoRefresh:!0});let t=this.token,o=this.refreshToken,r=this.forkedToken;try{let n;if(t&&o)n=await this.api.post(Xr(),{refresh_token:o},{headers:{authorization:`Bearer ${t}`}}),r&&this.clearForkedToken();else if(r)n=await this.api.post(en(),{refresh_token:r}),this.clearForkedToken();else return null;return this.storeToken(n.token),this.storeRefreshToken(n.refresh_token),Pt(n.user)}catch(n){if(n instanceof Po&&n.status===400&&n.message==="Invalid auth token")return this.destroyLocalState(),null;throw Ge(n)}}async _destroy(){var t;try{await((t=this.api)==null?void 0:t.post(Ea(),{refresh_token:this.refreshToken}))}catch{console.warn("Error destroying session")}this.destroyLocalState()}async _forkSession(){if(!this.api)throw new E("Session has no API instance");let t=this.refreshToken;try{let o=await this.api.post(xa(),{refresh_token:t});return this.storeToken(o.token),this.storeRefreshToken(o.refresh_token),o.new_session_refresh_token}catch(o){throw Ge(o)}}destroyLocalState(){this.storeToken(null),this.storeRefreshToken(null),this.clearForkedToken()}storeToken(t){var o,r;if(typeof t=="string"){if(J.put(So,t),!((o=this.client)!=null&&o.useServerCookies)){let n=(r=pt.parse(t))==null?void 0:r.expiration;br.default.set(hi,t,{sameSite:"Strict",secure:!0,expires:n?new Date(n*1e3):void 0})}}else J.del(So),br.default.remove(hi)}storeRefreshToken(t){var o;typeof t=="string"?(J.put(rn,t),(o=this.client)!=null&&o.useServerCookies||br.default.set(fi,t,{sameSite:"Strict",secure:!0,expires:30})):(J.del(rn),br.default.remove(fi))}clearForkedToken(){J.del(mr)}};var Ii,Uo=class{constructor(t){this.apiUrl=t.apiUrl||tn,this.fallbackApiUrl=this.apiUrl,this.useServerCookies=!1,this.timeout=t.timeout||za,this.appId=t.appId,this.clientAnalyticsId=typeof window>"u"?null:(0,Ms.v4)(),Ii||(Ii=new wn),this.session=Ii,this.api=this.generateApi(),this.session.client=this}initializeConnectorManager(t){this.connectors||(this.connectors=new Do(t))}generateApi(){let t=new bn(this.appId,this,{baseURL:this.apiUrl,timeout:this.timeout});return this.session.api=t,t}updateApiUrl(t){this.apiUrl=t||this.fallbackApiUrl,this.api=this.generateApi(),t&&(this.useServerCookies=!0)}authenticate(){if(!this.authFlow)throw new E("No auth flow in progress.");return this.session.authenticate(this.authFlow)}link(){if(!this.authFlow)throw new E("No auth flow in progress.");return this.session.link(this.authFlow)}async logout(){await this.session.destroy(),this.authFlow=void 0}startAuthFlow(t){t.api=this.api,this.authFlow=t}async unlinkEmail(t){try{let o=await this.api.post(Da(),{address:t});return Pt(o)}catch(o){throw Ge(o)}}async unlinkPhone(t){try{let o=await this.api.post(Ua(),{phoneNumber:t});return Pt(o)}catch(o){throw Ge(o)}}async unlinkWallet(t){try{let o=await this.api.post(Oa(),{address:t});return Pt(o)}catch(o){throw Ge(o)}}async unlinkOAuth(t,o){try{let r=await this.api.post(Ba(),{provider:t,subject:o});return Pt(r)}catch(r){throw Ge(r)}}async createAnalyticsEvent(t,o,r){if(!(typeof window>"u"))try{this.clientAnalyticsId||console.warn("No client analytics id set, refusing to send analytics event"),await this.api.post(Fa(),{event_name:t,client_id:this.clientAnalyticsId,payload:{...o||{},clientTimestamp:r?r.toISOString():new Date().toISOString()}})}catch{}}async getAuthenticatedUser(){return this.session.hasRefreshCredentials()||this.session.hasRecoveryCredentials()?this.session.refresh():null}async getAccessToken(t){var o;return this.session.hasActiveToken()?((o=pt.parse(this.session.token))==null?void 0:o.audience)!==this.appId?(await this.logout(),null):this.session.token:!(t!=null&&t.disableAutoRefresh)&&this.session.hasRefreshCredentials()?(await this.session.refresh(),this.session.token):null}async getServerConfig(){var t,o;try{let r=await this.api.get(`/api/v1/apps/${this.appId}`,{baseURL:this.fallbackApiUrl});return{id:r.id,name:r.name,verificationKey:r.verification_key,logoUrl:r.logo_url||void 0,accentColor:r.accent_color||void 0,showWalletLoginFirst:r.show_wallet_login_first,allowlistConfig:{errorTitle:r.allowlist_config.error_title,errorDetail:r.allowlist_config.error_detail,errorCtaText:r.allowlist_config.cta_text,errorCtaLink:r.allowlist_config.cta_link},walletAuth:r.wallet_auth,emailAuth:r.email_auth,smsAuth:r.sms_auth,googleOAuth:r.google_oauth,twitterOAuth:r.twitter_oauth,discordOAuth:r.discord_oauth,githubOAuth:r.github_oauth,appleOAuth:r.apple_oauth,termsAndConditionsUrl:r.terms_and_conditions_url,embeddedWalletConfig:{createOnLogin:(t=r.embedded_wallet_config)==null?void 0:t.create_on_login,requireUserPasswordOnCreate:(o=r.embedded_wallet_config)==null?void 0:o.require_user_password_on_create},privacyPolicyUrl:r.privacy_policy_url,customApiUrl:r.custom_api_url,walletConnectCloudProjectId:r.wallet_connect_cloud_project_id,createdAt:new Date(r.created_at*1e3),updatedAt:new Date(r.updated_at*1e3)}}catch(r){throw Ge(r)}}async getUsdTokenPrice(t){try{return(await this.api.get(`/api/v1/token_price?chainId=${t}`)).usd}catch{console.warn(`Unable to fetch token price for chain with id ${t}`);return}}async forkSession(){return await this.session.forkSession()}};var xb=require("wicg-inert"),ai=require("body-scroll-lock"),si=require("react"),ga=require("react"),$c=T(require("react-dom")),li=T(require("styled-components"));var Cn=require("react");var Wi=(0,Cn.createContext)({isNewUserThisSession:!1,isLinking:!1,linkingHint:null,walletConnectionStatus:null,getAuthMeta:P,getAuthFlow:P,closePrivyModal:P,connectWallet:P,initLoginWithWallet:P,loginWithWallet:P,loginWithCode:P,initLoginWithEmail:P,initLoginWithSms:P,resendEmailCode:P,resendSmsCode:P,initLoginWithOAuth:P,loginWithOAuth:P,refreshUser:P,walletProxy:null,createAnalyticsEvent:P,getUsdTokenPrice:P,recoverEmbeddedWallet:P}),I=()=>(0,Cn.useContext)(Wi);var En=require("react");var Ni=(0,En.createContext)({ready:!1,authenticated:!1,user:null,walletConnectors:null,connectWallet:P,login:P,linkEmail:P,linkPhone:P,linkWallet:P,linkGoogle:P,linkTwitter:P,linkDiscord:P,linkGithub:P,linkApple:P,logout:P,getAccessToken:P,getEthereumProvider:P,getEthersProvider:P,getWeb3jsProvider:P,unlinkEmail:P,unlinkPhone:P,unlinkWallet:P,unlinkGoogle:P,unlinkTwitter:P,unlinkDiscord:P,unlinkGithub:P,unlinkApple:P,setActiveWallet:P,forkSession:P,createWallet:P,signMessage:P,sendTransaction:P,exportWallet:P}),H=()=>(0,En.useContext)(Ni);var An=T(require("styled-components"));var It=T(require("styled-components"));var xn=T(require("styled-components")),Kt=require("react/jsx-runtime"),Tn=({success:e,fail:t})=>(0,Kt.jsxs)(Kt.Fragment,{children:[(0,Kt.jsx)(wr,{className:e?"success":t?"fail":""}),(0,Kt.jsx)(Id,{className:e?"success":t?"fail":""})]}),wr=xn.default.span`
  && {
    width: 82px;
    height: 82px;
    border-width: 4px;
    border-style: solid;
    border-color: ${e=>e.color??"var(--privy-color-accent)"};
    border-bottom-color: transparent;
    border-radius: 50%;
    display: inline-block;
    box-sizing: border-box;
    animation: rotation 1.2s linear infinite;
    transition: border-color 800ms;
  }

  @keyframes rotation {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }

  &&&.success {
    border-color: var(--privy-color-success);
    border-bottom-color: var(--privy-color-success);
  }

  &&&.fail {
    border-color: var(--privy-color-error);
    border-bottom-color: var(--privy-color-error);
  }
`,Id=(0,xn.default)(wr)`
  && {
    border-bottom-color: ${e=>e.color??"var(--privy-color-accent)"};
    animation: none;
    opacity: 0.5;
  }
`,ot=e=>(0,Kt.jsx)(Wd,{color:e.color||"var(--privy-color-background-2)"}),Wd=(0,xn.default)(wr)`
  && {
    height: 0.9rem;
    width: 0.9rem;
    border-width: 1.5px;

    /* Override default Loader to match button transitions */
    transition: border-color 200ms ease;
  }
`;var Se=require("react/jsx-runtime"),Os=It.default.button`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  user-select: none;
  & {
    height: 44px;
    width: 100%;
    /* Off by one because of internal border in designs and otherwise looks off */
    padding: 7px 11px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 600;
    border-radius: var(--privy-border-radius-md);
  }

  &&:disabled {
    background-color: var(--privy-color-background-2);
    color: var(--privy-color-foreground-3);
    cursor: not-allowed;
  }
`,te=({children:e,loading:t,disabled:o,loadingText:r="Loading...",...n})=>(0,Se.jsx)(Ds,{disabled:t||o,...n,children:t?(0,Se.jsxs)("span",{children:[(0,Se.jsx)(ot,{}),r?(0,Se.jsx)("span",{children:r}):null]}):e}),Pn=({children:e,loading:t,disabled:o,loadingText:r="Loading...",...n})=>(0,Se.jsx)(Ds,{as:"a",disabled:t||o,...n,children:t?(0,Se.jsxs)("span",{children:[(0,Se.jsx)(ot,{}),r?(0,Se.jsx)("span",{children:r}):null]}):e}),Ds=(0,It.default)(Os)`
  && {
    background-color: ${e=>e.warn?"var(--privy-color-error)":"var(--privy-color-accent)"};
    color: var(--privy-color-foreground-accent);

    transition: background-color 200ms ease;
  }

  &:hover {
    background-color: ${e=>e.warn?"var(--privy-color-error)":"var(--privy-color-accent-dark)"};
  }

  &:active {
    background-color: ${e=>e.warn?"var(--privy-color-error)":"var(--privy-color-accent-dark)"};
  }

  &:hover:disabled,
  &:active:disabled {
    background-color: var(--privy-color-background-2);
    color: var(--privy-color-foreground-3);
    cursor: not-allowed;
  }

  /* If an anchor tag, :disabled isn't a thing, so manually set state */
  ${e=>e.disabled?It.css`
          &&&,
          &&&:hover,
          &&&:active {
            background-color: var(--privy-color-background-2);
            color: var(--privy-color-foreground-3);
            cursor: not-allowed;
            pointer-events: none;
          }
        `:""}

  > span {
    display: flex;
    align-items: center;
    gap: 8px;

    opacity: 1;
    animation: fadein 200ms ease;
  }
`,Us=({children:e,loading:t,disabled:o,loadingText:r="Loading...",...n})=>(0,Se.jsx)(Nd,{disabled:t||o,...n,children:t?(0,Se.jsxs)("span",{children:[(0,Se.jsx)(ot,{}),r?(0,Se.jsx)("span",{children:r}):null]}):e}),Nd=(0,It.default)(Os)`
  && {
    border-width: 1px;
    border-color: ${e=>e.warn?"var(--privy-color-error)":"var(--privy-color-foreground-4)"};
    color: var(--privy-color-foreground);

    transition: border-color 200ms ease;
  }

  &:hover,
  &:active {
    border-color: ${e=>e.warn?"var(--privy-color-error)":"var(--privy-color-foreground-3)"};
  }

  &:hover:disabled,
  &:active:disabled {
    border-color: var(--privy-color-foreground-accent);
    color: var(--privy-color-foreground-3);
    cursor: not-allowed;
  }

  > span {
    display: flex;
    align-items: center;
    gap: 8px;

    opacity: 1;
    animation: fadein 200ms ease;
  }
`,he=It.default.button`
  && {
    padding: 12px 16px;
    font-weight: 500;
    text-align: center;
    color: var(--privy-color-foreground-accent);
    background-color: var(--privy-color-accent);
    border-radius: var(--privy-border-radius-sm);
    min-width: 144px;
    opacity: ${e=>e.invisible?"0":"1"};
    transition: opacity 200ms ease, background-color 200ms ease, color 200ms ease;
    user-select: none;

    ${e=>e.invisible&&It.css`
        pointer-events: none;
      `}

    &:hover {
      background-color: var(--privy-color-accent-dark);
    }
    &:active {
      background-color: var(--privy-color-accent-dark);
    }

    &:hover:disabled,
    &:active:disabled {
      background-color: var(--privy-color-background-2);
      color: var(--privy-color-foreground-3);
      cursor: not-allowed;
    }
  }
`,_n=It.default.div`
  /* Set to match height of SoftCtaButton to avoid reflow if conditionally rendered */
  height: 44px;
`;var Bs=T(require("styled-components")),Fs=Bs.default.span`
  && {
    width: 82px;
    height: 82px;
    border-width: 4px;
    border-style: solid;
    border-color: ${e=>e.color??"var(--privy-color-accent)"};
    border-bottom-color: transparent;
    border-radius: 50%;
    display: inline-block;
    box-sizing: border-box;
    animation: rotation 1.2s linear infinite;
    transition: border-color 800ms;
    border-color: var(--privy-color-accent);
    border-bottom-color: var(--privy-color-accent);
  }
`;var Hs=require("@heroicons/react/24/outline"),Mi=T(require("styled-components"));var Li=require("react/jsx-runtime"),Gs=({style:e,...t})=>(0,Li.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",style:{height:"1.5rem",width:"1.5rem",...e},...t,children:(0,Li.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})});var Re=require("react/jsx-runtime"),Ld=()=>(0,Re.jsx)("div",{}),Md=({backFn:e})=>(0,Re.jsx)("div",{children:(0,Re.jsx)(Gs,{onClick:e})}),Od=e=>(0,Re.jsx)("div",{children:(0,Re.jsx)("div",{children:(0,Re.jsx)(Hs.XMarkIcon,{height:"1.5rem",width:"1.5rem",onClick:e.onClose})})});var _=({backFn:e,onClose:t,title:o})=>{let{closePrivyModal:r}=I(),{app:n}=w();return(0,Re.jsxs)(Dd,{children:[e?(0,Re.jsx)(Md,{backFn:e}):(0,Re.jsx)(Ld,{}),o&&(0,Re.jsx)(Ud,{children:o}),n!=null&&n.render.inDialog?(0,Re.jsx)(Od,{onClose:t||(()=>r())}):null]})},Dd=Mi.default.div`
  height: 30px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 15px;

  h2 {
    font-size: 16px;
    line-height: 24px;
    font-weight: 600;
    color: var(--privy-color-foreground-1);
  }

  > :first-child {
    flex: 1;
    text-align: left;
    svg {
      cursor: pointer;
      margin-right: auto;
      color: var(--privy-color-foreground-1);
    }
    opacity: 0.6;
  }

  > :first-child:hover {
    opacity: 1;
  }

  > :last-child {
    flex: 1;
    text-align: right;
    > div {
      cursor: pointer;
      margin-left: auto;
      display: flex;
      opacity: 0.6;

      background-color: var(--privy-color-background-2);
      border-radius: var(--privy-border-radius-full);
      height: 36px;
      width: 36px;

      > svg {
        margin: auto;
        color: var(--privy-color-foreground-1);
      }
    }
    > div:hover {
      opacity: 1;
    }
  }

  /* Mobile */
  @media (max-width: 440px) {
    height: 30px;
    margin-bottom: 10px;
  }
`,Ud=Mi.default.div`
  overflow: hidden;
  white-space: nowrap;
  max-width: 100%;
  text-overflow: ellipsis;
`;var Oi=require("react/jsx-runtime"),zs=({style:e,...t})=>(0,Oi.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",style:{height:"1.5rem",width:"1.5rem",...e},...t,children:(0,Oi.jsx)("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 00-5.25 5.25v3a3 3 0 00-3 3v6.75a3 3 0 003 3h10.5a3 3 0 003-3v-6.75a3 3 0 00-3-3v-3c0-2.9-2.35-5.25-5.25-5.25zm3.75 8.25v-3a3.75 3.75 0 10-7.5 0v3h7.5z",clipRule:"evenodd"})});var ie=require("react/jsx-runtime"),Vs=()=>{let{navigate:e,app:t}=w(),o=(t==null?void 0:t.allowlistConfig.errorTitle)||"You don't have access to this app",r=(t==null?void 0:t.allowlistConfig.errorDetail)||"Have you been invited?",n=(t==null?void 0:t.allowlistConfig.errorCtaText)||"Try another account";return(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)(_,{}),(0,ie.jsxs)(Bd,{children:[(0,ie.jsx)(Gd,{children:(0,ie.jsxs)("div",{children:[(0,ie.jsx)(Fs,{}),(0,ie.jsx)(zs,{style:{width:"38px",height:"38px",strokeWidth:"1",stroke:"var(--privy-color-accent)",fill:"var(--privy-color-accent)"}})]})}),(0,ie.jsxs)(Fd,{children:[typeof o=="string"?(0,ie.jsx)("h3",{children:o}):(0,ie.jsx)(ie.Fragment,{children:o}),typeof r=="string"?(0,ie.jsx)("p",{children:r}):(0,ie.jsx)(ie.Fragment,{children:r})]}),t!=null&&t.allowlistConfig.errorCtaLink?(0,ie.jsx)(he,{as:"a",href:t.allowlistConfig.errorCtaLink,children:n}):(0,ie.jsx)(he,{onClick:()=>{e("LANDING")},children:n})]})]})},Bd=An.default.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  margin-left: 27px;
  margin-right: 27px;
  gap: 24px;
`,Fd=An.default.div`
  display: flex;
  flex-direction: column;
  gap: 8px;
`,Gd=An.default.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 82px;

  > div {
    position: relative;
  }

  > div > span {
    position: absolute;
    left: -41px;
    top: -41px;
  }

  > div > svg {
    position: absolute;
    left: -19px;
    top: -19px;
  }
`;var Yt=require("react"),js=require("react-device-detect"),Ho=T(require("styled-components"));var Bo=T(require("styled-components")),be=Bo.default.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-end;
  margin-top: auto;
  gap: 16px;
  flex-grow: 100;
`,uo=Bo.default.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  width: 100%;
`,Fo=(0,Bo.default)(uo)`
  gap: 16px;
`,J1=Bo.default.div`
  display: flex;
  flex-direction: column;
  width: 100%;
`,Go=Bo.default.div`
  display: flex;
  flex-direction: column;
  gap: 8px;
  /* Very specifically chosen to be the height if 2 lines h3 and 1 line p.
  If we then switch to 1 line h3 and 2 lines p, we don't resize.
  For use with success screens.  */
  min-height: 76px;
`;var Di=T(require("styled-components"));var $e=require("react/jsx-runtime"),Hd=Di.default.div`
  margin-top: 16px;
  font-size: 12px;
  text-align: center;
  color: var(--privy-color-foreground-3);

  && > a {
    color: var(--privy-color-accent);
  }
`;function Sn(e){let{legal:{privacyPolicyUrl:t,termsAndConditionsUrl:o}}=e.app,r=!!t,n=!!o,i=r&&n;return!r&&!n?null:(0,$e.jsxs)(Hd,{children:["By logging in I agree to the"," ",n&&(0,$e.jsx)("a",{href:o,target:"_blank",children:i?"Terms":"Terms of Service"}),i&&" & ",r&&(0,$e.jsx)("a",{href:t,target:"_blank",children:"Privacy Policy"})]})}var G=({protectedByPrivy:e})=>(0,$e.jsx)(rt,{hideOnMobile:e,children:e?(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)(Lo,{}),(0,$e.jsx)("span",{children:(0,$e.jsx)("a",{href:"https://www.privy.io/",target:"_blank",children:"Protected by Privy"})})]}):null}),rt=Di.default.div`
  height: 20px;
  font-size: 12px;
  display: flex;

  align-items: flex-end;
  justify-content: center;
  margin-top: 15px;

  > :first-child {
    margin-right: 6px;
  }

  && a {
    color: var(--privy-color-foreground-3);
    &:hover {
      text-decoration: underline;
    }
  }

  /* Mobile */
  @media (max-width: 440px) {
    display: ${e=>e.hideOnMobile?"none":"inherit"};
  }
`;var Cr=T(require("styled-components")),je=require("react/jsx-runtime"),we=({title:e,description:t,children:o,...r})=>(0,je.jsx)(qs,{...r,children:(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)("h3",{children:e}),typeof t=="string"?(0,je.jsx)("p",{children:t}):t,o]})}),ut=(0,Cr.default)(we)`
  margin-bottom: 24px;
`,Ke=({title:e,description:t,icon:o,children:r,...n})=>(0,je.jsxs)(zd,{...n,children:[o?(0,je.jsx)(Vd,{children:o}):null,(0,je.jsx)("h3",{children:e}),typeof t=="string"?(0,je.jsx)("p",{children:t}):null,r]}),qs=Cr.default.div`
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: flex-start;
  text-align: left;
  gap: 8px;
  width: 100%;
  margin-bottom: 24px;

  && h3 {
    font-size: 17px;
    color: var(--privy-color-foreground-1);
  }

  /* Sugar assuming children are paragraphs. Otherwise, handling styling on your own */
  && p {
    color: var(--privy-color-foreground-2);
    font-size: 14px;
  }
`,zd=(0,Cr.default)(qs)`
  align-items: center;
  text-align: center;
  gap: 16px;

  h3 {
    margin-bottom: 24px;
  }
`,Vd=Cr.default.div`
  padding: 14px;
  border-radius: 50%;
  && {
    border-color: var(--privy-color-background-2);
    border-width: 1px;
  }
`;var j=require("react/jsx-runtime"),Ui=6,$s=new Array(Ui).fill(""),qd=1400;var Ks=()=>{var re,ce,ne;let{app:e,navigate:t,setModalData:o}=w(),{closePrivyModal:r,resendEmailCode:n,resendSmsCode:i,getAuthMeta:a,loginWithCode:l}=I(),{authenticated:s,user:u}=H(),[h,C]=(0,Yt.useState)($s),[b,p]=(0,Yt.useState)(!1),[y,m]=(0,Yt.useState)(null),[x,S]=(0,Yt.useState)(null),F=(re=a())!=null&&re.email?0:1,A=e!=null&&e.render.inDialog?Je:0,k=e!=null&&e.render.inDialog?A-500:0;(0,Yt.useEffect)(()=>{var R;if(!!(s&&b&&u))if(_o(u,(R=e==null?void 0:e.embeddedWallets)==null?void 0:R.createOnLogin)){let L=setTimeout(()=>{o({createWallet:{onSuccess:()=>{},onFailure:_e=>console.error(_e),callAuthOnSuccessOnClose:!0}}),t("EMBEDDED_WALLET_SCREEN")},k);return()=>clearTimeout(L)}else{let L=setTimeout(r,A);return()=>clearTimeout(L)}},[s,b,u]),(0,Yt.useEffect)(()=>{if(y&&x===0){let M=setTimeout(()=>{C($s),m(null);let R=document.querySelector("input[name=code-0]");R==null||R.focus()},qd);return()=>clearTimeout(M)}},[y]);let W=M=>{var de;let R=M.currentTarget.value.replace(" ","");if(R==="")return;if(isNaN(Number(R))){m("Code should be numeric"),S(1);return}m(null),S(null);let L=Number((de=M.currentTarget.name)==null?void 0:de.charAt(5)),_e=[...R||[""]].slice(0,Ui-L),me=[...h.slice(0,L),..._e,...h.slice(L+_e.length)];C(me);let Et=_e.length,Dt=Math.min(Math.max(L+Et,0),Ui-1);if(!isNaN(Number(M.currentTarget.value))){let pe=document.querySelector(`input[name=code-${Dt}]`);pe==null||pe.focus()}if(me.every(pe=>pe&&!isNaN(+pe))){let pe=document.querySelector(`input[name=code-${Dt}]`);pe==null||pe.blur(),l(me.join("")).then(()=>p(!0)).catch(Ut=>{(Ut==null?void 0:Ut.status)===422?m("Invalid or expired verification code"):m("Issue verifying code"),S(0)})}M.preventDefault()},N=M=>{x===1&&(m(null),S(null));let R=[...h.slice(0,M),"",...h.slice(M+1)];if(C(R),M>0){let L=document.querySelector(`input[name=code-${M-1}]`);L==null||L.focus()}},O=`Verify your ${F==0?"email":"phone"}`,Q=F==0?(0,j.jsxs)("p",{children:["Please check ",(0,j.jsx)(Qd,{children:(ce=a())==null?void 0:ce.email})," for an email from privy.io and enter your code below."]}):`Please check ${(ne=a())==null?void 0:ne.phoneNumber} for a message from ${(e==null?void 0:e.name)||"privy.io"} and enter your code below.`;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(_,{},"header"),(0,j.jsxs)($d,{children:[(0,j.jsx)(we,{title:O,description:Q}),(0,j.jsxs)(uo,{children:[(0,j.jsxs)(jd,{children:[(0,j.jsx)(Kd,{fail:!!y,success:b,children:(0,j.jsx)("span",{children:y||(b?"Success!":"")})}),(0,j.jsx)("div",{children:h.map((M,R)=>(0,j.jsx)("input",{name:`code-${R}`,type:"text",value:h[R],onChange:W,onKeyUp:L=>{L.key==="Backspace"&&N(R)},inputMode:"numeric",autoFocus:R===0,pattern:"[0-9]",className:`${b?"success":""} ${y?"fail":""}`,autoComplete:js.isMobile?"one-time-code":"off"},R))})]}),(0,j.jsx)(Yd,{children:F==0?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("span",{children:"Didn't get an email?"}),(0,j.jsx)("button",{onClick:n,children:"Resend Code"})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("span",{children:"Didn't get a message?"}),(0,j.jsx)("button",{onClick:i,children:"Resend Code"})]})})]})]}),(0,j.jsx)(G,{protectedByPrivy:!0})]})},$d=Ho.default.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-end;
  margin: auto;
  gap: 16px;
  flex-grow: 1;
`,jd=Ho.default.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  gap: 8px;
  // This may seem goofy, but it's actually cleaner than trying to globally
  // center just this element.
  margin-top: 70px;

  ${zo}[data-height='medium'] & {
    /* Aligns this with the input field on the page before on shorter modals */
    margin-top: 22px;
  }

  @media (max-width: 440px) {
    margin-top: 20px;
  }

  > div:last-child {
    display: flex;
    justify-content: space-between;
    width: 100%;
    border-radius: 6px;

    > input {
      border: 1px solid var(--privy-color-foreground-4);
      background: var(--privy-color-background);
      border-radius: 6px;
      padding: 8px 10px;
      height: 58px;
      width: 46px;
      text-align: center;
      font-size: 18px;
    }

    > input:focus {
      border: 1px solid var(--privy-color-accent);
    }

    > input:invalid {
      border: 1px solid var(--privy-color-error);
    }

    > input.success {
      border: 1px solid var(--privy-color-success);
    }

    > input.fail {
      border: 1px solid var(--privy-color-error);
      animation: shake 180ms;
      animation-iteration-count: 2;
    }
  }

  @keyframes shake {
    0% {
      transform: translate(1px, 0px);
    }
    33% {
      transform: translate(-1px, 0px);
    }
    67% {
      transform: translate(-1px, 0px);
    }
    100% {
      transform: translate(1px, 0px);
    }
  }
`,Kd=Ho.default.div`
  line-height: 20px;
  height: 20px;
  font-size: 13px;
  color: ${e=>e.success?"var(--privy-color-success)":e.fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)"};
  display: flex;
  justify-content: flex-end;
  width: 100%;
`,Yd=Ho.default.div`
  font-size: 13px;
  color: var(--privy-color-foreground-3);
  display: flex;
  justify-content: space-between;
  width: 100%;
  margin-top: 16px;
  // Equal opposing size buffer to account for auto margining when the
  // success/fail text does not show up
  padding-bottom: 32px;

  > button {
    text-decoration: underline;
  }
`,Qd=Ho.default.span`
  word-break: break-all;
`;var kn=require("react"),Zs=T(require("styled-components"));var Ys=require("react-device-detect");var Qs=e=>{let t=new URL(window.location.href);if(!qt()&&Ys.isMobile)return`https://go.cb-w.com/dapp?cb_url=${encodeURIComponent(`${t.href.replace(/\/$/g,"")}?privy_connector=coinbase_wallet&privy_wallet_client=coinbase_wallet${e?`&privy_token=${e}`:""}`)}`};var Ie=require("react/jsx-runtime"),Js=()=>{let{forkSession:e,ready:t,authenticated:o}=H(),{closePrivyModal:r}=I(),[n,i]=(0,kn.useState)("");(0,kn.useEffect)(()=>{t&&o&&e().then(s=>i(s))},[o,t]);let a=Qs(n),l={title:"Redirecting to Coinbase Wallet",description:"We'll take you to the Coinbase Wallet app to continue your login experience.",footnote:""};return t&&o&&(l.description="For the best experience, we'll automatically log you into the Coinbase Wallet in-app browser.",l.footnote="Once you're done, you can always return here and refresh to view your updated account."),(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)(_,{},"header"),(0,Ie.jsx)(ut,{title:l.title,description:l.description}),(0,Ie.jsxs)(be,{children:[(0,Ie.jsx)(Zd,{children:(0,Ie.jsx)(Ve,{style:{width:"72px",height:"72px"}})}),(0,Ie.jsx)(Pn,{href:a,onClick:()=>{r()},loading:t&&o&&!n,children:"Continue"}),l.footnote?(0,Ie.jsx)("p",{children:l.footnote}):null]}),(0,Ie.jsx)(G,{protectedByPrivy:!0})]})},Zd=(0,Zs.default)(uo)`
  margin: 16px auto;
`;var Er=require("react-device-detect"),Bi=T(require("styled-components"));var Xs=T(require("styled-components")),el=Xs.default.span`
  @media (max-width: 440px) {
    display: none;
  }
`;var ae=require("react/jsx-runtime"),Qt=({connectOnly:e})=>{let{navigate:t}=w(),{initLoginWithWallet:o,connectWallet:r}=I();return(0,ae.jsxs)(Jd,{children:[(0,ae.jsxs)(Rn,{onClick:()=>{hr()?e?(r("injected","metamask"),t("AWAITING_CONNECT_ONLY_CONNECTION")):(o("injected","metamask"),t("AWAITING_CONNECTION")):Er.isMobile?e?(r("wallet_connect_v2","metamask"),t("AWAITING_CONNECT_ONLY_CONNECTION")):(o("wallet_connect_v2","metamask"),t("AWAITING_CONNECTION")):t("INSTALL_METAMASK_SCREEN")},children:[(0,ae.jsx)(ge,{}),(0,ae.jsx)("span",{children:"Metamask"}),(0,ae.jsx)("span",{children:hr()?"Connect":"Install"})]}),(0,ae.jsxs)(Rn,{onClick:()=>{qt()?e?(r("coinbase_wallet","coinbase_wallet"),t("AWAITING_CONNECT_ONLY_CONNECTION")):(o("coinbase_wallet","coinbase_wallet"),t("AWAITING_CONNECTION")):Er.isMobile?t("COINBASE_INTERSTITIAL_SCREEN"):e?(r("coinbase_wallet","coinbase_wallet"),t("AWAITING_CONNECT_ONLY_CONNECTION")):(o("coinbase_wallet","coinbase_wallet"),t("AWAITING_CONNECTION"))},children:[(0,ae.jsx)(Ve,{}),(0,ae.jsxs)("span",{children:["Coinbase",(0,ae.jsx)(el,{children:" Wallet"})]}),(0,ae.jsx)("span",{children:"Connect"})]}),(Er.isMobile||ze())&&(0,ae.jsxs)(Rn,{id:"privy-phantom-button",onClick:()=>{ze()?e?(r("injected","phantom"),t("AWAITING_CONNECT_ONLY_CONNECTION")):(o("injected","phantom"),t("AWAITING_CONNECTION")):t(Er.isMobile?"PHANTOM_INTERSTITIAL_SCREEN":"INSTALL_PHANTOM_SCREEN")},children:[(0,ae.jsx)(dt,{}),(0,ae.jsx)("span",{children:"Phantom"}),(0,ae.jsx)("span",{children:ze()?"Connect":"Install"})]}),(0,ae.jsxs)(Rn,{onClick:()=>{e?(r("wallet_connect_v2","unknown"),t("AWAITING_CONNECT_ONLY_CONNECTION")):(o("wallet_connect_v2","unknown"),t("AWAITING_CONNECTION"))},children:[(0,ae.jsx)(Mo,{}),(0,ae.jsx)("span",{children:"WalletConnect"}),(0,ae.jsx)("span",{children:"Connect"})]})]})},Jd=Bi.default.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 8px;
  width: 100%;
`,Rn=Bi.default.button`
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 12px;
  width: 100%;
  height: 44px;

  -webkit-user-select: none;
  -ms-user-select: none;
  user-select: none;

  font-size: 14px;
  font-weight: 500;
  color: var(--privy-color-foreground);

  && {
    font-weight: 600;
    padding: 7px 11px;
    border: 1px solid var(--privy-color-foreground-4);
    border-radius: var(--privy-border-radius-sm);
  }

  flex: none;
  order: 0;
  align-self: stretch;
  flex-grow: 0;

  > svg {
    border-radius: var(--privy-border-radius-sm);
  }

  /* Show "Connect" on hover */
  > :last-child {
    font-weight: 500;
    text-align: right;
    flex: none;
    order: 2;
    flex-grow: 1;
    color: var(--privy-color-accent);
    opacity: 0;
    transition: opacity 0.1s ease-out;
  }

  :hover > :last-child {
    opacity: 1;
  }

  @media (max-width: 440px) {
    > :last-child {
      display: none;
    }
  }
`;var tl=T(require("styled-components"));var xr=require("react/jsx-runtime"),Zt=()=>{let{navigate:e}=w();return(0,xr.jsxs)(Xd,{children:[(0,xr.jsx)("span",{children:"Don\u2019t have a wallet? "}),(0,xr.jsx)("button",{onClick:()=>{e("WALLET_EDUCATION")},children:"Create one now."})]})},Xd=tl.default.div`
  font-size: 13px;
  color: var(--privy-color-foreground-3);

  > button {
    text-decoration: underline;
  }

  @media (max-width: 440px) {
    margin-top: 4px;
  }
`;var nt=require("react/jsx-runtime"),ol=()=>{let{app:e}=w(),t=`Connect a wallet to ${e==null?void 0:e.name}`;return(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsx)(_,{},"header"),(0,nt.jsx)(ut,{title:"Connect your wallet",description:t}),(0,nt.jsxs)(be,{children:[(0,nt.jsx)(Qt,{connectOnly:!0}),(0,nt.jsx)(Zt,{})]}),(0,nt.jsx)(G,{protectedByPrivy:!0})]})};var Wn=T(require("styled-components"));var rl=T(require("react"));var Fi=require("react/jsx-runtime"),In=()=>{var a;let{app:e}=w(),t=(a=e==null?void 0:e.appearance)==null?void 0:a.logo,o=`${e==null?void 0:e.name} logo`,r={maxHeight:"50px"},n="100%",i="auto";return t?typeof t=="string"?(0,Fi.jsx)("div",{children:(0,Fi.jsx)("img",{height:n,width:i,src:t,alt:o,style:r})}):t.type==="svg"||t.type==="img"?rl.default.cloneElement(t,{height:n,width:i,alt:o,style:r}):(console.warn("`config.appearance.logo` must be a string, or an SVG / IMG element. Nothing will be rendered."),null):null};var Ee=require("react/jsx-runtime"),nl=()=>{let{app:e}=w();return(0,Ee.jsxs)(Ee.Fragment,{children:[(0,Ee.jsx)(_,{},"header"),(0,Ee.jsx)(op,{hasTerms:!!((e==null?void 0:e.legal.privacyPolicyUrl)||(e==null?void 0:e.legal.termsAndConditionsUrl)),children:(0,Ee.jsx)(In,{})}),(0,Ee.jsxs)(tp,{children:[(0,Ee.jsx)(ep,{children:(0,Ee.jsx)("h4",{children:"Connect Wallet"})}),(0,Ee.jsx)(Qt,{connectOnly:!0}),(0,Ee.jsx)(Zt,{})]}),e&&(0,Ee.jsx)(Sn,{app:e}),(0,Ee.jsx)(G,{protectedByPrivy:!0})]})},ep=Wn.default.div`
  font-weight: 600;
  color: 'var(--privy-color-foreground)';
  display: flex;
  justify-content: center;
  align-items: center;
`,tp=Wn.default.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  /* 1px helps with the input ring getting hidden by padding, despite it being
   * annoying that it's not perfectly lined up
   */
  padding: '1px';
  gap: 12px;
  width: 100%;
  max-height: '400px';
  transition-property: border-color, max-height;
  transition-duration: 0.25s;
  transition-timing-function: ease-in;
  overflow: hidden;
  && {
    background: var(--privy-color-background);
    border: 'none';
    border-radius: '0';
  }
  cursor: 'inherit';
`,op=Wn.default.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  height: 100%;
  padding: ${e=>`${80-(e.hasTerms?20:0)}px`} 10px 30px;
  @media (max-width: 440px) {
    padding: 10px 10px 20px;
  }
`;var Vo=require("react"),al=T(require("styled-components"));var mt=require("react"),Ln=require("react-device-detect"),Gi=T(require("styled-components"));var Z=require("react/jsx-runtime"),Nn=2,Tr={metamask:{name:"MetaMask",component:ge},phantom:{name:"Phantom",component:dt},coinbase_wallet:{name:"Coinbase Wallet",component:Ve},wallet_connect:{name:"WalletConnect",component:Mo},embedded:{name:"Privy Wallet",component:Lo}},Hi=e=>(e==null?void 0:e.privyErrorCode)==="linked_to_another_user"?_t.ERROR_USER_EXISTS:e instanceof No&&!e.details.default?e.details:e instanceof Io?_t.ERROR_TIMED_OUT:e instanceof Wo?_t.ERROR_USER_REJECTED_CONNECTION:_t.ERROR_WALLET_CONNECTION,il=()=>{var Et,Dt,de,pe,Ut,Eo,sr,xo,$r,lr,jr;let[e,t]=(0,mt.useState)(!1),[o,r]=(0,mt.useState)(!1),[n,i]=(0,mt.useState)(void 0),{app:a,navigate:l,navigateBack:s,lastScreen:u,currentScreen:h,setModalData:C}=w(),{getAuthFlow:b,walletConnectionStatus:p,closePrivyModal:y,loginWithWallet:m}=I(),{walletConnectors:x}=H(),[S,F]=(0,mt.useState)(0),{user:A}=H(),[k]=(0,mt.useState)((A==null?void 0:A.linkedAccounts.length)||0),W=Ln.isMobile&&((Et=p==null?void 0:p.connector)==null?void 0:Et.connectorType)==="wallet_connect_v2"||Ln.isMobile&&((Dt=p==null?void 0:p.connector)==null?void 0:Dt.connectorType)==="coinbase_wallet"||Ln.isMobile&&((de=p==null?void 0:p.connector)==null?void 0:de.connectorType)==="injected"&&((pe=p==null?void 0:p.connector)==null?void 0:pe.walletClientType)==="phantom",N=(p==null?void 0:p.status)==="connected";(0,mt.useEffect)(()=>{let ee=b();if(ee&&W&&N&&!ee.preparedMessage){ee.buildSiweMessage();return}!ee||W||!N||(async()=>{var Bt,Ft;r(!0),i(void 0);try{((Bt=p==null?void 0:p.connector)==null?void 0:Bt.connectorType)==="wallet_connect_v2"&&((Ft=p==null?void 0:p.connector)==null?void 0:Ft.walletClientType)==="metamask"&&await wi(2500),await Q()}catch(cr){console.warn("Auto-prompted signature failed",cr)}finally{r(!1)}})()},[S,N]),(0,mt.useEffect)(()=>{var ee;if(A&&e){let Bt;if(_o(A,(ee=a==null?void 0:a.embeddedWallets)==null?void 0:ee.createOnLogin)){let Ft=a!=null&&a.render.inDialog?Je:0,cr=a!=null&&a.render.inDialog?Ft-500:0;Bt=setTimeout(()=>{C({createWallet:{onSuccess:()=>{},onFailure:dr=>console.error(dr),callAuthOnSuccessOnClose:!0}}),l("EMBEDDED_WALLET_SCREEN")},cr)}else Bt=setTimeout(y,Je);return()=>clearTimeout(Bt)}},[A,e]);let O=ee=>{if((ee==null?void 0:ee.privyErrorCode)==="allowlist_rejected"){l("ALLOWLIST_REJECTION_SCREEN");return}i(Hi(ee))};async function Q(){try{if(await m(),!(a!=null&&a.render.inDialog))return y();t(!0)}catch(ee){O(ee)}finally{r(!1)}}(0,mt.useEffect)(()=>{p!=null&&p.connectError&&O(p==null?void 0:p.connectError)},[p]);let re=((Ut=p==null?void 0:p.connector)==null?void 0:Ut.connectorType)||"metamask",ce=((Eo=p==null?void 0:p.connector)==null?void 0:Eo.walletClientType)||"metamask",ne=((sr=p==null?void 0:p.connector)==null?void 0:sr.walletBranding.name)||((xo=Tr[ce])==null?void 0:xo.name)||"Metamask",M=(($r=p==null?void 0:p.connector)==null?void 0:$r.walletBranding.icon)||((lr=Tr[ce])==null?void 0:lr.component)||(ee=>(0,Z.jsx)(ge,{...ee})),R=e?`Successfully connected with ${ne}`:n?n.message:N?o&&W?"Signing":"Sign to verify":`Waiting for ${ne}`,L="Don\u2019t see your wallet modal? Check your other browser windows.";if(e){let ee=(A==null?void 0:A.linkedAccounts.length)||0;k===ee?L="Wallet was already linked.":L="You\u2019re good to go!"}else S>=Nn&&n?L="Unable to connect wallet":n?L=n.detail:N&&W?L="Sign the message in your wallet to verify it belongs to you.":ce==="metamask"?L="For the best experience, connect only one wallet at a time.":re==="wallet_connect"?L="Open your mobile wallet app to continue":re==="coinbase_wallet"&&(qt()||(Ri(A)?L="Continue with the Coinbase app. Not the right wallet? Reset your connection below.":L="Open the Coinbase app on your phone to continue."));let _e=(jr=x==null?void 0:x.walletConnectors)==null?void 0:jr.find(ee=>ee.walletClientType==="coinbase_wallet"),me=ce==="coinbase_wallet"&&(Ri(A)||n===_t.ERROR_USER_EXISTS);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(_,{backFn:h===u?void 0:s}),(0,Z.jsxs)(rp,{children:[(0,Z.jsx)(zi,{walletLogo:M,success:e,fail:!!n}),(0,Z.jsxs)(Go,{children:[(0,Z.jsx)("h3",{children:R}),(0,Z.jsx)("p",{children:L})]}),(0,Z.jsx)(_n,{children:me?(0,Z.jsx)(he,{onClick:()=>_e&&(_e==null?void 0:_e.disconnect()),invisible:e,disabled:e,children:"Use a different wallet"}):n==_t.ERROR_USER_EXISTS&&h!==u?(0,Z.jsx)(he,{onClick:s,children:"Use a different wallet"}):N&&!e&&W?(0,Z.jsx)(he,{onClick:()=>{r(!0),Q()},disabled:o,children:o?"Signing":"Sign with your wallet"}):!e&&(n==null?void 0:n.retryable)&&S<Nn?(0,Z.jsx)(he,{onClick:()=>{F(S+1),i(void 0),N?(r(!0),Q()):p==null||p.connectRetry()},invisible:e||!(n!=null&&n.retryable)||S>=Nn,disabled:!e&&(!(n!=null&&n.retryable)||S>=Nn),children:"Retry"}):null})]})]})},rp=Gi.default.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  margin-left: 27px;
  margin-right: 27px;
  gap: 24px;
`,np=Gi.default.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 82px;

  > div {
    position: relative;
  }

  > div > span {
    position: absolute;
    left: -41px;
    top: -41px;
  }

  > div > :last-child {
    position: absolute;
    left: -19px;
    top: -19px;
  }
`,zi=e=>{let t=e.walletLogo;return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(np,{children:(0,Z.jsxs)("div",{children:[(0,Z.jsx)(Tn,{success:e.success,fail:e.fail}),typeof t=="string"?(0,Z.jsx)("span",{style:{background:`url('${t}')`,height:"38px",width:"38px",borderRadius:"6px",margin:"auto",backgroundSize:"cover"}}):(0,Z.jsx)(t,{style:{width:"38px",height:"38px"}})]})})})};var xe=require("react/jsx-runtime"),Mn=2,sl=()=>{var S,F,A,k,W,N;let{navigateBack:e,lastScreen:t,currentScreen:o}=w(),{walletConnectionStatus:r,closePrivyModal:n}=I(),[i,a]=(0,Vo.useState)(void 0),[l,s]=(0,Vo.useState)(0),u=(r==null?void 0:r.status)==="connected";(0,Vo.useEffect)(()=>{if(u){let O=setTimeout(n,Je);return()=>clearTimeout(O)}},[u]);let h=O=>{a(Hi(O))};(0,Vo.useEffect)(()=>{r!=null&&r.connectError&&h(r==null?void 0:r.connectError)},[r]);let C=((S=r==null?void 0:r.connector)==null?void 0:S.connectorType)||"metamask",b=((F=r==null?void 0:r.connector)==null?void 0:F.walletClientType)||"metamask",p=((A=r==null?void 0:r.connector)==null?void 0:A.walletBranding.name)||((k=Tr[b])==null?void 0:k.name)||"Metamask",y=((W=r==null?void 0:r.connector)==null?void 0:W.walletBranding.icon)||((N=Tr[b])==null?void 0:N.component)||(O=>(0,xe.jsx)(ge,{...O})),m=u?`Successfully connected with ${p}`:i?i.message:`Waiting for ${p}`,x="Don\u2019t see your wallet modal? Check your other browser windows.";return u?x="You\u2019re good to go!":l>=Mn&&i?x="Unable to connect wallet":i?x=i.detail:b==="metamask"?x="For the best experience, connect only one wallet at a time.":C==="wallet_connect_v2"?x="Open your mobile wallet app to continue":C==="coinbase_wallet"&&(x="Open the Coinbase app on your phone to continue."),(0,xe.jsxs)(xe.Fragment,{children:[(0,xe.jsx)(_,{backFn:o===t?void 0:e}),(0,xe.jsxs)(ip,{children:[(0,xe.jsx)(zi,{walletLogo:y,success:u,fail:!!i}),(0,xe.jsxs)(Go,{children:[(0,xe.jsx)("h3",{children:m}),(0,xe.jsx)("p",{children:x})]}),(0,xe.jsx)(_n,{children:i==_t.ERROR_USER_EXISTS?(0,xe.jsx)(he,{onClick:e,children:"Use a different wallet"}):!u&&(i==null?void 0:i.retryable)&&l<Mn?(0,xe.jsx)(he,{onClick:()=>{s(l+1),a(void 0),r==null||r.connectRetry()},invisible:u||!(i!=null&&i.retryable)||l>=Mn,disabled:!u&&(!(i!=null&&i.retryable)||l>=Mn),children:"Retry"}):null})]})]})},ip=al.default.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  margin-left: 27px;
  margin-right: 27px;
  gap: 24px;
`;var ul=require("@heroicons/react/24/solid"),Ko=require("react"),ml=T(require("styled-components"));var Pr=T(require("styled-components")),qo=require("react/jsx-runtime"),$o=({children:e})=>(0,qo.jsx)(ap,{children:(0,qo.jsxs)(sp,{children:[e,(0,qo.jsx)(lp,{}),(0,qo.jsx)(cp,{})]})}),ap=Pr.default.div`
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-grow: 1;
`,sp=Pr.default.div`
  position: relative;
  height: 160px;
  width: 160px;

  opacity: 1;
  animation: fadein 200ms ease;
`,lp=Pr.default.div`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  width: 160px;
  height: 160px;

  && {
    border: 4px solid var(--privy-color-accent-light);
    border-radius: 50%;
  }
`,cp=Pr.default.div`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  width: 160px;
  height: 160px;
  animation: spin 1200ms linear infinite;

  && {
    border: 4px solid;
    border-color: var(--privy-color-accent) transparent transparent transparent;
    border-radius: 50%;
  }

  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
`;var ll=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds"];var Jt=class extends Error{constructor(o,r){super(r);this.type=o}};function Vi(e){let t=e.type;return typeof t=="string"&&ll.includes(t)}function jo(e){return Vi(e)&&e.type==="wallet_not_on_device"}function cl(e){return Vi(e)&&e.type==="invalid_recovery_pin"}function dl(e){return Vi(e)&&e.type==="insufficient_funds"}var ke=require("react/jsx-runtime"),pl=1,hl=()=>{let{authenticated:e,user:t,getAccessToken:o}=H(),{closePrivyModal:r,createAnalyticsEvent:n,walletProxy:i}=I(),{navigate:a,data:l,setModalData:s}=w(),u=(0,Ko.useMemo)(()=>Date.now(),[]),[h,C]=(0,Ko.useState)(!1),{onCompleteNavigateTo:b,onFailure:p}=l==null?void 0:l.connectWallet,y=m=>{h||(C(!0),p(typeof m=="string"?new Error(m):m))};return(0,Ko.useEffect)(()=>{let m=le(t),x;return!e||!m?y("User must be authenticated and have a Privy wallet before it can be connected"):i?((async()=>{let F=await o();if(!F)return y("User must be authenticated and have a Privy wallet before it can be connected");try{await i.connect({accessToken:F,address:m.address});let A=(Date.now()-u)/1e3;b==="EMBEDDED_WALLET_KEY_EXPORT_SCREEN"&&A<pl?x=setTimeout(()=>{a(b)},(pl-A)*1e3):a(b)}catch(A){if(jo(A)&&m.recoveryMethod==="privy"){let k=await o();if(!k)return y("User must be authenticated and have a Privy wallet before it can be recovered");try{n("embedded_wallet_pinless_recovery_started",{walletAddress:m.address});let W=await(i==null?void 0:i.recover({address:m.address,accessToken:k}));W!=null&&W.address||y(new Error("Unable to recover wallet")),b?a(b):r({shouldCallAuthOnSuccess:!1}),n("embedded_wallet_recovery_completed",{walletAddress:m.address}),a(b)}catch{y("An error has occurred, please try again.")}}else jo(A)?(s({...l,recoverWallet:{privyWallet:m,onCompleteNavigateTo:b,onFailure:p}}),a("EMBEDDED_WALLET_RECOVERY_SCREEN")):y(A)}})(),()=>clearTimeout(x)):void 0},[e,t,i]),(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsx)(_,{onClose:()=>{r({shouldCallAuthOnSuccess:!1}),y("User exited before wallet could be connected")}}),(0,ke.jsx)(dp,{children:h?(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsxs)(Fo,{children:[(0,ke.jsx)(ul.XCircleIcon,{fill:"var(--privy-color-error)",stroke:"white",strokeWidth:".25px",width:"64px",height:"64px"}),(0,ke.jsx)(Ke,{title:"Something went wrong",description:"We\u2019re on it. Please try again later."})]}),(0,ke.jsx)(te,{onClick:()=>r({shouldCallAuthOnSuccess:!1}),children:"Close"})]}):(0,ke.jsx)($o,{})})]})},dp=ml.default.div`
  display: flex;
  height: 100%;
  flex-direction: column;
  flex-grow: 1;
`;var fl=require("@heroicons/react/24/solid"),yl=require("react");var ht=require("react/jsx-runtime"),gl=()=>{let{user:e}=H(),{closePrivyModal:t,isNewUserThisSession:o}=I(),{app:r,data:n}=w(),{onSuccess:i,onFailure:a,callAuthOnSuccessOnClose:l}=n.createWallet,s=()=>{let u=le(e);u?(i(u),t({shouldCallAuthOnSuccess:l})):a(new Error("Failed to create wallet"))};return(0,yl.useEffect)(()=>{let u=setTimeout(s,Va);return()=>clearTimeout(u)},[]),(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)(_,{onClose:s}),(0,ht.jsxs)(Fo,{children:[(0,ht.jsx)(fl.CheckCircleIcon,{fill:"var(--privy-color-accent)",stroke:"white",strokeWidth:".25px",width:"64px",height:"64px"}),(0,ht.jsx)(Ke,{title:o?`Welcome${r!=null&&r.name?` to ${r==null?void 0:r.name}`:""}`:"All set!",description:o?"You\u2019ve successfully created an account.":"Your account is secured."})]}),(0,ht.jsx)(G,{protectedByPrivy:!0})]})};var Wt=require("react"),ft=T(require("styled-components"));var fe=require("react/jsx-runtime"),vl=({style:e,...t})=>(0,fe.jsxs)("svg",{width:"320",height:"144",viewBox:"0 0 320 144",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:320,height:144,...e},...t,children:[(0,fe.jsx)("rect",{x:"214.681",y:"51.6852",width:"40",height:"40",rx:"20",fill:"var(--privy-color-background-2)"}),(0,fe.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M229.848 64.9512C228.001 65.1452 226.643 66.726 226.643 68.5829V75.414C226.643 77.2883 228.026 78.8767 229.891 79.0615C231.417 79.2127 233.21 79.3518 234.643 79.3518C236.862 79.3518 239.95 79.0176 241.563 78.8225C242.183 78.7474 242.643 78.2196 242.643 77.5948V69.7756C242.643 69.1508 242.183 68.6229 241.563 68.5479C239.955 68.3534 236.883 68.0207 234.665 68.0185L234.643 68.0185L234.622 68.0185C233.219 68.0199 231.475 68.1534 229.975 68.3005C229.636 68.3007 229.346 68.0433 229.312 67.6989C229.277 67.3325 229.544 67.0063 229.911 66.9703C231.423 66.8219 233.203 66.6852 234.643 66.6852C236.246 66.6852 238.275 66.855 239.887 67.0221C240.412 67.0765 240.896 67.1309 241.309 67.1796V66.4289C241.309 65.8099 240.858 65.2851 240.244 65.2046C238.746 65.0083 235.977 64.6852 233.976 64.6852C232.734 64.6852 231.195 64.8098 229.848 64.9512ZM240.309 74.6852C240.862 74.6852 241.309 74.2375 241.309 73.6852C241.309 73.1329 240.862 72.6852 240.309 72.6852C239.757 72.6852 239.309 73.1329 239.309 73.6852C239.309 74.2375 239.757 74.6852 240.309 74.6852Z",fill:"var(--privy-color-accent)"}),(0,fe.jsx)("path",{d:"M92.6426 74.2969H89.5743M76.6426 74.2969H85.5085M77.5837 78.2687L87.1555 61.6852M84.7273 65.9017L82.2897 61.6852M91.8614 78.2687L86.6849 69.2993",stroke:"var(--privy-color-accent)","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,fe.jsx)("rect",{x:"65.6426",y:"52.6852",width:"38",height:"38",rx:"19",stroke:"var(--privy-color-background-2","stroke-width":"2"}),(0,fe.jsx)("path",{d:"M103.162 71.6852H213.662",stroke:"var(--privy-color-background-2","stroke-width":"2","stroke-dasharray":"4 4"}),(0,fe.jsx)("path",{d:"M270.544 116.469C272.146 116.469 273.445 115.175 273.445 113.577C273.445 111.98 272.146 110.685 270.544 110.685C268.942 110.685 267.643 111.98 267.643 113.577C267.643 115.175 268.942 116.469 270.544 116.469Z",fill:"var(--privy-color-accent-light"}),(0,fe.jsx)("path",{d:"M157.878 48.3615C160.282 48.3615 162.231 46.4193 162.231 44.0234C162.231 41.6274 160.282 39.6852 157.878 39.6852C155.475 39.6852 153.526 41.6274 153.526 44.0234C153.526 46.4193 155.475 48.3615 157.878 48.3615Z",fill:"var(--privy-color-accent-dark)"}),(0,fe.jsx)("path",{d:"M35.0825 96.1749C36.8852 96.1749 38.3466 94.7182 38.3466 92.9212C38.3466 91.1243 36.8852 89.6676 35.0825 89.6676C33.2797 89.6676 31.8184 91.1243 31.8184 92.9212C31.8184 94.7182 33.2797 96.1749 35.0825 96.1749Z",fill:"var(--privy-color-accent-dark)"}),(0,fe.jsx)("path",{d:"M164.407 103.673C166.41 103.673 168.034 102.055 168.034 100.058C168.034 98.0616 166.41 96.443 164.407 96.443C162.404 96.443 160.78 98.0616 160.78 100.058C160.78 102.055 162.404 103.673 164.407 103.673Z",fill:"var(--privy-color-accent-light"}),(0,fe.jsx)("path",{d:"M292.664 33.277C294.267 33.277 295.566 31.9822 295.566 30.3849C295.566 28.7876 294.267 27.4928 292.664 27.4928C291.062 27.4928 289.763 28.7876 289.763 30.3849C289.763 31.9822 291.062 33.277 292.664 33.277Z",fill:"var(--privy-color-accent-light"}),(0,fe.jsx)("path",{d:"M104 12.6997C105.302 12.6997 106.357 11.6476 106.357 10.3498C106.357 9.05206 105.302 8 104 8C102.698 8 101.643 9.05206 101.643 10.3498C101.643 11.6476 102.698 12.6997 104 12.6997Z",fill:"var(--privy-color-accent-light"}),(0,fe.jsx)("path",{d:"M7.99998 68.6997C9.30194 68.6997 10.3574 67.6476 10.3574 66.3498C10.3574 65.0521 9.30194 64 7.99998 64C6.69802 64 5.64258 65.0521 5.64258 66.3498C5.64258 67.6476 6.69802 68.6997 7.99998 68.6997Z",fill:"var(--privy-color-accent-light"}),(0,fe.jsx)("path",{d:"M312 60.6997C313.302 60.6997 314.357 59.6476 314.357 58.3498C314.357 57.0521 313.302 56 312 56C310.698 56 309.643 57.0521 309.643 58.3498C309.643 59.6476 310.698 60.6997 312 60.6997Z",fill:"var(--privy-color-accent-light"}),(0,fe.jsx)("path",{d:"M35.544 42.4694C37.1464 42.4694 38.4454 41.1746 38.4454 39.5773C38.4454 37.98 37.1464 36.6852 35.544 36.6852C33.9416 36.6852 32.6426 37.98 32.6426 39.5773C32.6426 41.1746 33.9416 42.4694 35.544 42.4694Z",fill:"var(--privy-color-accent-light"})]});var U=require("react/jsx-runtime"),Cl=()=>{var m;let[e,t]=(0,Wt.useState)(null),{authenticated:o,user:r,getAccessToken:n}=H(),{closePrivyModal:i,createAnalyticsEvent:a}=I(),{data:l}=w(),s=(m=le(r))==null?void 0:m.address,{onFailure:u,onSuccess:h,origin:C,appId:b}=l.keyExport,p=x=>{i({shouldCallAuthOnSuccess:!1}),u(typeof x=="string"?new Error(x):x)},y=()=>{i({shouldCallAuthOnSuccess:!1}),h(),a("embedded_wallet_key_export_completed",{walletAddress:s})};return(0,Wt.useEffect)(()=>{let x=le(r);if(!o||!x)return p("User must be authenticated before exporting their wallet");n().then(t,p)},[o,r]),(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(_,{onClose:y}),(0,U.jsxs)(mp,{children:[(0,U.jsx)(vl,{}),(0,U.jsxs)(hp,{children:[(0,U.jsx)("h3",{children:"Transfer"}),(0,U.jsxs)(vp,{children:[(0,U.jsx)(up,{style:{marginRight:6}}),`${s==null?void 0:s.substring(0,4)}...${s==null?void 0:s.substring(s.length-4,s.length-1)}`]})]}),(0,U.jsx)("p",{children:"You can take your account with you to another site using an external wallet!"}),(0,U.jsxs)(fp,{children:[(0,U.jsxs)(bl,{children:[(0,U.jsx)(wl,{children:"1"}),(0,U.jsxs)("span",{children:[(0,U.jsx)("a",{href:"https://privy-io.notion.site/Transferring-your-account-9dab9e16c6034a7ab1ff7fa479b02828",target:"blank",rel:"noopener noreferrer",children:"Follow the guide"})," ","to transfer your account to your wallet of choice."]})]}),(0,U.jsxs)(bl,{children:[(0,U.jsx)(wl,{children:"2"}),(0,U.jsx)("span",{children:"Copy this key into your other wallet"})]})]}),(0,U.jsx)("div",{style:{width:"100%"},children:e&&(0,U.jsx)(pp,{origin:C,appId:b,accessToken:e,address:s,dimensions:{height:"44px"}})}),(0,U.jsxs)(bp,{children:[(0,U.jsx)("h4",{children:"WARNING"}),(0,U.jsx)("p",{children:"Never share your private key with anyone! It controls your account."})]})]}),(0,U.jsx)(G,{protectedByPrivy:!0})]})};function pp(e){let[t,o]=(0,Wt.useState)(e.dimensions.width),[r,n]=(0,Wt.useState)(void 0),i=(0,Wt.useRef)(null);return(0,Wt.useEffect)(()=>{if(i.current&&t===void 0){let{width:l}=i.current.getBoundingClientRect();o(l)}let a=getComputedStyle(document.documentElement);n({background2:a.getPropertyValue("--privy-color-background-2"),foreground3:a.getPropertyValue("--privy-color-foreground-3"),foregroundAccent:a.getPropertyValue("--privy-color-foreground-accent"),accent:a.getPropertyValue("--privy-color-accent"),accentDark:a.getPropertyValue("--privy-color-accent-dark"),success:a.getPropertyValue("--privy-color-success")})},[]),(0,U.jsx)("div",{ref:i,children:t&&(0,U.jsxs)(yp,{children:[(0,U.jsx)("iframe",{style:{position:"absolute",zIndex:1},width:t,height:e.dimensions.height,allow:"clipboard-write self *",src:sn(e.origin,`/apps/${e.appId}/embedded-wallets/export`,{token:e.accessToken,address:e.address,width:`${t}px`,...r})}),(0,U.jsx)(gp,{children:"Loading..."})]})})}function up(e){return(0,U.jsx)("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:e.style,children:(0,U.jsx)("path",{d:"M14 8.81335C14 7.98493 13.3284 7.31335 12.5 7.31335H10C10 8.41792 9.10457 9.31335 8 9.31335C6.89543 9.31335 6 8.41792 6 7.31335H3.5C2.67157 7.31335 2 7.98493 2 8.81335M14 8.81335V12.8134C14 13.6418 13.3284 14.3134 12.5 14.3134H3.5C2.67157 14.3134 2 13.6418 2 12.8134V8.81335M14 8.81335V6.81335M2 8.81335V6.81335M14 6.81335C14 5.98493 13.3284 5.31335 12.5 5.31335H3.5C2.67157 5.31335 2 5.98493 2 6.81335M14 6.81335V4.81335C14 3.98493 13.3284 3.31335 12.5 3.31335H3.5C2.67157 3.31335 2 3.98493 2 4.81335V6.81335",stroke:"var(--privy-color-foreground-3)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}var mp=ft.default.div`
  display: flex;
  height: 100%;
  flex-direction: column;
  text-align: left;
`,hp=ft.default.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 8px;
`,fp=ft.default.div`
  display: flex;
  flex-direction: column;
  gap: 24px;
  padding-bottom: 16px;
  margin-top: 16px;
  margin-left: 11px;
  border-left: 1px solid var(--privy-color-foreground-4) !important;
`,bl=ft.default.div`
  display: flex;
  align-items: top;
  gap: 8px;

  && a {
    color: var(--privy-color-accent);
    &:hover {
      text-decoration: underline;
    }
  }
`,wl=ft.default.div`
  display: flex;
  align-items: center;
  justify-content: center;
  margin-left: -12px;
  flex-shrink: 0;
  width: 24px;
  height: 24px;
  border: 1px solid var(--privy-color-foreground-4) !important;
  font-size: 12px;
  font-weight: 900;
  border-radius: 100%;
  background: var(--privy-color-background);
  color: var(--privy-color-accent);
`,yp=ft.default.div`
  position: relative;
  height: 44px;
`,gp=ft.default.div`
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  font-size: 16px;
  font-weight: 500;
  border-radius: var(--privy-border-radius-md);
  background-color: var(--privy-color-background-2);
  color: var(--privy-color-foreground-3);
`,vp=ft.default.div`
  display: flex;
  align-items: center;
  padding-top: 1px;
  padding-bottom: 1px;
  padding-left: 8px;
  padding-right: 8px;
  background-color: var(--privy-color-background-2);
  color: var(--privy-color-foreground-3);
  border-radius: var(--privy-border-radius-md);
  font-size: 12px;
  font-weight: 500;
`,bp=ft.default.div`
  border: 2px solid var(--privy-color-background-2) !important;
  border-radius: var(--privy-border-radius-md);
  padding: 16px;
  padding-top: 24px;
  margin-top: -12px;

  && > h4 {
    color: var(--privy-color-error);
  }
`;var Zo=require("react"),Jo=T(require("styled-components"));var Xt=require("react"),On=T(require("styled-components"));var qi=require("react/jsx-runtime"),El=({style:e,...t})=>(0,qi.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",style:{height:"1.5rem",width:"1.5rem",...e},...t,children:(0,qi.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})});var $i=require("react/jsx-runtime"),Yo=({style:e,color:t,...o})=>(0,$i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:t||"currentColor",style:{height:"1.5rem",width:"1.5rem",...e},...o,children:(0,$i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})});var We=require("react/jsx-runtime"),Qo=6,wp=new Array(Qo).fill("");function Cp(e){return e.replace(/\s+/g,"")}function ji(e){return/^[a-zA-Z0-9]{1}$/.test(e)}function Ep(e){return/^[a-zA-Z]{1}$/.test(e)}function xp(e){return/^[a-z]{1}$/.test(e)}function xl(e){return e.length===Qo&&e.every(ji)}function Tp(e,t){return e.reduce((o,r)=>o+Number(t(r)),0)}function Pp(){return crypto.getRandomValues(new Uint8Array(1))[0]}function _p(){let e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t=[];for(;t.length<Qo;){let o=Pp();o>247||t.push(e.charAt(o%62))}return t.join("")}var Dn=({onChange:e,disabled:t,readOnly:o,disableGeneration:r,errorReasonOverride:n})=>{let[i,a]=(0,Xt.useState)(wp),[l,s]=(0,Xt.useState)(null),[u,h]=(0,Xt.useState)(null),C=y=>{var ne;let m=Cp(y.currentTarget.value);if(m==="")return;let x=Tp(i,ji),S=m.split(""),F=!S.every(ji),A=S.length+x>Qo;if(F){s("Passcode can only be letters and numbers"),h(1);return}if(A){s("Passcode must be exactly 6 letters and numbers"),h(1);return}s(null),h(null);let k=Number((ne=y.currentTarget.name)==null?void 0:ne.charAt(4)),W=[...m||[""]].slice(0,Qo-k),N=[...i.slice(0,k),...W,...i.slice(k+W.length)];a(N);let O=W.length,Q=Math.min(Math.max(k+O,0),Qo-1),re=document.querySelector(`input[name=pin-${Q}]`),ce=W[W.length-1]||"";if(Ep(ce)&&(xp(ce)?re.autocapitalize="none":re.autocapitalize="on"),re==null||re.focus(),xl(N)){let M=document.querySelector(`input[name=pin-${Q}]`);M==null||M.blur(),e(N.join(""))}else e(null);y.preventDefault()},b=y=>{u===1&&(s(null),h(null));let m=[...i.slice(0,y),"",...i.slice(y+1)];if(a(m),y>0){let x=document.querySelector(`input[name=pin-${y-1}]`);x==null||x.focus()}xl(m)?e(m.join("")):e(null)},p=o||r;return(0,We.jsxs)(We.Fragment,{children:[(0,We.jsxs)(Ap,{children:[(0,We.jsx)(Sp,{fail:!!n||!!l,children:n||l||"Passcode can be letters and numbers"}),(0,We.jsx)("div",{children:i.map((y,m)=>(0,We.jsx)("input",{name:`pin-${m}`,type:"text",value:i[m],onChange:C,onKeyUp:x=>{x.key==="Backspace"&&b(m)},inputMode:"text",autoFocus:m===0,pattern:"[a-zA-Z0-9]",className:l?"fail":"",autoComplete:"off",disabled:t||o,autoCapitalize:"none"},m))})]}),!p&&(0,We.jsx)(kp,{disabled:t,onClick:()=>{let y=_p();a([...y]),e(y)}})]})},Ap=On.default.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  gap: 8px;

  ${zo}[data-height='medium'] & {
    margin-top: 22px;
  }

  @media (max-width: 440px) {
    margin-top: 8px;
    margin-bottom: 8px;
  }

  > div:nth-child(2) {
    display: flex;
    justify-content: space-between;
    width: 100%;
    border-radius: 6px;

    > input {
      border: 1px solid var(--privy-color-foreground-4);
      background: var(--privy-color-background);
      border-radius: 6px;
      padding: 8px 10px;
      height: 58px;
      width: 46px;
      text-align: center;
      font-size: 18px;
    }

    > input:disabled {
      /* Use light-theme-bg-2 instead of disabled-bg for consistency with
      the callout bubble */
      background: var(--privy-color-background-2);
    }

    > input:focus {
      border: 1px solid var(--privy-color-accent);
    }

    > input:invalid {
      border: 1px solid var(--privy-color-error);
    }

    > input.fail {
      border: 1px solid var(--privy-color-error);
      animation: shake 180ms;
      animation-iteration-count: 2;
    }
  }

  @keyframes shake {
    0% {
      transform: translate(1px, 0px);
    }
    33% {
      transform: translate(-1px, 0px);
    }
    67% {
      transform: translate(-1px, 0px);
    }
    100% {
      transform: translate(1px, 0px);
    }
  }
`,Sp=On.default.div`
  line-height: 20px;
  height: 20px;
  font-size: 13px;
  color: ${e=>e.fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)"};
  display: flex;
  justify-content: flex-end;
  width: 100%;
`,kp=({onClick:e,disabled:t,...o})=>{let[r,n]=(0,Xt.useState)(!1),[i,a]=(0,Xt.useState)();return(0,Xt.useEffect)(()=>{t&&i&&clearTimeout(i),a(void 0)},[t]),(0,We.jsxs)(Rp,{onClick:l=>{i&&clearTimeout(i),n(!0),e==null||e(l),a(setTimeout(()=>n(!1),1e3))},justGenerated:r,disabled:t,...o,children:[r?(0,We.jsx)(Yo,{style:{height:"14px",width:"14px"},strokeWidth:"2"}):(0,We.jsx)(El,{style:{height:"14px",width:"14px"}}),r?"Generated":"Generate"," passcode"]})},Rp=On.default.button`
  display: flex;
  align-items: center;
  gap: 6px;

  && {
    margin: 8px 2px;
    font-size: 14px;
    color: ${e=>e.justGenerated?"var(--privy-color-foreground-1)":"var(--privy-color-foreground-3)"};
    font-weight: ${e=>e.justGenerated?"medium":"normal"};
    transition: color 350ms ease;

    :focus,
    :active {
      background-color: transparent;
      border: none;
      outline: none;
      box-shadow: none;
    }

    :hover {
      color: ${e=>e.justGenerated?"var(--privy-color-foreground-1)":"var(--privy-color-foreground-2)"};
    }

    :active {
      color: var(--privy-color-foreground-1);
      font-weight: medium;
    }

    @media (max-width: 440px) {
      margin: 12px 2px;
    }
  }

  svg {
    width: 14px;
    height: 14px;
  }
`;var Te=require("react/jsx-runtime"),Tl=()=>{let{authenticated:e,getAccessToken:t}=H(),{walletProxy:o,closePrivyModal:r,createAnalyticsEvent:n}=I(),{navigate:i,data:a}=w(),[l,s]=(0,Zo.useState)(void 0),[u,h]=(0,Zo.useState)(""),[C,b]=(0,Zo.useState)(!1),{privyWallet:p,onCompleteNavigateTo:y,onSuccess:m,onFailure:x}=a.recoverWallet,S=k=>{r({shouldCallAuthOnSuccess:!1}),x(typeof k=="string"?new Error(k):k)};return(0,Zo.useEffect)(()=>{if(!e||!p)return S("User must be authenticated and have a Privy wallet before it can be recovered")},[e]),(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)(_,{onClose:()=>S("User exited before their wallet could be recovered")}),(0,Te.jsxs)(Ip,{children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)(we,{title:"Load your account",description:"We haven't seen this device yet. To continue, please enter your passcode."}),(0,Te.jsx)(Dn,{onChange:k=>{k&&s(k)},disabled:C,errorReasonOverride:u,disableGeneration:!0})]}),(0,Te.jsxs)(Wp,{children:[(0,Te.jsx)("h4",{children:"Why am I doing this?"}),(0,Te.jsx)("p",{children:"When you created your account, you entered a passcode\u2014this helps secure your digital wallet and ensure only you can access it."})]}),(0,Te.jsx)(Np,{loading:C||!o,disabled:!l,onClick:async()=>{b(!0);let k=await t();if(k&&p&&l!==null)try{n("embedded_wallet_recovery_started",{walletAddress:p.address}),await(o==null?void 0:o.recover({address:p.address,accessToken:k,recoveryPin:l})),h(""),y?i(y):r({shouldCallAuthOnSuccess:!1}),m==null||m(p),n("embedded_wallet_recovery_completed",{walletAddress:p.address})}catch(W){cl(W)?h("Invalid recovery passcode, please try again."):h("An error has occurred, please try again.")}finally{b(!1)}else return S("User must be authenticated and have a Privy wallet before it can be recovered")},warn:!1,hideAnimations:!p&&C,children:"Recover your account"})]}),(0,Te.jsx)(G,{protectedByPrivy:!0})]})},Ip=Jo.default.div`
  display: flex;
  height: 100%;
  flex-direction: column;
  justify-content: space-between;
`,Wp=Jo.default.div`
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: flex-start;
  text-align: left;
  gap: 8px;
  padding: 16px;
  margin-top: 16px;
  margin-bottom: 16px;
  width: 100%;
  background: var(--privy-color-background-2);
  border-radius: var(--privy-border-radius-md);

  && h4 {
    color: var(--privy-color-foreground-3);
    font-size: 14px;
    text-decoration: underline;
    font-weight: medium;
  }

  && p {
    color: var(--privy-color-foreground-3);
    font-size: 14px;
  }
`,Np=(0,Jo.default)(te)`
  ${e=>e.hideAnimations&&Jo.css`
      && {
        // Remove animations because the recoverWallet task on the iframe partially
        // blocks the renderer, so the animation stutters and doesn't look good
        transition: none;
      }
    `}
`;var kl=require("@heroicons/react/24/outline"),Nt=require("react"),Xo=T(require("styled-components"));var _l=require("react"),Al=T(require("styled-components"));var Un=require("react/jsx-runtime"),Pl=({color:e,...t})=>(0,Un.jsx)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 115.77 122.88",xmlSpace:"preserve",...t,children:(0,Un.jsx)("g",{children:(0,Un.jsx)("path",{fill:e||"currentColor",className:"st0",d:"M89.62,13.96v7.73h12.19h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02v0.02 v73.27v0.01h-0.02c-0.01,3.84-1.57,7.33-4.1,9.86c-2.51,2.5-5.98,4.06-9.82,4.07v0.02h-0.02h-61.7H40.1v-0.02 c-3.84-0.01-7.34-1.57-9.86-4.1c-2.5-2.51-4.06-5.98-4.07-9.82h-0.02v-0.02V92.51H13.96h-0.01v-0.02c-3.84-0.01-7.34-1.57-9.86-4.1 c-2.5-2.51-4.06-5.98-4.07-9.82H0v-0.02V13.96v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07V0h0.02h61.7 h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02V13.96L89.62,13.96z M79.04,21.69v-7.73v-0.02h0.02 c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v64.59v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h12.19V35.65 v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07v-0.02h0.02H79.04L79.04,21.69z M105.18,108.92V35.65v-0.02 h0.02c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v73.27v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h61.7h0.02 v0.02c0.91,0,1.75-0.39,2.37-1.01c0.61-0.61,1-1.46,1-2.37h-0.02V108.92L105.18,108.92z"})})});var _r=require("react/jsx-runtime"),Sl=e=>{let[t,o]=(0,_l.useState)(!1);return(0,_r.jsxs)(Lp,{onClick:()=>{o(!0),navigator.clipboard.writeText(e.text),setTimeout(()=>o(!1),1500)},justCopied:t,children:[t?(0,_r.jsx)(Yo,{style:{height:"14px",width:"14px"},strokeWidth:"2"}):(0,_r.jsx)(Pl,{style:{height:"14px",width:"14px"}}),t?"Copied":"Copy"," ",e.itemName?e.itemName:"to Clipboard"]})},Lp=Al.default.button`
  display: flex;
  align-items: center;
  gap: 6px;

  && {
    margin: 8px 2px;
    font-size: 14px;
    color: ${e=>e.justCopied?"var(--privy-color-foreground-1)":"var(--privy-color-foreground-3)"};
    font-weight: ${e=>e.justCopied?"medium":"normal"};
    transition: color 350ms ease;

    :focus,
    :active {
      background-color: transparent;
      border: none;
      outline: none;
      box-shadow: none;
    }

    :hover {
      color: ${e=>e.justCopied?"var(--privy-color-foreground-1)":"var(--privy-color-foreground-2)"};
    }

    :active {
      color: var(--privy-color-foreground-1);
      font-weight: medium;
    }

    @media (max-width: 440px) {
      margin: 12px 2px;
    }
  }

  svg {
    width: 14px;
    height: 14px;
  }
`;var $=require("react/jsx-runtime"),Rl=()=>{let{authenticated:e,getAccessToken:t,user:o}=H(),{walletProxy:r,refreshUser:n,closePrivyModal:i,createAnalyticsEvent:a,isNewUserThisSession:l}=I(),{app:s,navigate:u,data:h}=w(),[C,b]=(0,Nt.useState)(void 0),[p,y]=(0,Nt.useState)(""),[m,x]=(0,Nt.useState)(!1),S=(0,Nt.useRef)(!1),{onSuccess:F,onFailure:A,callAuthOnSuccessOnClose:k}=h.createWallet,W=(s==null?void 0:s.embeddedWallets.requireUserPasswordOnCreate)===!1,N=le(o),O=new He(async()=>ce());(0,Nt.useEffect)(()=>{W&&!m&&!S.current&&(x(!0),O.execute().finally(()=>x(!1)))},[W]),(0,Nt.useEffect)(()=>{e||(u("LANDING"),A(new Error("User must be authenticated before creating a Privy wallet")))},[e]);let Q=()=>{A(new Error("User exited before creating a wallet")),i({shouldCallAuthOnSuccess:k})},re=R=>{R&&b(R)},ce=async function(){let R=await t();if(R)try{a("embedded_wallet_creation_started");let L=await(r==null?void 0:r.create({accessToken:R,recoveryPin:C}));if(!L){let me=await n();if(L=le(me),!L)throw new Error("Unable to create wallet")}a("embedded_wallet_creation_completed",{walletAddress:L.address}),y("");let _e=await n();if(S.current=!0,W)if(l)u("EMBEDDED_WALLET_CREATED_SCREEN");else{let me=le(_e);me&&(F(me),i({shouldCallAuthOnSuccess:k}))}}catch(L){if(S.current)return;y("An error has occurred, please try again."),console.warn(L)}},ne=N?()=>{x(!0),setTimeout(()=>{x(!1),u("EMBEDDED_WALLET_CREATED_SCREEN")},350)}:()=>{x(!0),setTimeout(()=>O.execute().finally(()=>x(!1)),0)},M=!!N;return W?!p||S.current?(0,$.jsx)($o,{}):(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(_,{onClose:Q}),(0,$.jsxs)(Fo,{children:[(0,$.jsx)(kl.XCircleIcon,{fill:"var(--privy-color-error)",stroke:"white",strokeWidth:".25px",width:"64px",height:"64px"}),(0,$.jsx)(Ke,{title:"Something went wrong",description:p})]}),(0,$.jsx)(te,{onClick:()=>i({shouldCallAuthOnSuccess:k}),children:"Close"})]}):(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(_,{onClose:Q}),(0,$.jsx)(Mp,{children:(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)("div",{children:[(0,$.jsx)(we,{title:M?"Secure your passcode":"Set your passcode",description:M?"Don\u2019t lose this passcode. You\u2019ll need it to access your full account on another device.":"You will need it when you sign in on a different device."}),(0,$.jsx)(Dn,{onChange:re,disabled:m,readOnly:M,errorReasonOverride:p}),M?(0,$.jsx)(Sl,{text:C||""}):null]}),(0,$.jsxs)(Op,{children:[(0,$.jsx)("h4",{children:"Why am I doing this?"}),M?(0,$.jsx)("p",{children:"This passcode allows you to access your account on another device. If you lose it, there is no way to recover your full account."}):(0,$.jsx)("p",{children:"For your security, your account is tied to this device. Your passcode allows you to access it across devices."})]}),(0,$.jsx)(Dp,{loading:m||!r,disabled:!C,onClick:ne,warn:M,hideAnimations:!N&&m,children:M?"I have saved my passcode":"Set passcode"})]})}),(0,$.jsx)(G,{protectedByPrivy:!0})]})},Mp=Xo.default.div`
  display: flex;
  height: 100%;
  flex-direction: column;
  justify-content: space-between;
`,Op=Xo.default.div`
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: flex-start;
  text-align: left;
  gap: 8px;
  padding: 16px;
  margin-top: 16px;
  margin-bottom: 16px;
  width: 100%;
  background: var(--privy-color-background-2);
  border-radius: var(--privy-border-radius-md);

  && h4 {
    color: var(--privy-color-foreground-3);
    font-size: 14px;
    text-decoration: underline;
    font-weight: medium;
  }

  && p {
    color: var(--privy-color-foreground-3);
    font-size: 14px;
  }
`,Dp=(0,Xo.default)(te)`
  ${e=>e.hideAnimations&&Xo.css`
      && {
        // Remove animations because the createNewWallet task on the iframe partially
        // blocks the renderer, so the animation stutters and doesn't look good
        transition: none;
      }
    `}
`;var Hl=require("react"),Lt=T(require("react-device-detect")),it=T(require("styled-components"));var Bn=T(require("styled-components"));var Ki=require("react/jsx-runtime"),Il=({style:e,...t})=>(0,Ki.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"17",height:"17",viewBox:"0 0 17 17",style:{height:"1.25rem",width:"1.25rem",...e},...t,children:(0,Ki.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",fillRule:"evenodd",clipRule:"evenodd",d:"M16.5 8.67993C16.5 9.82986 15.853 10.8287 14.9032 11.3322C15.2188 12.3599 14.97 13.5237 14.1569 14.3368C13.3437 15.1499 12.18 15.3987 11.1523 15.0831C10.6488 16.0329 9.64993 16.6799 8.5 16.6799C7.35007 16.6799 6.35126 16.0329 5.84771 15.0831C4.82003 15.3987 3.65627 15.1499 2.84314 14.3368C2.03001 13.5237 1.78124 12.3599 2.09681 11.3322C1.14699 10.8287 0.5 9.82986 0.5 8.67993C0.5 7.53 1.14699 6.53119 2.0968 6.02764C1.78125 4.99996 2.03003 3.83621 2.84315 3.02309C3.65627 2.20997 4.82002 1.96119 5.8477 2.27675C6.35125 1.32692 7.35007 0.679932 8.5 0.679932C9.64992 0.679932 10.6487 1.32691 11.1523 2.27672C12.18 1.96115 13.3437 2.20993 14.1569 3.02305C14.97 3.83618 15.2188 4.99996 14.9032 6.02764C15.853 6.53119 16.5 7.53 16.5 8.67993ZM12.2659 6.68856C12.5654 6.40238 12.5761 5.92763 12.29 5.62818C12.0038 5.32873 11.529 5.31797 11.2296 5.60416C9.73022 7.03711 8.40877 8.65489 7.3018 10.4211L5.78033 8.89963C5.48744 8.60673 5.01256 8.60673 4.71967 8.89963C4.42678 9.19252 4.42678 9.66739 4.71967 9.96029L6.92031 12.1609C7.08544 12.3261 7.31807 12.4048 7.54957 12.374C7.78106 12.3432 7.98499 12.2064 8.1012 12.0038C9.23027 10.0356 10.6362 8.24613 12.2659 6.68856Z",fill:"var(--privy-color-accent)"})});var Gn=require("react/jsx-runtime"),Fn=Bn.default.div`
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  gap: 4px;
`,mo=Bn.default.div`
  &&& {
    margin-left: 7px; /* TODO: This is a total hack */
    border-left: 2px solid var(--privy-color-foreground-4);
    height: 12px;
  }
`,yt=({children:e})=>(0,Gn.jsxs)(Up,{children:[(0,Gn.jsx)(Il,{style:{width:"16px",height:"16px"}}),e]}),Up=Bn.default.div`
  display: flex;
  justify-content: flex-start;
  justify-items: center;
  text-align: left;
  gap: 8px;

  && {
    a {
      text-decoration: underline;
      color: var(--privy-color-accent);
    }

    svg {
      margin-top: auto;
      margin-bottom: auto;
    }
  }
`;var Nl=T(require("qrcode")),Ll=T(require("styled-components"));var K=require("react/jsx-runtime"),Ne=7,Yi=(e,t,o,r,n)=>{for(let i=t;i<t+r;i++)for(let a=o;a<o+n;a++){let l=e==null?void 0:e[a];l&&l[i]&&(l[i]=0)}return e},Bp=e=>{let t=Nl.default.create(e,{errorCorrectionLevel:"high"}).modules,o=ls(Array.from(t.data),t.size);return o=Yi(o,0,0,Ne,Ne),o=Yi(o,o.length-Ne,0,Ne,Ne),o=Yi(o,0,o.length-Ne,Ne,Ne),o},Fp=({x:e,y:t,cellSize:o,bgColor:r,fgColor:n})=>(0,K.jsx)(K.Fragment,{children:[0,1,2].map(i=>(0,K.jsx)("circle",{r:o*(Ne-i*2)/2,cx:e+o*Ne/2,cy:t+o*Ne/2,fill:i%2!==0?r:n},`finder-${e}-${t}-${i}`))}),Gp=({cellSize:e,matrixSize:t,bgColor:o,fgColor:r})=>{let n=[[0,0],[(t-Ne)*e,0],[0,(t-Ne)*e]];return(0,K.jsx)(K.Fragment,{children:n.map(([i,a])=>(0,K.jsx)(Fp,{x:i,y:a,cellSize:e,bgColor:o,fgColor:r}))})},Hp=({matrix:e,cellSize:t,color:o})=>(0,K.jsx)(K.Fragment,{children:e.map((r,n)=>r.map((i,a)=>i?(0,K.jsx)("circle",{r:t/2.5,cx:n*t+t/2,cy:a*t+t/2,fill:o},`circle-${n}-${a}`):(0,K.jsx)(K.Fragment,{})))}),Wl=(e,t)=>e-e%t,zp=({outputSize:e,cellSize:t,element:o,size:r,padding:n,bgColor:i})=>{if(!o)return(0,K.jsx)(K.Fragment,{});let a=r||40,l=n||4,s=o,u=e/2-a/2-l;return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("rect",{x:Wl(u,t),y:Wl(u,t),width:a+l*2+(u%t?t+.5:.5),height:a+l*2+(u%t?t+.5:.5),fill:i}),(0,K.jsx)(s,{x:e/2-a/2,y:e/2-a/2,height:a,width:a})]})},Vp=e=>{var n;let t=e.outputSize,o=Bp(e.url),r=t/o.length;return(0,K.jsxs)("svg",{height:e.outputSize,width:e.outputSize,viewBox:`0 0 ${e.outputSize} ${e.outputSize}`,style:{height:"100%",width:"100%"},children:[(0,K.jsx)(Hp,{matrix:o,cellSize:r,color:e.fgColor}),(0,K.jsx)(Gp,{cellSize:r,matrixSize:o.length,fgColor:e.fgColor,bgColor:e.bgColor}),(0,K.jsx)(zp,{outputSize:e.outputSize,cellSize:r,element:(n=e.logo)==null?void 0:n.element,bgColor:e.bgColor})]})},qp=Ll.default.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: ${e=>`${e.size}px`};
  width: ${e=>`${e.size}px`};
  padding: 5px;
  margin: auto;
  background-color: ${e=>e.bgColor};

  && {
    border-width: 2px;
    border-color: ${e=>e.fgColor};
    border-radius: 12px;
  }
`,Ml=e=>{let t=e.bgColor||"#FFFFFF",o=e.fgColor||"#000000",r=e.size||160;return(0,K.jsx)(qp,{size:r,bgColor:t,fgColor:o,children:(0,K.jsx)(Vp,{url:e.url,logo:{element:e.squareLogoElement},outputSize:r,bgColor:t,fgColor:o})})};var Dl=require("react/jsx-runtime"),Ol=({size:e})=>(0,Dl.jsx)(Ml,{url:"https://coinbase-wallet.onelink.me/q5Sx/fdb9b250",squareLogoElement:Ve,size:e,fgColor:"#1F1F1F"});var Qi=require("react/jsx-runtime"),Ul=e=>(0,Qi.jsx)("svg",{width:"160",height:"160",viewBox:"0 0 160 160",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,Qi.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M68.853 62.127c-5.174.517-8.978 4.95-8.978 10.149v15.336c0 5.248 3.873 9.7 9.098 10.196 3.623.344 7.71.64 11.027.64 5.445 0 12.964-.799 17.098-1.294a3.445 3.445 0 0 0 3.027-3.436v-19.05c0-1.75-1.29-3.228-3.027-3.436-3.657-.438-9.961-1.113-15.136-1.264a66.647 66.647 0 0 0-1.965-.03c-.72 0-1.478.013-2.262.04-3.046.1-6.453.373-9.467.669a1.677 1.677 0 0 1-.174-3.347c3.804-.373 8.282-.717 11.903-.717 4.034 0 9.137.427 13.193.847 1.322.137 2.54.274 3.58.397v-1.582c0-1.734-1.264-3.203-2.983-3.426-3.83-.497-10.563-1.267-15.464-1.267-2.848 0-6.314.26-9.47.575Zm25.399 24.581a2.516 2.516 0 1 0 0-5.031 2.516 2.516 0 0 0 0 5.031Z",fill:"var(--privy-color-accent)"})});var Y=require("react/jsx-runtime"),Bl=({style:e,...t})=>(0,Y.jsxs)("svg",{width:"286",height:"183",viewBox:"0 0 286 183",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"1.25rem",width:"1.25rem",...e},...t,children:[(0,Y.jsx)("rect",{x:"198.5",y:"133",width:"50",height:"50",rx:"25",fill:"#E1E7EF"}),(0,Y.jsx)(ge,{x:"206",y:"140",width:"36",height:"36"}),(0,Y.jsx)("rect",{x:"192",y:"30",width:"50",height:"50",rx:"25",fill:"#0C5BFF"}),(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M205 55C205 61.6274 210.373 67 217 67C223.627 67 229 61.6274 229 55C229 48.3726 223.627 43 217 43C210.373 43 205 48.3726 205 55ZM213.933 51.1333C213.491 51.1333 213.133 51.4915 213.133 51.9333V58.0667C213.133 58.5085 213.491 58.8667 213.933 58.8667H220.067C220.508 58.8667 220.867 58.5085 220.867 58.0667V51.9333C220.867 51.4915 220.508 51.1333 220.067 51.1333H213.933Z",fill:"white"}),(0,Y.jsx)("rect",{x:"39.5",y:"18",width:"50",height:"50",rx:"25",fill:"url(#paint0_linear_428_81)"}),(0,Y.jsx)("path",{d:"M77.3677 42.8335H74.102C74.102 36.2519 68.6881 30.9167 62.0091 30.9167C55.4129 30.9167 50.0501 36.1213 49.9189 42.5901C49.7831 49.2769 56.1492 55.0834 62.9357 55.0834H63.7893C69.7724 55.0834 77.7916 50.468 79.0445 44.8444C79.2758 43.8079 78.445 42.8335 77.3677 42.8335ZM57.1562 43.1267C57.1562 44.0068 56.4257 44.7267 55.5325 44.7267C54.6394 44.7267 53.9089 44.0065 53.9089 43.1267V40.5383C53.9089 39.6582 54.6394 38.9383 55.5325 38.9383C56.4257 38.9383 57.1562 39.6582 57.1562 40.5383V43.1267ZM62.794 43.1267C62.794 44.0068 62.0636 44.7267 61.1705 44.7267C60.2773 44.7267 59.5468 44.0065 59.5468 43.1267V40.5383C59.5468 39.6582 60.2776 38.9383 61.1705 38.9383C62.0636 38.9383 62.794 39.6582 62.794 40.5383V43.1267Z",fill:"url(#paint1_linear_428_81)"}),(0,Y.jsx)("rect",{x:"46.5",y:"124",width:"50",height:"50",rx:"25",fill:"#141414"}),(0,Y.jsx)("g",{clipPath:"url(#clip0_428_81)",children:(0,Y.jsx)("path",{d:"M62.1497 143.578C67.3134 138.585 75.6867 138.585 80.8505 143.578L81.4722 144.179C81.5335 144.238 81.5822 144.308 81.6155 144.386C81.6488 144.463 81.666 144.547 81.666 144.631C81.666 144.715 81.6488 144.799 81.6155 144.876C81.5822 144.954 81.5335 145.024 81.4722 145.083L79.3462 147.139C79.2835 147.199 79.1996 147.232 79.1123 147.232C79.025 147.232 78.9411 147.199 78.8784 147.139L78.0232 146.311C74.421 142.829 68.58 142.829 64.977 146.311L64.0611 147.197C63.9984 147.257 63.9145 147.29 63.8272 147.29C63.7399 147.29 63.656 147.257 63.5933 147.197L61.4672 145.141C61.4059 145.083 61.3572 145.012 61.3239 144.935C61.2906 144.857 61.2735 144.774 61.2735 144.689C61.2735 144.605 61.2906 144.521 61.3239 144.444C61.3572 144.366 61.4059 144.296 61.4672 144.237L62.1497 143.578ZM85.248 147.829L87.1397 149.659C87.201 149.718 87.2497 149.788 87.283 149.865C87.3163 149.943 87.3334 150.027 87.3334 150.111C87.3334 150.195 87.3163 150.279 87.283 150.356C87.2497 150.434 87.201 150.504 87.1397 150.563L78.6081 158.812C78.4828 158.933 78.315 159 78.1403 159C77.9656 159 77.7978 158.933 77.6725 158.812L71.6177 152.957C71.5864 152.927 71.5443 152.91 71.5005 152.91C71.4567 152.91 71.4147 152.927 71.3833 152.957L65.3285 158.812C65.2032 158.933 65.0354 159 64.8607 159C64.686 159 64.5182 158.933 64.3929 158.812L55.8605 150.563C55.7992 150.504 55.7505 150.434 55.7172 150.356C55.6839 150.279 55.6667 150.195 55.6667 150.111C55.6667 150.027 55.6839 149.943 55.7172 149.865C55.7505 149.788 55.7992 149.718 55.8605 149.659L57.7531 147.829C57.8783 147.709 58.0459 147.642 58.2204 147.642C58.3949 147.642 58.5625 147.709 58.6878 147.829L64.7427 153.684C64.774 153.714 64.816 153.731 64.8598 153.731C64.9036 153.731 64.9457 153.714 64.977 153.684L71.0319 147.829C71.1572 147.709 71.325 147.641 71.4997 147.641C71.6743 147.641 71.8422 147.709 71.9675 147.829L78.0232 153.684C78.0545 153.714 78.0965 153.731 78.1403 153.731C78.1841 153.731 78.2262 153.714 78.2575 153.684L84.3124 147.829C84.4377 147.709 84.6055 147.641 84.7802 147.641C84.9549 147.641 85.1227 147.709 85.248 147.829Z",fill:"white"})}),(0,Y.jsx)("rect",{x:"103.5",y:"58",width:"78",height:"78",rx:"39",fill:"var(--privy-color-foreground-accent)"}),(0,Y.jsx)(Ul,{x:"63",y:"17"}),(0,Y.jsx)("rect",{x:"103.5",y:"58",width:"78",height:"78",rx:"39",stroke:"#E1E7EF",strokeWidth:"2"}),(0,Y.jsx)("path",{fill:"var(--privy-color-accent)",d:"M269.405 111c8.865 0 16.052-7.163 16.052-16s-7.187-16-16.052-16c-8.865 0-16.051 7.163-16.051 16s7.186 16 16.051 16ZM133.971 24c6.649 0 12.039-5.373 12.039-12s-5.39-12-12.039-12-12.039 5.373-12.039 12 5.39 12 12.039 12ZM15.592 112c4.986 0 9.029-4.029 9.029-9 0-4.97-4.043-9-9.03-9-4.986 0-9.028 4.03-9.028 9 0 4.971 4.042 9 9.029 9Z"}),(0,Y.jsx)("path",{fill:"var(--privy-color-accent-light)",d:"M152.029 177c5.541 0 10.032-4.477 10.032-10s-4.491-10-10.032-10-10.032 4.477-10.032 10 4.491 10 10.032 10ZM263.386 21c4.432 0 8.026-3.582 8.026-8s-3.594-8-8.026-8c-4.433 0-8.026 3.582-8.026 8s3.593 8 8.026 8ZM7.064 36c3.602 0 6.521-2.91 6.521-6.5s-2.92-6.5-6.52-6.5C3.462 23 .542 25.91.542 29.5S3.463 36 7.064 36Z"}),(0,Y.jsxs)("defs",{children:[(0,Y.jsxs)("linearGradient",{id:"paint0_linear_428_81",x1:"64.5",y1:"18",x2:"64.5",y2:"68",gradientUnits:"userSpaceOnUse",children:[(0,Y.jsx)("stop",{stopColor:"#534BB1"}),(0,Y.jsx)("stop",{offset:"1",stopColor:"#551BF9"})]}),(0,Y.jsxs)("linearGradient",{id:"paint1_linear_428_81",x1:"64.5",y1:"30.9167",x2:"64.5",y2:"55.0834",gradientUnits:"userSpaceOnUse",children:[(0,Y.jsx)("stop",{stopColor:"white"}),(0,Y.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0.82"})]}),(0,Y.jsx)("clipPath",{id:"clip0_428_81",children:(0,Y.jsx)("rect",{width:"31.6667",height:"19.1667",fill:"white",transform:"translate(55.6667 139.833)"})})]})]});var v=require("react/jsx-runtime");var Zi=()=>{let{navigate:e}=w(),t="https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn?hl=en";return Lt.isFirefox&&(t="https://addons.mozilla.org/en-US/firefox/addon/ether-metamask/"),(0,v.jsxs)(ea,{children:[(0,v.jsx)(we,{title:"Create a Metamask wallet",description:"Follow the instructions below to get started."}),(0,v.jsx)(ta,{children:(0,v.jsx)(ge,{style:{width:"152px",height:"152px"}})}),(0,v.jsxs)(Fn,{children:[(0,v.jsx)(yt,{children:(0,v.jsxs)("div",{children:[(0,v.jsx)("span",{children:"Install the "}),(0,v.jsx)("a",{href:t,target:"_blank",children:"MetaMask browser extension"})]})}),(0,v.jsx)(mo,{}),(0,v.jsx)(yt,{children:"Set up your first wallet"}),(0,v.jsx)(mo,{}),(0,v.jsx)(yt,{children:"Store your recovery phrase in a safe place!"})]}),(0,v.jsx)(he,{onClick:()=>e("LANDING"),children:"Done! I have my wallet"})]})},Ji=()=>{let{navigate:e}=w(),t="https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en";return Lt.isFirefox&&(t="https://addons.mozilla.org/en-US/firefox/addon/phantom-app/"),(0,v.jsxs)(ea,{children:[(0,v.jsx)(we,{title:"Create a Phantom wallet",description:"Follow the instructions below to get started."}),(0,v.jsx)(ta,{children:(0,v.jsx)(dt,{style:{width:"152px",height:"152px"}})}),(0,v.jsxs)(Fn,{children:[(0,v.jsx)(yt,{children:(0,v.jsxs)("div",{children:[(0,v.jsx)("span",{children:"Install the "}),(0,v.jsx)("a",{href:t,target:"_blank",children:"Phantom browser extension"})]})}),(0,v.jsx)(mo,{}),(0,v.jsx)(yt,{children:"Set up your first wallet"}),(0,v.jsx)(mo,{}),(0,v.jsx)(yt,{children:"Store your recovery phrase in a safe place!"})]}),(0,v.jsx)(he,{onClick:()=>e("LANDING"),children:"Done! I have my wallet"})]})},Xi=()=>{let{navigate:e}=w();return(0,v.jsxs)(ea,{children:[(0,v.jsx)(we,{title:"Create a Coinbase wallet",description:"Follow the instructions below to get started."}),(0,v.jsx)(ta,{style:{marginTop:"-24px"},children:(0,v.jsx)(Ol,{size:200})}),(0,v.jsxs)(Fn,{children:[(0,v.jsx)(yt,{children:"Scan the QR code with your camera"}),(0,v.jsx)(mo,{}),(0,v.jsx)(yt,{children:"Set up your first wallet"}),(0,v.jsx)(mo,{}),(0,v.jsx)(yt,{children:"Store your seed phrase in a safe place!"})]}),(0,v.jsx)(he,{onClick:()=>e("LANDING"),children:"Done! I have my wallet"})]})},zl=()=>{let[e,t]=(0,Hl.useState)("WHAT_IS_A_WALLET"),{navigateBack:o}=w();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(_,{backFn:e==="WHAT_IS_A_WALLET"?o:e==="PICK_A_NEW_WALLET"?()=>t("WHAT_IS_A_WALLET"):()=>t("PICK_A_NEW_WALLET")},"header"),(0,v.jsxs)($p,{children:[e==="WHAT_IS_A_WALLET"&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(Zp,{children:(0,v.jsx)(Bl,{style:{width:"240px",height:"auto",borderRadius:"var(--privy-border-radius-sm)",marginBottom:"32px"}})}),(0,v.jsxs)(Ke,{title:"Get started with a new wallet",children:[(0,v.jsx)("p",{children:"Wallets help you store, send, and receive digital assets and collectibles. They are also a new\xA0way\xA0to\xA0log\xA0in."}),(0,v.jsx)("p",{children:"Instead of creating new accounts and passwords for every app, you just connect your wallet and bring your\xA0data\xA0with\xA0you."})]}),(0,v.jsx)(Yp,{children:(0,v.jsx)(Qp,{onClick:()=>{t("PICK_A_NEW_WALLET")},children:"Create a wallet"})})]}),e==="PICK_A_NEW_WALLET"&&(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(jp,{children:[(0,v.jsx)(we,{title:"Create a new wallet",description:"Select one the wallet providers below to get started on your web3 adventure."}),(0,v.jsxs)(Kp,{children:[(0,v.jsxs)(Fl,{onClick:()=>{Lt.isIOS?window.location.href="https://apps.apple.com/us/app/metamask-blockchain-wallet/id1438144202":Lt.isAndroid?window.location.href="https://play.google.com/store/apps/details?id=io.metamask":t("CREATE_METAMASK_WALLET")},children:[(0,v.jsx)(ge,{}),(0,v.jsxs)(Gl,{children:[(0,v.jsx)("h4",{children:"MetaMask"}),(0,v.jsx)("p",{children:"Get a browser-based wallet"})]})]}),(0,v.jsxs)(Fl,{onClick:()=>{Lt.isIOS?window.location.href="https://apps.apple.com/us/app/coinbase-wallet-nfts-crypto/id1278383455":Lt.isAndroid?window.location.href="https://play.google.com/store/apps/details?id=org.toshi":t("CREATE_COINBASE_WALLET")},children:[(0,v.jsx)(Ve,{}),(0,v.jsxs)(Gl,{children:[(0,v.jsx)("h4",{children:"Coinbase Wallet"}),(0,v.jsx)("p",{children:"Get a mobile app wallet"})]})]})]})]})}),e==="CREATE_COINBASE_WALLET"&&(0,v.jsx)(Xi,{}),e==="CREATE_METAMASK_WALLET"&&(0,v.jsx)(Zi,{}),e==="CREATE_PHANTOM_WALLET"&&(0,v.jsx)(Ji,{})]}),(0,v.jsxs)(rt,{children:[(0,v.jsx)("span",{children:"Still not sure? "}),(0,v.jsx)("a",{target:"_blank",href:"https://join.tell.ie/blog/explaining-web3-wallets",children:"Learn more"}),"."]})]})},$p=it.default.div`
  display: flex;
  flex-direction: column;
  height: 100%;
  flex-grow: 1;

  > svg {
    @media (max-width: 440px) {
      display: none;
    }
  }
`,jp=it.default.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
  text-align: left;
  gap: 20px;
`,Kp=it.default.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  gap: 8px;
`,Fl=it.default.button`
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 12px;
  cursor: pointer;

  width: 100%;

  && {
    padding: 12px 16px;

    border: 1px solid var(--privy-color-foreground-4);
    border-radius: var(--privy-border-radius-sm);
    transition: all 200ms ease-in-out;
  }

  > svg {
    border-radius: var(--privy-border-radius-sm);
  }

  -webkit-user-select: none;
  -ms-user-select: none;
  user-select: none;

  flex: none;
  order: 0;
  align-self: stretch;
  flex-grow: 0;

  :hover {
    border: 1px solid var(--privy-color-accent-light);
  }
`,Gl=it.default.div`
  text-align: left;

  p {
    font-style: italic;
    font-size: 12px;
  }
`,Yp=it.default.div`
  margin-top: auto;
  display: flex;
  align-items: flex-end;
  flex-grow: 1;
  width: 100%;
`,Qp=(0,it.default)(te)`
  && {
    margin-top: 14px;
  }
`,ea=it.default.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 100%;
  gap: 30px;
  flex-grow: 1;

  > :first-child > svg {
    margin-top: 20px;
  }
`,ta=it.default.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 100%;
`,Zp=it.default.div`
  display: flex;
  justify-content: center;
  flex-grow: 1;
`;var gt=require("react/jsx-runtime"),Vl=()=>{let{navigateBack:e}=w();return(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)(_,{backFn:e},"header"),(0,gt.jsx)(Xi,{}),(0,gt.jsxs)(rt,{children:[(0,gt.jsx)("span",{children:"Still not sure? "}),(0,gt.jsx)("a",{target:"_blank",href:"https://join.tell.ie/blog/explaining-web3-wallets",children:"Learn more"})]})]})};var vt=require("react/jsx-runtime"),ql=()=>{let{navigateBack:e}=w();return(0,vt.jsxs)(vt.Fragment,{children:[(0,vt.jsx)(_,{backFn:e},"header"),(0,vt.jsx)(Zi,{}),(0,vt.jsxs)(rt,{children:[(0,vt.jsx)("span",{children:"Still not sure? "}),(0,vt.jsx)("a",{target:"_blank",href:"https://join.tell.ie/blog/explaining-web3-wallets",children:"Learn more"})]})]})};var bt=require("react/jsx-runtime"),$l=()=>{let{navigateBack:e}=w();return(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(_,{backFn:e},"header"),(0,bt.jsx)(Ji,{}),(0,bt.jsxs)(rt,{children:[(0,bt.jsx)("span",{children:"Still not sure? "}),(0,bt.jsx)("a",{target:"_blank",href:"https://join.tell.ie/blog/explaining-web3-wallets",children:"Learn more"})]})]})};var Yl=require("react"),sa=require("react-device-detect"),fo=T(require("styled-components"));var er=require("react"),Ar=T(require("styled-components"));var oa=require("react/jsx-runtime"),Hn=({style:e,...t})=>(0,oa.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",style:{height:"1.5rem",width:"1.5rem",...e},...t,children:(0,oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})});var Le=require("react/jsx-runtime"),zn=e=>{let[t,o]=(0,er.useState)(""),[r,n]=(0,er.useState)(!1),[i,a]=(0,er.useState)(null),{isLinking:l,initLoginWithEmail:s}=I(),{app:u,navigate:h}=w(),C=(u==null?void 0:u.loginMethods.wallet)??!1;(0,er.useEffect)(()=>{let m=document.querySelector("#email-input");m==null||m.focus()},[]);let b=as(t),p=()=>{n(!0),s(t).then(()=>{h("AWAITING_PASSWORDLESS_CODE")}).catch(m=>{(m==null?void 0:m.status)===422?a(m.message):(m==null?void 0:m.privyErrorCode)==="allowlist_rejected"?h("ALLOWLIST_REJECTION_SCREEN"):a("Issue submitting email"),n(!1)})},y="Get started without a wallet.";return i?y=i:l?y="Easily connect an email":C||(y="Get started quickly with email"),(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsxs)(Jp,{stacked:e.stacked,children:[(0,Le.jsxs)(eu,{standalone:e.stacked,children:[(0,Le.jsx)(Hn,{}),(0,Le.jsx)("input",{id:"email-input",type:"email",placeholder:"your@email.com",onChange:m=>o(m.target.value),onKeyUp:m=>{m.key==="Enter"&&p()},value:t,autoComplete:"email"})]}),e.stacked?null:(0,Le.jsx)(Xp,{disabled:r||!b,onClick:p,children:r?(0,Le.jsx)(ot,{}):"Submit"})]}),(0,Le.jsx)(tu,{fail:!!i,children:y}),e.stacked?(0,Le.jsx)(te,{loading:r,loadingText:null,disabled:r||!b,onClick:p,children:"Submit"}):null]})},Jp=Ar.default.div`
  width: 100%;
  height: ${e=>e.stacked?"100%":"auto"};

  display: flex;
  align-content: center;
  align-items: center;
  flex-grow: 1;

  @media (max-width: 440px) {
    margin-top: 20px;
  }
`,Xp=Ar.default.button`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  & {
    height: 44px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 600;
    border-radius: 0px var(--privy-border-radius-sm) var(--privy-border-radius-sm) 0px;
  }

  && {
    padding-left: 15px;
    padding-right: 15px;
    background-color: var(--privy-color-accent);
    color: var(--privy-color-foreground-accent);
    transition: background-color 200ms ease;
  }

  &:hover {
    background-color: var(--privy-color-accent-dark);
  }

  &:disabled,
  &:hover:disabled {
    background-color: var(--privy-color-background-2);
    color: var(--privy-color-foreground-3);
    cursor: not-allowed;
  }
`,eu=Ar.default.label`
  display: flex;
  flex-direction: row;
  align-items: center;
  position: relative;
  width: 100%;
  height: ${e=>e.standalone?"64px":"44px"};
  background: var(--privy-color-background);

  > svg {
    z-index: 2;
    margin-left: 8px;
    height: 20px !important;
    width: 20px !important;
    color: var(--privy-color-foreground-3);
  }

  && > input {
    position: absolute;
    padding-left: 40px;
    line-height: 20px;

    /* Mirror parent to handle embedded logo on left */
    border-radius: ${e=>e.standalone?"var(--privy-border-radius-sm)":"var(--privy-border-radius-sm) 0px 0px var(--privy-border-radius-sm)"};
    height: 100%;
    width: 100%;
    border: 1px solid var(--privy-color-foreground-4);
    background: var(--privy-color-background);
  }

  /* Mobile */
  @media (max-width: 440px) {
    && > input {
      font-size: 16px;
      line-height: 24px;
    }
  }
`,tu=Ar.default.div`
  line-height: 20px;
  height: 20px;
  font-size: 13px;
  color: ${e=>e.success?"var(--privy-color-success)":e.fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)"};
  display: flex;
  justify-content: space-between;
  width: 100%;

  > button,
  > a {
    text-decoration: underline;
  }
`;var tr=require("react"),Sr=T(require("styled-components"));var ra=require("react/jsx-runtime"),Vn=({style:e,...t})=>(0,ra.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",strokeWidth:1.5,stroke:"currentColor",style:{height:"1.5rem",width:"1.5rem",...e},...t,children:(0,ra.jsx)("path",{d:"M2.5 4.16667C2.5 3.72464 2.67559 3.30072 2.98816 2.98816C3.30072 2.67559 3.72464 2.5 4.16667 2.5H6.9C7.07483 2.50013 7.24519 2.55525 7.38696 2.65754C7.52874 2.75984 7.63475 2.90413 7.69 3.07L8.93833 6.81417C9.00158 7.00445 8.9941 7.21116 8.91726 7.39637C8.84042 7.58158 8.69938 7.73288 8.52 7.8225L6.63917 8.76417C7.5611 10.8046 9.19538 12.4389 11.2358 13.3608L12.1775 11.48C12.2671 11.3006 12.4184 11.1596 12.6036 11.0827C12.7888 11.0059 12.9956 10.9984 13.1858 11.0617L16.93 12.31C17.096 12.3653 17.2404 12.4714 17.3427 12.6134C17.445 12.7553 17.5 12.9259 17.5 13.1008V15.8333C17.5 16.2754 17.3244 16.6993 17.0118 17.0118C16.6993 17.3244 16.2754 17.5 15.8333 17.5H15C8.09667 17.5 2.5 11.9033 2.5 5V4.16667Z",strokeLinecap:"round",strokeLinejoin:"round"})});var Me=require("react/jsx-runtime"),qn=e=>{let[t,o]=(0,tr.useState)(""),[r,n]=(0,tr.useState)(!1),[i,a]=(0,tr.useState)(null),{isLinking:l,initLoginWithSms:s}=I(),{app:u,navigate:h}=w(),C=(u==null?void 0:u.loginMethods.wallet)??!1;(0,tr.useEffect)(()=>{let m=document.querySelector("#phone-number-input");m==null||m.focus()},[]);let b=ss(t),p=()=>{n(!0),s(t).then(()=>{h("AWAITING_PASSWORDLESS_CODE")}).catch(m=>{(m==null?void 0:m.status)===422?a(m.message):(m==null?void 0:m.privyErrorCode)==="allowlist_rejected"?h("ALLOWLIST_REJECTION_SCREEN"):a("Issue submitting phone number"),n(!1)})},y="Get started without a wallet.";return i?y=i:l?y="Easily connect a phone number":C||(y="Get started quickly with your phone"),(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)(ou,{stacked:e.stacked,children:[(0,Me.jsxs)(nu,{standalone:e.stacked,children:[(0,Me.jsx)(Vn,{}),(0,Me.jsx)("input",{id:"phone-number-input",type:"tel",placeholder:"555 555 5555",onChange:m=>{o(m.target.value)},onKeyUp:m=>{m.key==="Enter"&&p()},value:t,autoComplete:"tel"})]}),e.stacked?null:(0,Me.jsx)(ru,{disabled:r||!b,onClick:p,children:r?(0,Me.jsx)(ot,{}):"Submit"})]}),(0,Me.jsx)(iu,{fail:!!i,children:y}),e.stacked?(0,Me.jsx)(te,{loading:r,loadingText:null,disabled:r||!b,onClick:p,children:"Submit"}):null]})},ou=Sr.default.div`
  display: flex;
  border: 1px solid var(--privy-color-foreground-4);
  width: 100%;

  height: ${e=>e.stacked?"100%":"auto"};
  display: flex;
  align-content: center;
  align-items: center;
  flex-grow: 1;

  @media (max-width: 440px) {
    margin-top: 20px;
  }
`,ru=Sr.default.button`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  & {
    height: 44px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 600;
    border-radius: 0px var(--privy-border-radius-sm) var(--privy-border-radius-sm) 0px;
  }

  && {
    padding-left: 15px;
    padding-right: 15px;
    background-color: var(--privy-color-accent);
    color: var(--privy-color-foreground-accent);
    transition: background-color 200ms ease;
  }

  &:hover {
    background-color: var(--privy-color-accent-dark);
  }

  &:disabled,
  &:hover:disabled {
    background-color: var(--privy-color-background-2);
    color: var(--privy-color-foreground-3);
    cursor: not-allowed;
  }
`,nu=Sr.default.label`
  display: flex;
  flex-direction: row;
  align-items: center;
  position: relative;
  width: 100%;
  height: ${e=>e.standalone?"64px":"44px"};
  background: var(--privy-color-background);

  > svg {
    z-index: 2;
    margin-left: 8px;
    height: 20px !important;
    width: 20px !important;
    color: var(--privy-color-foreground-3);
  }

  && > input {
    position: absolute;
    padding-left: 40px;
    line-height: 20px;

    /* Mirror parent to handle embedded logo on left */
    border-radius: ${e=>e.standalone?"var(--privy-border-radius-sm)":"var(--privy-border-radius-sm) 0px 0px var(--privy-border-radius-sm)"};
    height: 100%;
    width: 100%;
    border: 1px solid var(--privy-color-foreground-4);
    background: var(--privy-color-background);
  }

  /* Mobile */
  @media (max-width: 440px) {
    && > input {
      font-size: 16px;
      line-height: 24px;
    }
  }
`,iu=Sr.default.div`
  line-height: 20px;
  height: 20px;
  font-size: 13px;
  color: ${e=>e.success?"var(--privy-color-success)":e.fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)"};
  display: flex;
  justify-content: space-between;
  width: 100%;

  > button,
  > a {
    text-decoration: underline;
  }
`;var aa=T(require("styled-components"));var kr=require("react/jsx-runtime"),$n=({style:e,...t})=>(0,kr.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 24 24",style:{height:"24px",...e},...t,children:[(0,kr.jsx)("path",{d:"M17.0722 11.6888C17.0471 8.90571 19.3263 7.56847 19.429 7.50274C18.1466 5.60938 16.153 5.35154 15.4417 5.3212C13.7461 5.14678 12.1306 6.32982 11.269 6.32982C10.4074 6.32982 9.08004 5.34648 7.67246 5.37429C5.82158 5.40209 4.11595 6.45874 3.16171 8.13218C1.24068 11.4942 2.6708 16.4817 4.54423 19.2143C5.46091 20.549 6.55041 22.0531 7.98554 21.9975C9.36803 21.9419 9.88905 21.095 11.5571 21.095C13.2251 21.095 13.696 21.9975 15.1537 21.9697C16.6389 21.9393 17.5806 20.6046 18.4897 19.2648C19.5392 17.7153 19.9725 16.2137 19.9975 16.1354C19.965 16.1228 17.1022 15.0155 17.0722 11.6888Z",fill:"currentColor"}),(0,kr.jsx)("path",{d:"M14.3295 3.51373C15.0909 2.58347 15.6043 1.28921 15.4641 0C14.3671 0.0455014 13.0396 0.738135 12.2532 1.66838C11.5494 2.48994 10.9307 3.80695 11.0986 5.07089C12.3183 5.16694 13.5681 4.44145 14.3295 3.51373Z",fill:"currentColor"})]});var eo=require("react/jsx-runtime"),jn=({style:e,...t})=>(0,eo.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 71 55",style:{height:"24px",...e},...t,children:[(0,eo.jsx)("g",{clipPath:"url(#clip0)",children:(0,eo.jsx)("path",{d:"M60.1045 4.8978C55.5792 2.8214 50.7265 1.2916 45.6527 0.41542C45.5603 0.39851 45.468 0.440769 45.4204 0.525289C44.7963 1.6353 44.105 3.0834 43.6209 4.2216C38.1637 3.4046 32.7345 3.4046 27.3892 4.2216C26.905 3.0581 26.1886 1.6353 25.5617 0.525289C25.5141 0.443589 25.4218 0.40133 25.3294 0.41542C20.2584 1.2888 15.4057 2.8186 10.8776 4.8978C10.8384 4.9147 10.8048 4.9429 10.7825 4.9795C1.57795 18.7309 -0.943561 32.1443 0.293408 45.3914C0.299005 45.4562 0.335386 45.5182 0.385761 45.5576C6.45866 50.0174 12.3413 52.7249 18.1147 54.5195C18.2071 54.5477 18.305 54.5139 18.3638 54.4378C19.7295 52.5728 20.9469 50.6063 21.9907 48.5383C22.0523 48.4172 21.9935 48.2735 21.8676 48.2256C19.9366 47.4931 18.0979 46.6 16.3292 45.5858C16.1893 45.5041 16.1781 45.304 16.3068 45.2082C16.679 44.9293 17.0513 44.6391 17.4067 44.3461C17.471 44.2926 17.5606 44.2813 17.6362 44.3151C29.2558 49.6202 41.8354 49.6202 53.3179 44.3151C53.3935 44.2785 53.4831 44.2898 53.5502 44.3433C53.9057 44.6363 54.2779 44.9293 54.6529 45.2082C54.7816 45.304 54.7732 45.5041 54.6333 45.5858C52.8646 46.6197 51.0259 47.4931 49.0921 48.2228C48.9662 48.2707 48.9102 48.4172 48.9718 48.5383C50.038 50.6034 51.2554 52.5699 52.5959 54.435C52.6519 54.5139 52.7526 54.5477 52.845 54.5195C58.6464 52.7249 64.529 50.0174 70.6019 45.5576C70.6551 45.5182 70.6887 45.459 70.6943 45.3942C72.1747 30.0791 68.2147 16.7757 60.1968 4.9823C60.1772 4.9429 60.1437 4.9147 60.1045 4.8978ZM23.7259 37.3253C20.2276 37.3253 17.3451 34.1136 17.3451 30.1693C17.3451 26.225 20.1717 23.0133 23.7259 23.0133C27.308 23.0133 30.1626 26.2532 30.1066 30.1693C30.1066 34.1136 27.28 37.3253 23.7259 37.3253ZM47.3178 37.3253C43.8196 37.3253 40.9371 34.1136 40.9371 30.1693C40.9371 26.225 43.7636 23.0133 47.3178 23.0133C50.9 23.0133 53.7545 26.2532 53.6986 30.1693C53.6986 34.1136 50.9 37.3253 47.3178 37.3253Z",fill:"#5865F2"})}),(0,eo.jsx)("defs",{children:(0,eo.jsx)("clipPath",{id:"clip0",children:(0,eo.jsx)("rect",{width:"71",height:"55",fill:"white"})})})]});var na=require("react/jsx-runtime"),Kn=({style:e,...t})=>(0,na.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"24",y:"24",viewBox:"0 0 98 96",style:{height:"24px",...e},...t,children:(0,na.jsx)("path",{d:"M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z",fill:"currentColor"})});var ho=require("react/jsx-runtime"),Yn=({style:e,...t})=>(0,ho.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"26px",width:"26px",...e},...t,children:[(0,ho.jsx)("path",{d:"M22.56 12.25C22.56 11.47 22.49 10.72 22.36 10H12V14.255H17.92C17.665 15.63 16.89 16.795 15.725 17.575V20.335H19.28C21.36 18.42 22.56 15.6 22.56 12.25Z",fill:"#4285F4"}),(0,ho.jsx)("path",{d:"M12 23C14.97 23 17.46 22.015 19.28 20.335L15.725 17.575C14.74 18.235 13.48 18.625 12 18.625C9.13504 18.625 6.71004 16.69 5.84504 14.09H2.17004V16.94C3.98004 20.535 7.70004 23 12 23Z",fill:"#34A853"}),(0,ho.jsx)("path",{d:"M5.845 14.09C5.625 13.43 5.5 12.725 5.5 12C5.5 11.275 5.625 10.57 5.845 9.91V7.06H2.17C1.4 8.59286 0.999321 10.2846 1 12C1 13.775 1.425 15.455 2.17 16.94L5.845 14.09Z",fill:"#FBBC05"}),(0,ho.jsx)("path",{d:"M12 5.375C13.615 5.375 15.065 5.93 16.205 7.02L19.36 3.865C17.455 2.09 14.965 1 12 1C7.70004 1 3.98004 3.465 2.17004 7.06L5.84504 9.91C6.71004 7.31 9.13504 5.375 12 5.375Z",fill:"#EA4335"})]});var ia=require("react/jsx-runtime"),Qn=({style:e,...t})=>(0,ia.jsx)("svg",{width:"24",height:"20",viewBox:"0 0 24 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"26px",width:"26px",...e},...t,children:(0,ia.jsx)("path",{d:"M7.54311 19.7551C16.5973 19.7551 21.5516 12.2467 21.5516 5.74656C21.5516 5.53533 21.5516 5.32409 21.542 5.11286C22.5021 4.42156 23.3375 3.54783 24 2.55888C23.1166 2.95254 22.1661 3.21178 21.1675 3.3366C22.1853 2.73171 22.963 1.76196 23.3375 0.609788C22.3869 1.17627 21.3308 1.57953 20.2074 1.80037C19.3049 0.840223 18.0279 0.244934 16.6165 0.244934C13.8993 0.244934 11.6909 2.45326 11.6909 5.17047C11.6909 5.55453 11.7389 5.92898 11.8157 6.29384C7.72554 6.09221 4.09619 4.12391 1.66703 1.14747C1.24457 1.87718 1.00453 2.72211 1.00453 3.62464C1.00453 5.3337 1.87826 6.84112 3.19366 7.72445C2.38714 7.69565 1.62862 7.47481 0.966125 7.10996C0.966125 7.12916 0.966125 7.14837 0.966125 7.17717C0.966125 9.55833 2.66558 11.5554 4.91232 12.0067C4.49945 12.1219 4.06739 12.1795 3.61612 12.1795C3.29927 12.1795 2.99203 12.1507 2.69438 12.0931C3.31848 14.0518 5.14275 15.4728 7.29347 15.5112C5.60362 16.8362 3.4817 17.6235 1.17736 17.6235C0.783698 17.6235 0.390039 17.6043 0.00598145 17.5563C2.17591 18.9389 4.76829 19.7551 7.54311 19.7551Z",fill:"#1da1f2"})});var Oe=require("react/jsx-runtime"),jl=({showGoogle:e,showTwitter:t,showDiscord:o,showGithub:r,showApple:n})=>{let{initLoginWithOAuth:i}=I(),{app:a}=w(),l=a==null?void 0:a.appearance.palette.colorScheme;return(0,Oe.jsxs)(au,{children:[e&&(0,Oe.jsx)(Rr,{onClick:()=>{i("google")},children:(0,Oe.jsx)(Yn,{})}),t&&(0,Oe.jsx)(Rr,{onClick:()=>{i("twitter")},children:(0,Oe.jsx)(Qn,{})}),o&&(0,Oe.jsx)(Rr,{onClick:()=>{i("discord")},children:(0,Oe.jsx)(jn,{})}),r&&(0,Oe.jsx)(Rr,{onClick:()=>{i("github")},children:(0,Oe.jsx)(Kn,{style:{color:l==="light"?"#000":"#fff"}})}),n&&(0,Oe.jsx)(Rr,{onClick:()=>{i("apple")},children:(0,Oe.jsx)($n,{style:{color:l==="light"?"#000":"#fff"}})})]})},au=aa.default.div`
  display: flex;
  justify-content: space-between;
  width: 100%;
  gap: 4px;
`,Rr=aa.default.div`
  border-radius: var(--privy-border-radius-sm);
  cursor: pointer;
  height: 44px;
  flex: 1;
  background-color: var(--privy-color-background);
  border: 1px solid var(--privy-color-background-2) !important;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  &:hover {
    background-color: var(--privy-color-background-2);
  }
`;var B=require("react/jsx-runtime");var Ql=()=>{let{app:e}=w(),t=(e==null?void 0:e.loginMethods.email)??!1,o=(e==null?void 0:e.loginMethods.sms)??!1,r=(e==null?void 0:e.loginMethods.wallet)??!1,n=(e==null?void 0:e.loginMethods.google)??!1,i=(e==null?void 0:e.loginMethods.twitter)??!1,a=(e==null?void 0:e.loginMethods.discord)??!1,l=(e==null?void 0:e.loginMethods.github)??!1,s=(e==null?void 0:e.loginMethods.apple)??!1,u=r&&(e==null?void 0:e.appearance.showWalletLoginFirst)?0:1,[h,C]=(0,Yl.useState)(u),b=h==0,p=h==1,y=r,m=t||o,x=y!==m;return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(_,{},"header"),e!=null&&e.appearance.logo?(0,B.jsx)(pu,{hasOnlyOneSection:x,hasTerms:!!((e==null?void 0:e.legal.privacyPolicyUrl)||(e==null?void 0:e.legal.termsAndConditionsUrl)),children:(0,B.jsx)(In,{})}):null,(0,B.jsxs)(uu,{reverse:!(e!=null&&e.appearance.showWalletLoginFirst),children:[y&&(0,B.jsx)(su,{active:b||x,connectOnly:!1,onClick:()=>C(0),isOnlySection:!m}),m&&(0,B.jsx)(lu,{active:p||x,onClick:()=>C(1),email:t,sms:o,google:n,twitter:i,discord:a,github:l,apple:s,isOnlySection:!y})]}),e&&(0,B.jsx)(Sn,{app:e}),(0,B.jsx)(G,{protectedByPrivy:!0})]})};function su(e){return(0,B.jsxs)(Jl,{active:e.active,onClick:e.onClick,isOnlySection:e.isOnlySection,children:[(0,B.jsx)(Zl,{active:e.active,children:(0,B.jsx)("h4",{children:"Connect Wallet"})}),e.active&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(Qt,{connectOnly:e.connectOnly}),(0,B.jsx)(Zt,{})]})]})}function lu(e){let t=e.google||e.discord||e.github||e.twitter&&!sa.isMobile||e.apple,o=e.email?"Email":"Phone";return(0,B.jsxs)(Jl,{active:e.active,onClick:e.onClick,isOnlySection:e.isOnlySection,children:[e.isOnlySection?null:(0,B.jsx)(Zl,{active:e.active,children:(0,B.jsx)("h4",{children:t?`${o} & Social`:o})}),e.active&&e.email&&(0,B.jsx)(zn,{}),e.active&&e.sms&&!e.email&&(0,B.jsx)(qn,{}),e.active&&t&&(0,B.jsx)(cu,{google:e.google,twitter:e.twitter&&!sa.isMobile,discord:e.discord,github:e.github,apple:e.apple})]})}function cu(e){return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(du,{children:[(0,B.jsx)(Kl,{}),(0,B.jsx)("p",{children:" Or "}),(0,B.jsx)(Kl,{})]}),(0,B.jsx)(jl,{showGoogle:e.google,showDiscord:e.discord,showGithub:e.github,showTwitter:e.twitter,showApple:e.apple})]})}var Zl=fo.default.div`
  font-weight: ${e=>e.active?600:500};
  color: ${e=>e.active?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)"};
  display: flex;
  justify-content: center;
  align-items: center;
`,Jl=fo.default.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  /* 1px helps with the input ring getting hidden by padding, despite it being
   * annoying that it's not perfectly lined up
   */
  padding: ${e=>e.isOnlySection?"1px":"12px"};
  gap: 12px;
  width: 100%;
  max-height: ${e=>e.active?"400px":"52px"};

  transition-property: border-color, max-height;
  transition-duration: 0.25s;
  transition-timing-function: ease-in;
  overflow: hidden;

  && {
    background: var(--privy-color-background);

    border: ${e=>e.isOnlySection?"none":e.active?"1px solid var(--privy-color-accent-light);":"1px solid var(--privy-color-foreground-4);"};
    border-radius: ${e=>e.isOnlySection?"0":"10px"};
  }

  cursor: ${e=>e.active?"inherit":"pointer"};
`,du=fo.default.div`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;

  && > p {
    color: var(--privy-color-foreground-3);
  }
`,Kl=fo.default.hr`
  width: 50%;
  && {
    border-top: 1px solid var(--privy-color-background-2);
    margin: 0px 8px;
  }
`,pu=fo.default.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  height: 100%;
  padding: ${e=>`${50-(e.hasTerms?20:0)}px`} 10px
    ${e=>`${e.hasOnlyOneSection?60:10}px`};

  @media (max-width: 440px) {
    padding: 10px 10px 20px;
  }
`,uu=(0,fo.default)(be)`
  flex-direction: ${e=>e.reverse?"column-reverse":"column"};
`;var at=require("react/jsx-runtime"),Xl=()=>{let{app:e}=w();return(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)(_,{},"header"),(0,at.jsx)(Ke,{title:"Connect your email",description:`Add your email to your ${e==null?void 0:e.name} account`,icon:(0,at.jsx)(Hn,{})}),(0,at.jsx)(be,{children:(0,at.jsx)(zn,{stacked:!0})}),(0,at.jsx)(G,{protectedByPrivy:!0})]})};var st=require("react/jsx-runtime"),ec=()=>{let{app:e}=w();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(_,{},"header"),(0,st.jsx)(Ke,{title:"Connect your phone",description:`Add your number to your ${e==null?void 0:e.name} account`,icon:(0,st.jsx)(Vn,{})}),(0,st.jsx)(be,{children:(0,st.jsx)(qn,{stacked:!0})}),(0,st.jsx)(G,{protectedByPrivy:!0})]})};var lt=require("react/jsx-runtime"),tc=()=>{let{linkingHint:e}=I(),{app:t}=w(),o=e?`Select the wallet with ${Ro(e)} and follow the instructions to reconnect your wallet${t!=null&&t.name?` to ${t.name}.`:"."}`:`Link a wallet to your ${t==null?void 0:t.name} account`;return(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(_,{},"header"),(0,lt.jsx)(ut,{title:`${e?"Reconnect":"Connect"} your wallet`,description:o}),(0,lt.jsxs)(be,{children:[(0,lt.jsx)(Qt,{connectOnly:!1}),(0,lt.jsx)(Zt,{})]}),(0,lt.jsx)(G,{protectedByPrivy:!0})]})};var Ir=require("react/jsx-runtime"),oc=({style:e,...t})=>(0,Ir.jsxs)("svg",{width:"164",height:"164",viewBox:"0 0 164 164",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"26px",width:"26px",...e},...t,children:[(0,Ir.jsx)("circle",{cx:"82",cy:"82",r:"80",stroke:"#EC6351","stroke-width":"4","stroke-linecap":"round"}),(0,Ir.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M81.9999 100.788C93.3288 100.788 102.513 91.6043 102.513 80.2754C102.513 68.9465 93.3288 59.7626 81.9999 59.7626C70.671 59.7626 61.4871 68.9465 61.4871 80.2754C61.4871 91.6043 70.671 100.788 81.9999 100.788ZM88.3236 71.8304C88.9093 71.2446 89.8591 71.2446 90.4449 71.8304C91.0307 72.4161 91.0307 73.3659 90.4449 73.9517L84.121 80.2756L90.445 86.5996C91.0308 87.1854 91.0308 88.1351 90.445 88.7209C89.8592 89.3067 88.9095 89.3067 88.3237 88.7209L81.9997 82.3969L75.6756 88.7209C75.0899 89.3067 74.1401 89.3067 73.5543 88.7209C72.9685 88.1351 72.9685 87.1854 73.5543 86.5996L79.8783 80.2756L73.5544 73.9517C72.9686 73.3659 72.9686 72.4161 73.5544 71.8304C74.1402 71.2446 75.09 71.2446 75.6758 71.8304L81.9997 78.1543L88.3236 71.8304Z",fill:"#EC6351"})]});var Ye=require("react/jsx-runtime"),rc=()=>{let{closePrivyModal:e}=I(),{navigate:t}=w();return(0,Ye.jsxs)(Ye.Fragment,{children:[(0,Ye.jsx)(_,{},"header"),(0,Ye.jsx)(oc,{style:{width:"160px",height:"160px",margin:"0 auto 20px"}}),(0,Ye.jsx)(ut,{title:"Could not connect with wallet",description:"Please check that Phantom multichain is enabled and try again.",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"}}),(0,Ye.jsxs)(be,{children:[(0,Ye.jsx)(te,{onClick:()=>t("LANDING"),children:"Try again"}),(0,Ye.jsx)(Us,{onClick:()=>e(),children:"Cancel"})]}),(0,Ye.jsx)(G,{protectedByPrivy:!0})]})};var or=require("react"),ca=T(require("styled-components"));var Pe=require("react/jsx-runtime"),nc={google:{name:"Google",component:Yn},discord:{name:"Discord",component:jn},github:{name:"Github",component:Kn},twitter:{name:"Twitter",component:Qn},apple:{name:"Apple",component:$n}},mu=e=>e.charAt(0).toUpperCase()+e.slice(1),la=()=>{let e=new URL(window.location.href);e.searchParams.delete("privy_oauth_code"),e.searchParams.delete("privy_oauth_provider"),e.searchParams.delete("privy_oauth_state"),window.history.pushState({},"",e)},ic=()=>{var k;let{ready:e,user:t,authenticated:o}=H(),{app:r,setModalData:n,navigate:i}=w(),{getAuthMeta:a,initLoginWithOAuth:l,loginWithOAuth:s,closePrivyModal:u}=I(),[h,C]=(0,or.useState)(!1),[b,p]=(0,or.useState)(void 0),y=((k=a())==null?void 0:k.provider)||"google",m=nc[y].name,x=nc[y].component,S=r!=null&&r.render.inDialog?Je:0;(0,or.useEffect)(()=>{!e||s().then(()=>{la(),C(!0)}).catch(W=>{let N={retryable:!1,message:"Authentication failed."};W.message.includes("Another user has already linked this")?N.detail="This account has already been linked to another user.":W.message==="Invalid code during oauth flow."?(N.retryable=!0,N.detail="Something went wrong. Try again."):W.message==="User denied confirmation during OAuth flow"&&(N.detail=`Retry and check ${mu(y)} to finish connecting your account.`,N.retryable=!0),la(),p(N)})},[e]),(0,or.useEffect)(()=>{var N;if(!!(o&&h&&t))if(_o(t,(N=r==null?void 0:r.embeddedWallets)==null?void 0:N.createOnLogin)){let O=setTimeout(()=>{n({createWallet:{onSuccess:()=>{},onFailure:Q=>console.error(Q),callAuthOnSuccessOnClose:!0}}),console.log("Navigating to wallet creation flow"),i("EMBEDDED_WALLET_SCREEN")},S);return()=>clearTimeout(O)}else{let O=setTimeout(u,S);return()=>clearTimeout(O)}},[o,h,t]);let F=h?`Successfully connected with ${m}`:b?b.message:`Verifying connection to ${m}`,A="";return h?A="You\u2019re good to go!":b?A=b.detail:A="Just a few moments more",(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)(_,{}),(0,Pe.jsxs)(hu,{children:[(0,Pe.jsx)(fu,{children:(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)(Tn,{success:h,fail:!!b}),(0,Pe.jsx)(x,{style:{width:"38px",height:"38px"}})]})}),(0,Pe.jsxs)(Go,{children:[(0,Pe.jsx)("h3",{children:F}),(0,Pe.jsx)("p",{children:A})]}),(0,Pe.jsx)(he,{onClick:()=>{la(),l(y),p(void 0)},invisible:h||!(b!=null&&b.retryable),disabled:!h&&!(b!=null&&b.retryable),children:"Retry"})]})]})},hu=ca.default.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  margin-left: 27px;
  margin-right: 27px;
  gap: 24px;
`,fu=ca.default.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 82px;

  > div {
    position: relative;
  }

  > div > span {
    position: absolute;
    left: -41px;
    top: -41px;
  }

  > div > svg {
    position: absolute;
    left: -19px;
    top: -19px;
  }
`;var Wr=require("react"),lc=T(require("styled-components"));var ac=require("react-device-detect");var sc=(e,t)=>{let o=new URL(window.location.href),r=encodeURIComponent(o.href.replace(/\/$/g,"")+`?privy_token=${e}&privy_connector=injected&privy_wallet_client=phantom`);if(!ze()&&ac.isMobile)return`${t?"phantom://":"https://phantom.app/ul/"}browse/${r}?ref=${r}`};var De=require("react/jsx-runtime"),cc=()=>{let{forkSession:e,ready:t,authenticated:o}=H(),[r,n]=(0,Wr.useState)(""),[i,a]=(0,Wr.useState)(!1);(0,Wr.useEffect)(()=>{t&&o&&e().then(n)},[t,o]);let l=sc(r,!i),s={title:"Redirecting to Phantom Mobile Wallet",description:"We'll take you to the Phantom Mobile Wallet app to continue your login experience.",footnote:""};return t&&(s.description="For the best experience, we'll automatically log you into the Phantom Mobile Wallet in-app browser.",s.footnote="Once you're done, you can always return here and refresh to view your updated account."),i&&(s.title="Still here?",s.description="You may need to install the Phantom mobile app.",s.footnote="Once you're done, you can return here or connect via Phantom's in-app browser."),(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)(_,{},"header"),(0,De.jsx)(ut,{title:s.title,description:s.description}),(0,De.jsxs)(be,{children:[(0,De.jsx)(yu,{children:(0,De.jsx)(dt,{style:{width:"72px",height:"72px"}})}),(0,De.jsx)(Pn,{href:l,onClick:()=>{setTimeout(()=>a(!0),1e3)},loading:t&&!l,children:i?"Go to App Store":"Continue"}),s.footnote?(0,De.jsx)("p",{children:s.footnote}):null]}),(0,De.jsx)(G,{protectedByPrivy:!0})]})},yu=(0,lc.default)(uo)`
  margin: 16px auto;
`;var Ot=require("react"),bo=T(require("styled-components"));var ha=T(require("styled-components"));var da=T(require("styled-components")),Nr=require("react/jsx-runtime"),Lr=({label:e,children:t,valueStyles:o})=>(0,Nr.jsxs)(gu,{children:[(0,Nr.jsx)("div",{children:e}),(0,Nr.jsx)(vu,{style:{...o},children:t})]}),gu=da.default.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;

  > :first-child {
    color: var(--privy-color-foreground-3);
    text-align: left;
  }

  > :last-child {
    color: var(--privy-color-foreground-2);
    text-align: right;
  }
`,vu=da.default.div`
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--privy-border-radius-md);
  background-color: var(--privy-color-background-2);
  padding: 4px 8px;
`;var hc=require("@ethersproject/bignumber");var dc=require("@ethersproject/bignumber"),pc=require("@ethersproject/bytes"),uc=require("@ethersproject/providers"),pa=require("@ethersproject/units"),Zn=(e,t)=>(t*parseFloat((0,pa.formatEther)(e))).toFixed(2),yo=(e,t=8)=>parseFloat((0,pa.formatEther)(e)).toFixed(t).replace(/0+$/,"").replace(/\.$/,""),mc=(e,t)=>{(0,pc.isHexString)(e)&&(e=Number(e));let o=(0,uc.getNetwork)(e);return`https://${o.name==="homestead"?"www":o.name}.etherscan.io/address/${t}`},Ue=e=>dc.BigNumber.from(e);var Jn=require("react/jsx-runtime"),Mr=({weiQuantities:e,tokenPrice:t})=>{let o=e.map(Ue).reduce((n,i)=>n.add(i),hc.BigNumber.from(0)),r=Zn(o.toHexString(),t);return(0,Jn.jsx)(Jn.Fragment,{children:r==="0.00"?"< USD $0.01":`USD $${r}`})};var go=T(require("styled-components"));var ue=require("react/jsx-runtime"),bc=({transactionData:e,displayFee:t=!1,gas:o,tokenPrice:r,isLoading:n=!1})=>{let i=Vt(e.chainId)||"ETH";return(0,ue.jsxs)(bu,{children:[(0,ue.jsx)(wu,{"data-open":t,children:(0,ue.jsxs)(fc,{children:[(0,ue.jsxs)(yc,{children:[(0,ue.jsx)(vc,{children:"Est. Fees"}),(0,ue.jsx)("div",{children:n?(0,ue.jsx)(ot,{color:"var(--privy-color-accent)"}):(0,ue.jsx)(Mr,{weiQuantities:[o],tokenPrice:r})})]}),(0,ue.jsx)(gc,{children:`${i} ${yo(Ue(o).toHexString())}`})]})}),(0,ue.jsxs)(fc,{children:[(0,ue.jsxs)(yc,{children:[(0,ue.jsx)(vc,{children:"Total (including fees)"}),(0,ue.jsx)("div",{children:n||!e.value?(0,ue.jsx)(ot,{color:"var(--privy-color-accent)"}):(0,ue.jsx)(Mr,{weiQuantities:[e.value,o],tokenPrice:r})})]}),(0,ue.jsx)(gc,{children:e.value?`${i} ${yo(Ue(e.value).add(Ue(o)).toHexString())}`:null})]})]})},bu=go.default.div`
  display: flex;
  flex-direction: column;
  gap: 4px;
`,fc=go.default.div`
  display: flex;
  flex-direction: column;
  gap: 2px;
`,yc=go.default.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
`,gc=go.default.div`
  display: flex;
  flex-direction: row-reverse;
  height: 12px;

  font-size: 12px;
  line-height: 12px;
  color: var(--privy-color-foreground-3);
  font-weight: 400;
`,vc=go.default.div`
  font-size: 14px;
  line-height: 22.4px;
  font-weight: 400;
`,wu=go.default.div`
  position: relative;
  overflow: hidden;
  transition: max-height 0.35s ease-in-out;

  &[data-open='true'] {
    max-height: 700px;
  }

  &[data-open='false'] {
    max-height: 0;
  }
`;var wt=require("react"),to=T(require("styled-components"));var ua=require("react/jsx-runtime"),wc=({style:e,...t})=>(0,ua.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",style:{height:"1.5rem",width:"1.5rem",...e},...t,children:(0,ua.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})});var Xn=require("react"),rr=(0,Xn.createContext)(void 0);var Or=(0,Xn.createContext)(void 0);var Be=require("react/jsx-runtime"),Cc=({defaultValue:e,children:t})=>{let[o,r]=(0,wt.useState)(e||null),n=i=>{r(o===i?null:i)};return(0,Be.jsx)(rr.Provider,{value:{activePanel:o,togglePanel:n},children:(0,Be.jsx)(Cu,{children:t})})},Ec=({value:e,children:t})=>{let{activePanel:o,togglePanel:r}=(0,wt.useContext)(rr),n=o===e;return(0,Be.jsx)(Or.Provider,{value:{onToggle:()=>r(e),value:e},children:(0,Be.jsx)(Tu,{isActive:n,"data-open":n,children:t})})},xc=({children:e})=>{let{activePanel:t}=(0,wt.useContext)(rr),{onToggle:o,value:r}=(0,wt.useContext)(Or),n=t===r;return(0,Be.jsxs)(Eu,{onClick:o,"data-open":n,children:[(0,Be.jsx)(xu,{children:e}),(0,Be.jsx)(_u,{isactive:n,children:(0,Be.jsx)(wc,{})})]})},Tc=({children:e})=>{let{activePanel:t}=(0,wt.useContext)(rr),{value:o}=(0,wt.useContext)(Or);return(0,Be.jsx)(Pu,{"data-open":t===o,children:(0,Be.jsx)(_c,{children:e})})},Pc=({children:e})=>{let{activePanel:t}=(0,wt.useContext)(rr),{value:o}=(0,wt.useContext)(Or);return(0,Be.jsx)(_c,{children:typeof e=="function"?e({isActive:t===o}):e})},Cu=to.default.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  gap: 8px;
`,Eu=to.default.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  cursor: pointer;
  padding-bottom: 4px;

  && {
    border-bottom: 1px solid;
    border-color: var(--privy-color-foreground-4);
  }
`,xu=to.default.div`
  font-size: 14px;
  font-weight: 500;
  line-height: 19.6px;
  width: 100%;
  padding-right: 8px;
`,Tu=to.default.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  overflow: hidden;
  padding: 8px;

  && {
    border: 1px solid;
    border-color: var(--privy-color-foreground-4);
    border-radius: var(--privy-border-radius-md);
  }
`,Pu=to.default.div`
  position: relative;
  overflow: hidden;
  transition: max-height 0.35s ease-in-out;

  &[data-open='true'] {
    max-height: 700px;
  }

  &[data-open='false'] {
    max-height: 0;
  }
`,_c=to.default.div`
  display: flex;
  flex-direction: column;
  gap: 12px;
  flex: 1 1 auto;
  min-height: 1px;
  padding-top: 8px;
`,_u=to.default.div`
  transform: ${e=>e.isactive?"rotate(180deg)":"rotate(0deg)"};
`;var Ac=T(require("styled-components"));var Sc=require("react/jsx-runtime"),ma=({walletAddress:e,chainId:t=Xe})=>(0,Sc.jsx)(Au,{href:mc(t,e),target:"_blank",children:Ro(e)}),Au=Ac.default.a`
  &:hover {
    text-decoration: underline;
  }
`;var oe=require("react/jsx-runtime"),ei=e=>{var o,r,n;let t=!!(((o=e.txn)==null?void 0:o.value)&&e.gas);return(0,oe.jsx)(Cc,{children:(0,oe.jsxs)(Ec,{value:"details",children:[(0,oe.jsx)(xc,{children:(0,oe.jsxs)(Su,{children:[(0,oe.jsx)("div",{children:((r=e.transactionInfo)==null?void 0:r.actionDescription)||"Details"}),((n=e.txn)==null?void 0:n.value)&&e.tokenPrice?(0,oe.jsx)(ku,{children:(0,oe.jsx)(Mr,{weiQuantities:[e.txn.value],tokenPrice:e.tokenPrice})}):null]})}),(0,oe.jsxs)(Tc,{children:[(0,oe.jsx)(Lr,{label:"From",children:(0,oe.jsx)(ma,{walletAddress:e.from,chainId:e.txn.chainId||Xe})}),(0,oe.jsx)(Lr,{label:"To",children:(0,oe.jsx)(ma,{walletAddress:e.to,chainId:e.txn.chainId||Xe})}),t&&e.transactionInfo&&e.transactionInfo.action&&(0,oe.jsx)(Lr,{label:"Action",children:e.transactionInfo.action})]}),(0,oe.jsx)(Pc,{children:({isActive:i})=>t&&e.gas?(0,oe.jsx)(bc,{transactionData:e.txn,displayFee:i,gas:e.gas,tokenPrice:e.tokenPrice}):(0,oe.jsx)(oe.Fragment,{children:e.transactionInfo&&e.transactionInfo.action&&(0,oe.jsx)(Lr,{label:"Action",children:e.transactionInfo.action})})})]})})},Su=ha.default.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
`,ku=ha.default.div`
  flex-shrink: 0;
  padding-left: 8px;
`;var nr=T(require("styled-components")),oo=require("react/jsx-runtime"),kc=({partyInfo:e})=>(0,oo.jsxs)(Ru,{children:[e.imgUrl&&(0,oo.jsx)(Iu,{size:e.imgSize||"sm",src:e.imgUrl,alt:e.imgAltText||`${e.name} image`}),(0,oo.jsx)(Wu,{children:(0,oo.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.url.replace(/^(https?:\/\/)(www\.)?/,"")})}),(0,oo.jsx)(Nu,{children:e.name}),(0,oo.jsx)(Lu,{children:e.actionText})]}),Ru=nr.default.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 20px;
`,Iu=nr.default.img`
  height: ${e=>e.size==="sm"?"65px":"140px"};
  width: ${e=>e.size==="sm"?"65px":"140px"};
  border-radius: 16px;
  margin-bottom: 20px;
`,Wu=nr.default.div`
  margin-bottom: 8px;
  > a {
    font-size: 12px;
    line-height: 12px;
    font-weight: 400;
    color: var(--privy-color-foreground-1);

    &:hover {
      text-decoration: underline;
    }
  }
`,Nu=nr.default.div`
  font-size: 18px;
  line-height: 18px;
  font-weight: 500;
  overflow: hidden;
  white-space: nowrap;
  max-width: 275px;
  text-overflow: ellipsis;
`,Lu=nr.default.div`
  font-size: 16px;
  line-height: 22.4px;
  font-weight: 500;
  color: var(--privy-color-foreground-3);
  overflow: hidden;
  white-space: nowrap;
  max-width: 275px;
  text-overflow: ellipsis;
`;var Ur=require("react"),ri=T(require("styled-components"));var Dr=require("@ethersproject/providers");async function ti(e,t,o,r){return r.chainId=Number(r.chainId),Wc(r),(await o.rpc({address:t,accessToken:e,request:{method:"eth_populateTransactionRequest",params:[r]}})).response.data}async function oi(e,t,o,r){r=Object.assign({chainId:Xe},r),Wc(r);let i=(await o.rpc({address:t,accessToken:e,request:{method:"eth_signTransaction",params:[r]}})).response.data,l=await(await Mu(r.chainId,i)).wait();return Uu(l)}function Mu(e,t){return new Dr.JsonRpcProvider(lo(e)).sendTransaction(t)}async function Rc(e,t=Xe){return await new Dr.JsonRpcProvider(lo(t)).getBalance(e)}async function Ic(e){return delete e.from,await new Dr.JsonRpcProvider(lo(Number(e.chainId)||Xe)).estimateGas(e)}function Wc(e){let t=["gasLimit","gasPrice","value","maxPriorityFeePerGas","maxFeePerGas"];for(let o of t){let r=e[o];if(!(typeof r>"u")&&!Ou(r))throw new Error(`Transaction request property '${o}' must be a valid number, bigint, or hex string representing a quantity`)}if(typeof e.chainId!="number")throw new Error("Transaction request property 'chainId' must be a number")}function Ou(e){let t=typeof e=="number",o=typeof e=="bigint",r=typeof e=="string"&&Du(e);return t||o||r}function Du(e){return/^-?0x[a-f0-9]+$/i.test(e)}function Uu(e){return{to:e.to,from:e.from,contractAddress:e.contractAddress,transactionIndex:e.transactionIndex,root:e.root,logsBloom:e.logsBloom,blockHash:e.blockHash,transactionHash:e.transactionHash,logs:e.logs,blockNumber:e.blockNumber,confirmations:e.confirmations,byzantium:e.byzantium,type:e.type,status:e.status,gasUsed:e.gasUsed.toHexString(),cumulativeGasUsed:e.cumulativeGasUsed.toHexString(),effectiveGasPrice:e.effectiveGasPrice.toHexString()}}var fa=require("react/jsx-runtime"),Nc=({style:e,...t})=>(0,fa.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",style:{height:"1.5rem",width:"1.5rem",...e},...t,children:(0,fa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 00-2.25-2.25H15a3 3 0 11-6 0H5.25A2.25 2.25 0 003 12m18 0v6a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 9m18 0V6a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 6v3"})});var vo=require("react/jsx-runtime"),Lc=({wallet:e,txnValue:t,chainId:o})=>{let[r,n]=(0,Ur.useState)(),[i,a]=(0,Ur.useState)(!1),l=Vt(o)||"ETH";return(0,Ur.useEffect)(()=>{(async u=>{try{let h=await Rc(u,o);t&&h.sub(Ue(t)).isNegative()&&a(!0),n(h.toHexString())}catch(h){console.warn(h)}})(e.address)},[e,t]),(0,vo.jsxs)(Bu,{children:[(0,vo.jsxs)(Fu,{children:[(0,vo.jsx)(Nc,{style:{height:"12px",width:"12px"}}),(0,vo.jsx)("div",{children:Ro(e==null?void 0:e.address)})]}),(0,vo.jsxs)(Gu,{displayBalanceColor:!!t,hasFunds:!i,children:[r?yo(r):0," ",l]})]})},Bu=ri.default.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  padding: 8px 12px;
  height: 40px;

  && {
    border: 1px solid var(--privy-color-foreground-4);
    border-radius: var(--privy-border-radius-sm);
  }
`,Fu=ri.default.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 8px;
`,Gu=ri.default.div`
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--privy-border-radius-lg);
  background-color: var(--privy-color-background-2);
  padding: 4px 12px;
  color: ${e=>e.displayBalanceColor?e.hasFunds?"green":"red":"inherit"};
`;var Br=T(require("styled-components"));var Mt=require("react");var ni=e=>{let{getUsdTokenPrice:t}=I(),[o,r]=(0,Mt.useState)(!1),[n,i]=(0,Mt.useState)(!1),[a,l]=(0,Mt.useState)(void 0),[s,u]=(0,Mt.useState)(void 0),[h,C]=(0,Mt.useState)(null);return(0,Mt.useEffect)(()=>{let b=e.chainId||Xe;(async()=>{try{r(!0);let y=await t(b);u(y)}catch(y){l(y)}finally{r(!1)}})()},[]),(0,Mt.useEffect)(()=>{(async()=>{try{i(!0);let p=await Ic(e);C(p.toBigInt())}catch(p){l(p)}finally{i(!1)}})()},[e]),{tokenPrice:s,estimatedGas:h,isLoading:o||n,error:a}};var ir=require("react/jsx-runtime"),Mc=e=>{var r,n;let{tokenPrice:t}=ni(e.txn),o=Vt(e.txn.chainId)||"ETH";return(0,ir.jsxs)(Hu,{children:[(0,ir.jsxs)(zu,{children:["$",((r=e.txn)==null?void 0:r.value)&&t?Zn(Ue(e.txn.value).toHexString(),t):"--"]}),(0,ir.jsxs)(Vu,{children:[(n=e.txn)!=null&&n.value?yo(Ue(e.txn.value).toHexString()):"--"," ",o]}),(0,ir.jsx)(qu,{children:e.description})]})},Hu=Br.default.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 20px;
`,zu=Br.default.h2`
  && {
    font-size: 48px;
    line-height: 48px;
    margin: 8px auto;
  }
`,Vu=Br.default.p`
  margin-bottom: 12px;
  && {
    font-size: 17px;
    line-height: 17px;
    color: var(--privy-color-foreground-3);
  }
`,qu=Br.default.div`
  font-size: 16px;
  line-height: 22.4px;
  font-weight: 400;
  overflow: hidden;
  white-space: nowrap;
  max-width: 275px;
  text-overflow: ellipsis;
`;function Oc(e){return e.to&&e.data?"CONTRACT_CALL":e.to&&e.value?"SEND":"UNKNOWN"}var ya=T(require("styled-components"));var Qe=require("react/jsx-runtime"),Dc=({txn:e,receipt:t,transactionInfo:o,onClose:r,tokenPrice:n})=>(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)(_,{onClose:r}),(0,Qe.jsxs)($u,{children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)(we,{title:"Transaction complete!",description:"You're all set."}),(0,Qe.jsx)(ei,{tokenPrice:n,from:t.from,to:t.to,gas:t.gasUsed,txn:e,transactionInfo:o})]}),(0,Qe.jsx)("div",{children:(0,Qe.jsx)(ju,{loading:!1,onClick:r,children:"All Done"})})]})]}),$u=ya.default.div`
  display: flex;
  height: 100%;
  flex-direction: column;
  justify-content: space-between;
  flex-grow: 1;
`,ju=(0,ya.default)(te)`
  transition: color 350ms ease, background-color 350ms ease;
`;var V=require("react/jsx-runtime"),Ku=e=>{var t;switch(e.txnFamily){case"SEND":return(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(Mc,{description:((t=e.uiOptions.transactionInfo)==null?void 0:t.description)||"",txn:e.txn})});case"CONTRACT_CALL":return(0,V.jsx)(V.Fragment,{children:e.uiOptions.senderInfo&&(0,V.jsx)(kc,{partyInfo:e.uiOptions.senderInfo})});default:return(0,V.jsx)("div",{children:"Unsupported transaction."})}},Bc=()=>{let{authenticated:e,getAccessToken:t,user:o}=H(),{walletProxy:r,closePrivyModal:n}=I(),{navigate:i,data:a}=w(),{transactionRequest:l,onSuccess:s,onFailure:u,uiOptions:h}=a.sendTransaction,[C,b]=(0,Ot.useState)(null),[p,y]=(0,Ot.useState)(""),[m,x]=(0,Ot.useState)(!0),[S,F]=(0,Ot.useState)(!1),[A,k]=(0,Ot.useState)(l),{tokenPrice:W,estimatedGas:N}=ni(A),O=Vt(l.chainId)||"ETH";(0,Ot.useEffect)(()=>{e||(i("LANDING"),u(new Error("User must be authenticated before transacting with a Privy wallet")))},[e]);let Q=le(o);(0,Ot.useEffect)(()=>{async function M(){let R=await t();return!R||!r||!Q?A:ti(R,Q.address,r,A)}M().then(R=>{x(!1),k(R)},R=>{x(!0),dl(R)?y(R.message):(y("There was an error preparing transaction"),console.error(R))})},[r]);let re=Oc(A),ce={modalTitle:h.modalTitle||"Review transaction",title:h.title||re==="SEND"?`Send ${O}`:"Submit transaction",description:h.description||"Confirm the details of the transaction",buttonText:h.buttonText||"Submit"},ne=()=>{S||(C?s(C):u(new Error(p||"User exited the modal before submitting the transaction")),n({shouldCallAuthOnSuccess:!1}))};return W===void 0?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(_,{title:ce.modalTitle,onClose:ne}),(0,V.jsx)(Uc,{children:(0,V.jsx)($o,{})})]}):C!==null?(0,V.jsx)(Dc,{txn:A,onClose:ne,receipt:C,transactionInfo:h.transactionInfo,tokenPrice:W}):(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(_,{title:ce.modalTitle,onClose:ne}),(0,V.jsxs)(Uc,{children:[(0,V.jsxs)(Ju,{children:[(0,V.jsx)(Ku,{txn:A,txnFamily:re,uiOptions:h}),Q?(0,V.jsx)(ei,{from:Q.address,to:A.to,txn:A,transactionInfo:h.transactionInfo,gas:N?Ue(N).toHexString():void 0,tokenPrice:W}):null]}),(0,V.jsxs)(Xu,{children:[(0,V.jsx)(Yu,{children:p}),Q?(0,V.jsx)(Lc,{txnValue:A.value,wallet:Q,chainId:Number(A.chainId)}):null,(0,V.jsx)(Qu,{children:(0,V.jsx)(Zu,{disabled:m||S,loading:!r||S,loadingText:S?"Submitting (may take a few minutes)...":"Loading...",onClick:async()=>{F(!0);let M=await t();if(M&&!S&&Q)try{let R=await oi(M,Q.address,r,A);b(R),y("")}catch(R){R.reason==="processing response error"?(console.warn({transaction:A,error:R}),y("An error has occurred, please contact support.")):y(R.reason||"An error has occurred, please try again.")}finally{F(!1)}},children:ce.buttonText})})]})]})]})},Uc=bo.default.div`
  display: flex;
  height: 100%;
  flex-direction: column;
  justify-content: space-between;
  flex-grow: 1;
`,Yu=bo.default.div`
  line-height: 20px;
  height: 20px;
  font-size: 13px;
  color: var(--privy-color-error);
  width: 100%;
  margin-top: 4px;
`,Qu=bo.default.div`
  display: flex;
  direction: row;
  justify-content: space-between;
  align-items: center;
  gap: 8px;
`,Zu=(0,bo.default)(te)`
  transition: color 350ms ease, background-color 350ms ease;
`,Ju=bo.default.div`
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: space-evenly;
  flex-grow: 1;
`,Xu=bo.default.div`
  display: flex;
  flex-direction: column;
  gap: 8px;
`;var Fc=require("@ethersproject/bytes"),Gc=require("@ethersproject/strings"),Fr=require("react"),ro=T(require("styled-components"));var Ce=require("react/jsx-runtime"),em=e=>{if(!(0,Fc.isHexString)(e))return e;try{return(0,Gc.toUtf8String)(e)}catch{return e}},Hc=()=>{let{authenticated:e}=H(),{walletProxy:t,closePrivyModal:o}=I(),{navigate:r,data:n}=w(),[i,a]=(0,Fr.useState)(!1),[l,s]=(0,Fr.useState)("");(0,Fr.useEffect)(()=>{e||r("LANDING")},[e]);let{message:u,confirmAndSignMessage:h,uiOptions:C}=n.signMessage,b=!t,p={title:C.title||"Sign message",description:C.description||"Signing this message will not cost you any fees.",buttonText:C.buttonText||"Sign and continue"};return(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(_,{onClose:()=>o({shouldCallAuthOnSuccess:!1})}),(0,Ce.jsxs)(tm,{children:[(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)(we,{title:p.title,description:p.description}),(0,Ce.jsx)(om,{children:em(u)}),(0,Ce.jsx)(rm,{fail:!0,children:l})]}),(0,Ce.jsx)(im,{success:i,loading:b,disabled:i,onClick:async()=>{try{await h(),s(""),a(!0),setTimeout(()=>{o({shouldCallAuthOnSuccess:!1})},Je)}catch{s("An error has occurred, please try again.")}},children:i?(0,Ce.jsxs)(nm,{children:[(0,Ce.jsx)(Yo,{style:{height:"0.9rem",width:"0.9rem"},strokeWidth:2})," ",(0,Ce.jsx)("span",{children:"Success"})]}):p.buttonText})]}),(0,Ce.jsx)(G,{protectedByPrivy:!0})]})},tm=ro.default.div`
  display: flex;
  height: 100%;
  flex-direction: column;
  justify-content: space-between;
  flex-grow: 1;
`,om=ro.default.div`
  background-color: var(--privy-color-background-2);
  border-radius: 8px;
  padding: 12px;
  text-align: left;
  max-height: 310px;
  overflow: scroll;
  white-space: pre-wrap;

  // hide the scrollbars
  -ms-overflow-style: none; /* Internet Explorer 10+ */
  scrollbar-width: none; /* Firefox */

  &::-webkit-scrollbar {
    display: none; /* Safari and Chrome */
  }
`,rm=ro.default.div`
  line-height: 20px;
  height: 20px;
  font-size: 13px;
  color: ${e=>e.fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)"};
  display: flex;
  justify-content: flex-start;
  width: 100%;
  margin-top: 4px;
`,nm=ro.default.span`
  display: flex;
  align-items: center;
  gap: 8px;
`,im=(0,ro.default)(te)`
  transition: color 350ms ease, background-color 350ms ease;

  ${e=>e.success&&ro.css`
      &&&& {
        background-color: var(--privy-color-success);
        color: #ffffff;
      }
    `}
`;var ii=T(require("styled-components"));var am=`
  *,
  ::before,
  ::after {
    box-sizing: border-box;
    border-width: 0;
    border-style: solid;
  }

  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
  -moz-tab-size: 4;
  tab-size: 4;
  font-feature-settings: normal;

  margin: 0;
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';

  hr {
    height: 0;
    color: inherit;
    border-top-width: 1px;
  }

  abbr:where([title]) {
    text-decoration: underline dotted;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: inherit;
    font-weight: inherit;
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';
    display: inline;
  }

  a {
    color: inherit;
    text-decoration: inherit;
  }

  b,
  strong {
    font-weight: bolder;
  }

  code,
  kbd,
  samp,
  pre {
    font-family: ui-monospace, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 1em;
  }

  small {
    font-size: 80%;
  }

  sub,
  sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }

  sub {
    bottom: -0.25em;
  }

  sup {
    top: -0.5em;
  }

  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }

  button,
  input,
  optgroup,
  select,
  textarea {
    font-family: inherit;
    font-size: 100%;
    font-weight: inherit;
    line-height: inherit;
    color: inherit;
    margin: 0;
    padding: 0;
  }

  button,
  select {
    text-transform: none;
  }

  button,
  [type='button'],
  [type='reset'],
  [type='submit'] {
    -webkit-appearance: button;
    background-color: transparent;
    background-image: none;
  }

  ::-moz-focus-inner {
    border-style: none;
    padding: 0;
  }

  :-moz-focusring {
    outline: 1px dotted ButtonText;
  }

  :-moz-ui-invalid {
    box-shadow: none;
  }

  legend {
    padding: 0;
  }

  progress {
    vertical-align: baseline;
  }

  ::-webkit-inner-spin-button,
  ::-webkit-outer-spin-button {
    height: auto;
  }

  [type='search'] {
    -webkit-appearance: textfield;
    outline-offset: -2px;
  }

  ::-webkit-search-decoration {
    -webkit-appearance: none;
  }

  ::-webkit-file-upload-button {
    -webkit-appearance: button;
    font: inherit;
  }

  summary {
    display: list-item;
  }

  blockquote,
  dl,
  dd,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  hr,
  figure,
  p,
  pre {
    margin: 0;
  }

  fieldset {
    margin: 0;
    padding: 0;
  }

  legend {
    padding: 0;
  }

  ol,
  ul,
  menu {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  textarea {
    resize: vertical;
  }

  input::placeholder,
  textarea::placeholder {
    opacity: 1;
    color: theme('colors.gray.400', #9ca3af);
  }

  button,
  [role='button'] {
    cursor: pointer;
  }

  :disabled {
    cursor: default;
  }

  img,
  svg,
  video,
  canvas,
  audio,
  iframe,
  embed,
  object {
    display: block;
  }

  img,
  video {
    max-width: 100%;
    height: auto;
  }

  [hidden] {
    display: none;
  }
`,zc=am;var Vc=ii.createGlobalStyle`
  :root {
     // Borders 
     --privy-border-radius-sm: 6px;
     --privy-border-radius-md: 10px;
     --privy-border-radius-lg: 24px;
     --privy-border-radius-full: 9999px;

     // Colors
     --privy-color-background: ${e=>e.theme.background};
     --privy-color-background-2: ${e=>e.theme.background2};

     --privy-color-foreground: ${e=>e.theme.foreground};
     --privy-color-foreground-2: ${e=>e.theme.foreground2};
     --privy-color-foreground-3: ${e=>e.theme.foreground3};
     --privy-color-foreground-4: ${e=>e.theme.foreground4};
     --privy-color-foreground-accent: ${e=>e.theme.foregroundAccent};

     --privy-color-accent: ${e=>e.theme.accent};
     --privy-color-accent-light: ${e=>e.theme.accentLight};
     --privy-color-accent-dark: ${e=>e.theme.accentDark};

     --privy-color-success: ${e=>e.theme.success};
     --privy-color-error: ${e=>e.theme.error};
  };
`,qc=ii.default.div`
  // css normalize only the privy application to avoid conflicts
  // with consuming application
  ${zc}

  // Privy styles
  color: var(--privy-color-foreground-2);

  h3 {
    font-size: 16px;
    line-height: 24px;
    font-weight: 500;
    color: var(--privy-color-foreground-2);
  }

  h4 {
    font-size: 14px;
    line-height: 20px;
    font-weight: 500;
    color: var(--privy-color-foreground);
  }

  p {
    font-size: 13px;
    line-height: 20px;
    color: var(--privy-color-foreground-2);
  }

  button:focus,
  input:focus,
  optgroup:focus,
  select:focus,
  textarea:focus {
    outline: none;
    border-color: var(--privy-color-accent-light);
    box-shadow: 0 0 0 1px var(--privy-color-accent-light);
  }

  /* Utilities when you can't add an additional span tag for mobile formatting */

  .hide-on-mobile {
    @media (max-width: 440px) {
      display: none;
    }
  }

  .mobile-only {
    @media (min-width: 441px) {
      display: none;
    }
  }

  /* Animations */

  @keyframes fadein {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }
`;var Fe=require("react/jsx-runtime"),sm={["LANDING"]:Ql,["AWAITING_PASSWORDLESS_CODE"]:Ks,["WALLET_EDUCATION"]:zl,["AWAITING_CONNECTION"]:il,["AWAITING_CONNECT_ONLY_CONNECTION"]:sl,["COINBASE_INTERSTITIAL_SCREEN"]:Js,["PHANTOM_INTERSTITIAL_SCREEN"]:cc,["LOGIN_FAILED_SCREEN"]:rc,["AWAITING_OAUTH_SCREEN"]:ic,["ALLOWLIST_REJECTION_SCREEN"]:Vs,["INSTALL_METAMASK_SCREEN"]:ql,["INSTALL_PHANTOM_SCREEN"]:$l,["INSTALL_COINBASE_WALLET_SCREEN"]:Vl,["LINK_EMAIL_SCREEN"]:Xl,["LINK_PHONE_SCREEN"]:ec,["LINK_WALLET_SCREEN"]:tc,["CONNECT_ONLY_LANDING_SCREEN"]:nl,["CONNECT_ONLY_AUTHENTICATED_SCREEN"]:ol,["EMBEDDED_WALLET_SCREEN"]:Rl,["EMBEDDED_WALLET_CREATED_SCREEN"]:gl,["EMBEDDED_WALLET_CONNECTING_SCREEN"]:hl,["EMBEDDED_WALLET_RECOVERY_SCREEN"]:Tl,["EMBEDDED_WALLET_KEY_EXPORT_SCREEN"]:Cl,["EMBEDDED_WALLET_SIGN_REQUEST_SCREEN"]:Hc,["EMBEDDED_WALLET_SEND_TRANSACTION_SCREEN"]:Bc},lm={["AWAITING_CONNECTION"]:"compact",["AWAITING_CONNECT_ONLY_CONNECTION"]:"compact",["CONNECT_ONLY_LANDING_SCREEN"]:"compact",["CONNECT_ONLY_AUTHENTICATED_SCREEN"]:"compact",["AWAITING_OAUTH_SCREEN"]:"compact",["ALLOWLIST_REJECTION_SCREEN"]:"compact",["WALLET_EDUCATION"]:"full",["EMBEDDED_WALLET_SIGN_REQUEST_SCREEN"]:"full"},cm=(e,t,o)=>{if(e==="LANDING"&&t)return"compact";let r=lm[e];return r||(o?"medium":"full")},dm=()=>{let{ready:e}=H(),{isLinking:t}=I(),{ready:o,currentScreen:r,app:n}=w(),i=!!(n!=null&&n.loginMethods.wallet),a=!!((n==null?void 0:n.loginMethods.email)||(n==null?void 0:n.loginMethods.sms)),s=cm(r,i!==a,t);if(!e||!o)return(0,Fe.jsxs)(zo,{"data-height":s,children:[(0,Fe.jsx)(_,{}),(0,Fe.jsx)(mm,{children:(0,Fe.jsx)(wr,{})}),(0,Fe.jsx)(rt,{})]});let u=sm[r];return u?(0,Fe.jsx)(zo,{"data-height":s,children:(0,Fe.jsx)(u,{})}):null},jc=()=>{let{closePrivyModal:e}=I(),{app:t}=w(),o=(0,si.useCallback)(i=>{i.key==="Escape"&&(t==null?void 0:t.render.inDialog)&&e()},[t==null?void 0:t.render.inDialog]);(0,ga.useEffect)(()=>(document.addEventListener("keydown",o,!1),()=>{document.removeEventListener("keydown",o,!1)}),[o]);let r=(0,Fe.jsx)(qc,{onClick:i=>i.stopPropagation(),children:(0,Fe.jsx)(dm,{})}),n=t!=null&&t.render.inDialog?(0,Fe.jsx)(um,{id:"privy-dialog",onClick:()=>e(),children:r}):r;return $c.default.createPortal(n,t!=null&&t.render.inParentNodeId&&document.getElementById(t.render.inParentNodeId)||document.body)},pm=({children:e,...t})=>{let o=(0,si.useRef)(null);return(0,ga.useEffect)(()=>{var n;(n=document==null?void 0:document.activeElement)==null||n.blur();let r=(document==null?void 0:document.getElementById("root"))||(document==null?void 0:document.getElementById("__next"));if(!!r)return r.setAttribute("inert","true"),(0,ai.disableBodyScroll)(o==null?void 0:o.current),()=>{let i=(document==null?void 0:document.getElementById("root"))||(document==null?void 0:document.getElementById("__next"));!i||(i.removeAttribute("inert"),(0,ai.clearAllBodyScrollLocks)())}},[t.open,t.onClose]),(0,Fe.jsx)("dialog",{open:!0,role:"dialog",...t,ref:o,children:e})},um=(0,li.default)(pm)`
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  background: none;
  padding: 0;
  border: 0;
  z-index: 999999;
  -webkit-backdrop-filter: blur(3px);
  backdrop-filter: blur(3px);
`,zo=li.default.div`
  display: flex;
  flex-direction: column;
  text-align: center;
  font-size: 14px;
  line-height: 20px;
  width: 360px;
  height: auto;
  background: var(--privy-color-background);
  box-shadow: 0px 8px 36px rgba(55, 65, 81, 0.15);
  border-radius: var(--privy-border-radius-lg);
  padding: 24px;

  &&[data-height='full'] {
    height: 620px;
  }

  &&[data-height='medium'] {
    min-height: 480px;
  }

  /* Mobile */
  @media (max-width: 440px) {
    &&& {
      border-radius: 24px 24px 0 0;
      height: auto;
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      /* Same as above, but move y offset to 0 to help differentiate top from
    white backgrounds on mobile. */
      box-shadow: 0px 0px 36px rgba(55, 65, 81, 0.15);
      /* Always override on mobile if min-height is set */
      min-height: 0;
    }
  }
`,mm=li.default.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
`;var Co=T(require("tinycolor2")),Kc="#FFFFFF",hm="#000000",fm=Kc,ym="#1E1E1D";function gm(e){return e<.8&&e>.2&&console.warn("Background color is not light or dark enough, which could lead to accessibility issues."),e>.5?"light":"dark"}function wo(e,t){let o=Math.max(0,Math.min(1,e.toHsl().l+t));return(0,Co.default)({...e.toHsl(),l:o})}function Yc({backgroundTheme:e,accentHex:t,successHex:o="#51BA81",errorHex:r="#EC6351",whiteHex:n=Kc,blackHex:i=hm}){let a;switch(e){case"light":a=fm;break;case"dark":a=ym;break;default:a=e;break}let l=(0,Co.default)(a),s=(0,Co.default)(t),u=(0,Co.default)(o),h=(0,Co.default)(r),C=gm(l.getLuminance()),b=wo(l,C==="light"?-.04:.11),p=wo(l,C==="light"?-.88:.87),y=wo(l,C==="light"?-.77:.75),m=wo(l,C==="light"?-.43:.45).desaturate(C==="light"?60:20),x=wo(l,C==="light"?-.13:.25).desaturate(C==="light"?60:20),S=wo(s,.15),F=wo(s,-.06),A=(0,Co.default)(s.getLuminance()>.5?i:n);return{colorScheme:C,background:l.toHslString(),background2:b.toHslString(),foreground:p.toHslString(),foreground2:y.toHslString(),foreground3:m.toHslString(),foreground4:x.toHslString(),accent:s.toHslString(),accentLight:S.toHslString(),accentDark:F.toHslString(),foregroundAccent:A.toHslString(),success:u.toHslString(),error:h.toHslString()}}var Gr={appearance:{theme:"light",accentColor:"#676FFF"},walletConnectCloudProjectId:Ha,_render:{inDialog:!0,inParentNodeId:null}};function ci(e,t){var C,b,p,y,m,x,S,F,A,k,W;let o,r,n,i,a,l,s,u;if(t!=null&&t.loginMethods?(o=t.loginMethods.includes("email"),r=t.loginMethods.includes("sms"),n=t.loginMethods.includes("wallet"),i=t.loginMethods.includes("google"),a=t.loginMethods.includes("twitter"),l=t.loginMethods.includes("discord"),s=t.loginMethods.includes("github"),u=t.loginMethods.includes("apple")):(o=e.emailAuth,r=e.smsAuth,n=e.walletAuth,i=e.googleOAuth,a=e.twitterOAuth,l=e.discordOAuth,s=e.githubOAuth,u=e.appleOAuth),o&&r&&(console.warn("Enabling both email and SMS passwordless is not currently supported. Disabling SMS."),r=!1),!o&&!r&&[i,a,l,s,u].some(N=>N))throw new Error("To enable social logins you must also enable either SMS or Email login");if(![o,r,n,i,a,l,s,u].some(N=>N))throw new Error("You must enable at least one login method");return{id:e.id,name:e.name,allowlistConfig:e.allowlistConfig,appearance:{logo:((C=t==null?void 0:t.appearance)==null?void 0:C.logo)??e.logoUrl,palette:Yc({backgroundTheme:((b=t==null?void 0:t.appearance)==null?void 0:b.theme)??Gr.appearance.theme,accentHex:((p=t==null?void 0:t.appearance)==null?void 0:p.accentColor)??e.accentColor??Gr.appearance.accentColor}),showWalletLoginFirst:((y=t==null?void 0:t.appearance)==null?void 0:y.showWalletLoginFirst)??e.showWalletLoginFirst},loginMethods:{wallet:n,email:o,sms:r,google:i,twitter:a,discord:l,github:s,apple:u},legal:{termsAndConditionsUrl:((m=t==null?void 0:t.legal)==null?void 0:m.termsAndConditionsUrl)??e.termsAndConditionsUrl,privacyPolicyUrl:((x=t==null?void 0:t.legal)==null?void 0:x.privacyPolicyUrl)??e.privacyPolicyUrl},walletConnectCloudProjectId:(t==null?void 0:t.walletConnectCloudProjectId)??e.walletConnectCloudProjectId??Gr.walletConnectCloudProjectId,embeddedWallets:{createOnLogin:((S=t==null?void 0:t.embeddedWallets)==null?void 0:S.createOnLogin)??e.embeddedWalletConfig.createOnLogin,requireUserPasswordOnCreate:((F=t==null?void 0:t.embeddedWallets)==null?void 0:F.requireUserPasswordOnCreate)??e.embeddedWalletConfig.requireUserPasswordOnCreate,noPromptOnSignature:(A=t==null?void 0:t.embeddedWallets)==null?void 0:A.noPromptOnSignature},render:{inDialog:((k=t==null?void 0:t._render)==null?void 0:k.inDialog)??Gr._render.inDialog,inParentNodeId:((W=t==null?void 0:t._render)==null?void 0:W.inParentNodeId)??Gr._render.inParentNodeId}}}function Qc(e,t){var o;return((o=e==null?void 0:e.appearance)==null?void 0:o.logo)&&typeof e.appearance.logo=="object"&&(e.appearance.logo="component"),{...e,legacyCreateEmbeddedWalletFlag:t}}var pi=require("react");var di=class{constructor(){this.callbacks={}}enqueue(t,o){this.callbacks[t]=o}dequeue(t,o){let r=this.callbacks[o];if(!r)throw new Error(`cannot dequeue ${t} event: no event found for id ${o}`);switch(delete this.callbacks[o],t){case"privy:iframe:ready":return r;case"privy:wallet:create":return r;case"privy:wallet:connect":return r;case"privy:wallet:recover":return r;case"privy:wallet:rpc":return r;default:throw new Error(`invalid wallet event type ${t}`)}}};var Jc=require("react/jsx-runtime"),vm=function(e){return()=>`id-${e++}`}(0);function bm(e){return typeof e.event=="string"&&/^privy:.+/.test(e.event)}function Hr(e){return e.error!==void 0}var ar=new di,va=new Map,wm=(e,t)=>typeof t=="bigint"?t.toString():t,Cm=(e,t)=>`${e}${JSON.stringify(t,wm)}`;function zr(e,t,o){let r=o.contentWindow;if(!r)throw new Error("iframe not initialized");let n=Cm(e,t);if(e==="privy:wallet:create"){let a=va.get(n);if(a)return a}let i=new Promise((a,l)=>{let s=vm();ar.enqueue(s,{resolve:a,reject:l}),r.postMessage({id:s,event:e,data:t},o.src)}).finally(()=>{va.delete(n)});return va.set(n,i),i}function Em(e){switch(e.event){case"privy:iframe:ready":let t=ar.dequeue(e.event,e.id);return Hr(e)?t.reject(new Jt(e.error.type,e.error.message)):t.resolve(e.data);case"privy:wallet:create":let o=ar.dequeue(e.event,e.id);return Hr(e)?o.reject(new Jt(e.error.type,e.error.message)):o.resolve(e.data);case"privy:wallet:connect":let r=ar.dequeue(e.event,e.id);return Hr(e)?r.reject(new Jt(e.error.type,e.error.message)):r.resolve(e.data);case"privy:wallet:recover":let n=ar.dequeue(e.event,e.id);return Hr(e)?n.reject(new Jt(e.error.type,e.error.message)):n.resolve(e.data);case"privy:wallet:rpc":let i=ar.dequeue(e.event,e.id);return Hr(e)?i.reject(new Jt(e.error.type,e.error.message)):i.resolve(e.data)}}function Zc(e){let t=(0,pi.useRef)(null);return(0,pi.useEffect)(()=>{let o=t.current;if(!o)return;function r(l){l&&l.origin===e.origin&&bm(l.data)&&Em(l.data)}let n={create(l){return zr("privy:wallet:create",l,o)},connect(l){return zr("privy:wallet:connect",l,o)},recover(l){return zr("privy:wallet:recover",l,o)},rpc(l){return zr("privy:wallet:rpc",l,o)}};window.addEventListener("message",r);let i=()=>e.onLoad(n),a=(...l)=>{console.warn("Privy iframe failed to load: ",...l),e.onLoadFailed()};return cs(()=>zr("privy:iframe:ready",{},o)).then(i,a),()=>window.removeEventListener("message",r)},[t.current]),(0,Jc.jsx)("iframe",{ref:t,width:"0",height:"0",style:{display:"none",height:"0px",width:"0px"},src:sn(e.origin,`/apps/${e.appId}/embedded-wallets`)})}var ui=require("react"),ba=(0,ui.createContext)({wallets:[]});function Xc(){return(0,ui.useContext)(ba)}var Ct=require("react/jsx-runtime");function xm(e){return typeof e=="string"&&e.length===25}var qr;function At(){if(!qr){let e=J.get(So);return Promise.resolve(e||null)}return qr.getAccessToken()}var ed,hs=(e,t)=>ed(e,t),td,fs=(e,t)=>td(e,t),od,ys=()=>od(),Tm=()=>{let t=new URLSearchParams(window.location.search).get("privy_token");if(!t)return;J.put(mr,t);let o=new URL(window.location.href);o.searchParams.delete("privy_token"),window.history.pushState({},"",o)},rd=({config:e,...t})=>{var r,n;if(!xm(t.appId))throw new E("Cannot initialize the Privy provider with an invalid Privy app ID");qr||(qr=new Uo({appId:t.appId,apiUrl:t.apiUrl||tn}));let o=Object.assign({},e);return t.createPrivyWalletOnLogin!==void 0&&((r=o.embeddedWallets)==null?void 0:r.createOnLogin)===void 0&&(o.embeddedWallets||(o.embeddedWallets={}),o.embeddedWallets.createOnLogin=t.createPrivyWalletOnLogin?"users-without-wallets":"off"),t.createPrivyWalletOnLogin!==void 0&&((n=e==null?void 0:e.embeddedWallets)==null?void 0:n.createOnLogin)&&console.warn("Both `createPrivyWalletOnLogin` and `config.embeddedWallets.createOnLogin` are set. `createPrivyWalletOnLogin` is deprecated and should be removed."),(0,Ct.jsx)(Pm,{...t,config:o,client:qr})},Pm=e=>{let t=e.client,[o,r]=(0,z.useState)(!1),[n,i]=(0,z.useState)(!1),[a,l]=(0,z.useState)(!1),[s,u]=(0,z.useState)(null),[h,C]=(0,z.useState)(!1),[b,p]=(0,z.useState)([]),y=(0,z.useRef)(b),[m,x]=(0,z.useState)(!1),[S,F]=(0,z.useState)(null),[A,k]=(0,z.useState)({status:"disconnected",connectError:null,connector:null,connectRetry:P}),[W,N]=(0,z.useState)(null),[O,Q]=(0,z.useState)(null),[re,ce]=(0,z.useState)({showWalletLoginFirst:!0,allowlistConfig:{errorTitle:null,errorDetail:null,errorCtaText:null,errorCtaLink:null},walletAuth:!0,emailAuth:!0,smsAuth:!1,googleOAuth:!1,twitterOAuth:!1,discordOAuth:!1,githubOAuth:!1,appleOAuth:!1,termsAndConditionsUrl:null,privacyPolicyUrl:null,embeddedWalletConfig:{createOnLogin:"off",requireUserPasswordOnCreate:!1}}),[ne,M]=(0,z.useState)(()=>{let c=Qc(e.config,e.createPrivyWalletOnLogin);return t.createAnalyticsEvent("sdk_initialize",c),ci(re,e.config)}),[R,L]=(0,z.useState)(!0),[_e,me]=(0,z.useState)({}),[Et,Dt]=(0,z.useState)(null),de=c=>{c&&F(c),r(!0),t.createAnalyticsEvent("modal_open",{initialScreen:c})},pe=c=>{ne.embeddedWallets.createOnLogin!=="off"&&L(!0),de(c)};(0,z.useEffect)(()=>{var d,g;if(!O||!s){(d=t.connectors)==null||d.removeEmbeddedWalletConnector();return}let c=s==null?void 0:s.linkedAccounts.filter(f=>f.type==="wallet"&&f.walletClient==="privy");if(c&&c.length>0){let f=c[0].address;(g=t.connectors)==null||g.addEmbeddedWalletConnector(O,f)}},[O,s]),(0,z.useEffect)(()=>{async function c(){var Gt;let d=await t.getServerConfig();ce(d);let g=ci(d,e.config);M(g),d.customApiUrl&&t.updateApiUrl(d.customApiUrl),t.initializeConnectorManager(g.walletConnectCloudProjectId),(Gt=t.connectors)==null||Gt.initialize();let f=Ut();Tm();let D=await t.getAuthenticatedUser();l(!!D),u(D),i(!0),Et==null||Et(),f&&D&&C(!0),$r()}c()},[t,Et,n]),(0,z.useEffect)(()=>{let c=ci(re,e.config);M(c)},[e.config]);let Ut=()=>{let c=new URLSearchParams(window.location.search),d=c.get("privy_oauth_code"),g=c.get("privy_oauth_state"),f=c.get("privy_oauth_provider");return d&&g&&f?(t.startAuthFlow(new Ht(f,d,g)),pe("AWAITING_OAUTH_SCREEN"),!0):!1},Eo=async(c,d,g)=>{var D;let f=await((D=t.connectors)==null?void 0:D.createWalletConnector(c,d))||null;sr(f,g)};async function sr(c,d){if(!c)return k({status:"disconnected",connectError:new q("Unable to connect to wallet."),connector:null,connectRetry:P}),d==null?void 0:d(null);k({connector:c,status:"connecting",connectError:null,connectRetry:()=>sr(c,d)});try{let g=await c.connect({showPrompt:!0});return k(f=>({...f,status:"connected",connectError:null,connectRetry:P})),d==null?void 0:d(g)}catch(g){return g instanceof Ze?console.warn(g.cause?g.cause:g.message):console.warn(g),k(f=>({...f,status:"disconnected",connectError:g})),d==null?void 0:d(null)}}let xo=c=>{c!==null&&t.startAuthFlow(new ao(c))},$r=()=>{let c=new URLSearchParams(window.location.search),d=c.get("privy_connector"),g=c.get("privy_wallet_client");if(!d||!g)return;if(g==="phantom"&&!ze()&&pe("LOGIN_FAILED_SCREEN"),!t.connectors)throw new E("Connector not initialized");de("AWAITING_CONNECTION");let f=new URL(window.location.href);f.searchParams.delete("privy_connector"),f.searchParams.delete("privy_wallet_client"),window.history.pushState({},"",f),Eo(d,g,xo)};(0,z.useEffect)(()=>{n&&a&&s===null&&t.getAuthenticatedUser().then(u)},[n,a,s,t]);let lr=()=>{C(!0),de("LINK_WALLET_SCREEN")},jr=c=>{if(!a||!s)return!1;for(let d of s.linkedAccounts)if(d.type==="wallet"&&d.address===c.address)return!0;return!1},ee=async c=>{if(!t.connectors)throw new E("Connector not initialized");let d=t.connectors.findWalletConnector(c.connectorType,c.walletClientType)||null;k(g=>({...g,connector:d,status:"connected",connectError:null,connectRetry:P})),xo(c),pe("AWAITING_CONNECTION")},Bt=async(c,d)=>{if(!t.connectors)throw new E("Connector not initialized");await Eo(c,d,xo)},Ft=()=>{p(c=>{var g;let d=((g=t.connectors)==null?void 0:g.wallets.map(f=>({...f,linked:jr(f),loginOrLink:async()=>{if(!await f.isConnected())throw new E("Wallet is not connected");if(f.connectorType==="embedded"&&f.walletClientType==="privy")throw new E("Cannot link or login with embedded wallet");ee(f)},unlink:async()=>{if(!a)throw new E("User is not authenticated.");if(f.connectorType==="embedded"&&f.walletClientType==="privy")throw new E("Cannot unlink an embedded wallet");let D=await t.unlinkWallet(f.address);u(D)}})))||[];return cn(c,d)?c:d})};(0,z.useEffect)(()=>{Ft()},[s==null?void 0:s.linkedAccounts,a]),(0,z.useEffect)(()=>{if(n){if(!t.connectors)throw new E("Connector not initialized");Ft(),t.connectors.on("walletsUpdated",Ft)}},[n]);let cr=()=>{de(a?"CONNECT_ONLY_AUTHENTICATED_SCREEN":"CONNECT_ONLY_LANDING_SCREEN")};(0,z.useEffect)(()=>{if(!b[0])return;let c=b[0],d=y.current.find(f=>f.address===c.address),g=s==null?void 0:s.linkedAccounts.find(f=>f.type==="wallet"&&f.address===c.address);if(!d&&g){let f=Object.assign({},s);f.wallet=g&&{address:g.address,chainType:g.chainType,chainId:g.chainId,walletClient:g.walletClient,walletClientType:g.walletClientType,connectorType:g.connectorType},u(f)}y.current=b},[b]);let dr={ready:n,authenticated:a,user:s,walletConnectors:t.connectors||null,connectWallet:cr,linkWallet:lr,linkEmail:()=>{if(s!=null&&s.email)throw new E("User already has an email linked to their account.");C(!0),de("LINK_EMAIL_SCREEN")},linkPhone:()=>{if(s!=null&&s.phone)throw new E("User already has a phone number linked to their account.");C(!0),de("LINK_PHONE_SCREEN")},linkGoogle:async()=>{if(s!=null&&s.google)throw new E("User already has a Google account linked to their account.");await xt.initLoginWithOAuth("google")},linkTwitter:async()=>{if(s!=null&&s.twitter)throw new E("User already has a Twitter account linked to their account.");await xt.initLoginWithOAuth("twitter")},linkDiscord:async()=>{if(s!=null&&s.discord)throw new E("User already has a Discord account linked to their account.");await xt.initLoginWithOAuth("discord")},linkGithub:async()=>{if(s!=null&&s.github)throw new E("User already has a Github account linked to their account.");await xt.initLoginWithOAuth("github")},linkApple:async()=>{await xt.initLoginWithOAuth("apple")},login:async()=>{if(n||(await new Promise(c=>{Dt(()=>c)}),Dt(null)),a){console.warn("Attempted to log in, but user is already logged in. Use a `link` helper instead.");return}pe()},logout:async()=>{await t.logout(),u(null),l(!1),F(null),C(!1),r(!1)},getAccessToken:()=>t.getAccessToken(),getEthereumProvider:()=>{var g;if(!s||!s.wallet)return new X;let c=b.find(f=>s.wallet&&f.address===s.wallet.address),d=(g=t.connectors)==null?void 0:g.walletConnectors.find(f=>f.wallets.find(D=>D.address===(c==null?void 0:c.address)));return!c||!d?new X:d.proxyProvider},getEthersProvider:()=>{var g;if(!s||!s.wallet)return new mi.Web3Provider(new et(new X));let c=b.find(f=>s.wallet&&f.address===s.wallet.address),d=(g=t.connectors)==null?void 0:g.walletConnectors.find(f=>f.wallets.find(D=>D.address===(c==null?void 0:c.address)));return!c||!d?new mi.Web3Provider(new et(new X)):new mi.Web3Provider(new et(d.proxyProvider))},getWeb3jsProvider:()=>{var g;if(!s||!s.wallet)return new jt(new X);let c=b.find(f=>s.wallet&&f.address===s.wallet.address),d=(g=t.connectors)==null?void 0:g.walletConnectors.find(f=>f.wallets.find(D=>D.address===(c==null?void 0:c.address)));return!c||!d?new jt(new X):new jt(d.proxyProvider)},unlinkWallet:async c=>{let d=await t.unlinkWallet(c);return u(d),d},unlinkEmail:async c=>{let d=await t.unlinkEmail(c);return u(d),d},unlinkPhone:async c=>{let d=await t.unlinkPhone(c);return u(d),d},unlinkGoogle:async c=>{let d=await t.unlinkOAuth("google",c);return u(d),d},unlinkTwitter:async c=>{let d=await t.unlinkOAuth("twitter",c);return u(d),d},unlinkDiscord:async c=>{let d=await t.unlinkOAuth("discord",c);return u(d),d},unlinkGithub:async c=>{let d=await t.unlinkOAuth("github",c);return u(d),d},unlinkApple:async c=>{let d=await t.unlinkOAuth("apple",c);return u(d),d},setActiveWallet:async c=>{let d=b.find(f=>(0,Vr.getAddress)(f.address)===(0,Vr.getAddress)(c)),g=s==null?void 0:s.linkedAccounts.find(f=>f.type==="wallet"&&(0,Vr.getAddress)(f.address)===(0,Vr.getAddress)(c));if(!d||!await d.isConnected())N(c),lr();else if(!d.linked)d.loginOrLink();else{let f=Object.assign({},s);f.wallet=g&&{address:g.address,chainType:g.chainType,chainId:g.chainId,walletClient:g.walletClient,walletClientType:g.walletClientType,connectorType:g.connectorType},u(f)}},forkSession:()=>t.forkSession(),createWallet:()=>new Promise((c,d)=>{if(!a||!s){d(new Error("User must be authenticated before creating a Privy wallet"));return}if(le(s)){d(new Error("Only one Privy wallet per user is currently allowed"));return}L(!0),me({createWallet:{onSuccess:c,onFailure:d,callAuthOnSuccessOnClose:!1}}),de("EMBEDDED_WALLET_SCREEN")}),signMessage:(c,d)=>new Promise((g,f)=>{if(!a||!s){f(new Error("User must be authenticated before signing with a Privy wallet"));return}let D=le(s);if(!D){f(new Error("Must have a Privy wallet before signing"));return}if(typeof c!="string"||c.length<1){f(new Error("Message must be a non-empty string"));return}L(!0);let Gt=async()=>{a||f(new Error("User must be authenticated before signing with a Privy wallet"));let no=await At();if(O&&no)try{if(!await xt.recoverEmbeddedWallet()){f(new Error("Unable to connect to wallet"));return}t.createAnalyticsEvent("embedded_wallet_sign_message_started",{walletAddress:D.address});let{response:Kr}=await O.rpc({accessToken:no,address:D.address,request:{method:"personal_sign",params:[c,D.address]}}),Yr=Kr.data;g(Yr),t.createAnalyticsEvent("embedded_wallet_sign_message_completed",{walletAddress:D.address})}catch(To){f(To)}};if(ne.embeddedWallets.noPromptOnSignature)d&&console.warn("uiOptions defined with `noPromptOnSignature` set to true in app config"),Gt();else{let no={message:c,confirmAndSignMessage:Gt,uiOptions:d||{}},To={onCompleteNavigateTo:"EMBEDDED_WALLET_SIGN_REQUEST_SCREEN",onFailure:f};me({signMessage:no,connectWallet:To}),de("EMBEDDED_WALLET_CONNECTING_SCREEN")}}),sendTransaction:(c,d)=>new Promise(async(g,f)=>{var Kr,Yr;if(!a||!s){f(new Error("User must be authenticated before signing with a Privy wallet"));return}let D=le(s);if(!D){f(new Error("Must have a Privy wallet before signing"));return}L(!0);let Gt=(Yr=(Kr=t.connectors)==null?void 0:Kr.findWalletConnector("embedded","privy"))==null?void 0:Yr.proxyProvider,no=Object.assign({},c,{chainId:c.chainId||Gt.chainId}),To=async()=>{let pr=await At();if(!pr||!O){f(new Error("Must have valid access token and Privy wallet to send transaction"));return}try{if(!await xt.recoverEmbeddedWallet()){f(new Error("Unable to connect to wallet"));return}let id=await ti(pr,D.address,O,no),ad=await oi(pr,D.address,O,id);g(ad)}catch(Qr){f(Qr)}};if(ne.embeddedWallets.noPromptOnSignature)d&&console.warn("uiOptions defined with `noPromptOnSignature` set to true in app config"),To();else{let pr={transactionRequest:no,onSuccess:g,onFailure:f,uiOptions:d||{}},Qr={onCompleteNavigateTo:"EMBEDDED_WALLET_SEND_TRANSACTION_SCREEN",onFailure:f};me({connectWallet:Qr,sendTransaction:pr}),de("EMBEDDED_WALLET_CONNECTING_SCREEN")}}),exportWallet:()=>new Promise((c,d)=>{if(!a||!s){d(new Error("User must be authenticated before exporting their Privy wallet"));return}if(!le(s)){d(new Error("Must have a Privy wallet before exporting"));return}L(!0);let f={onCompleteNavigateTo:"EMBEDDED_WALLET_KEY_EXPORT_SCREEN",onFailure:d},D={appId:e.appId,origin:t.apiUrl,onSuccess:c,onFailure:d};me({keyExport:D,connectWallet:f}),de("EMBEDDED_WALLET_CONNECTING_SCREEN")})};ed=dr.signMessage,td=dr.sendTransaction;let xt=(()=>({isNewUserThisSession:m,isLinking:h,linkingHint:W,walletConnectionStatus:A,getAuthFlow:()=>t.authFlow,getAuthMeta:()=>{var c;return(c=t.authFlow)==null?void 0:c.meta},closePrivyModal:(c={shouldCallAuthOnSuccess:!0})=>{var g;let d=n&&a&&s;c.shouldCallAuthOnSuccess&&d&&((g=e.onSuccess)==null||g.call(e,s,m)),t.authFlow=void 0,N(null),F(null),C(!1),x(!1),r(!1),t.createAnalyticsEvent("modal_closed")},connectWallet:Eo,initLoginWithWallet:Bt,loginWithWallet:async()=>{if(!(t.authFlow instanceof ao))throw new E("Must initialize SIWE flow first.");let c,d;h?c=await t.link():{user:c,isNewUser:d}=await t.authenticate(),u(c||s||null),x(d||!1),l(!0)},initLoginWithOAuth:async c=>{t.startAuthFlow(new Ht(c));let d=await t.authFlow.getAuthorizationUrl();d&&d.url&&window.location.assign(d.url)},loginWithOAuth:async()=>{if(!(t.authFlow instanceof Ht))throw new E("Must initialize OAuth flow before calling loginWithOAuth");let c,d;n&&a?c=await t.link():{user:c,isNewUser:d}=await t.authenticate(),u(c),x(d||!1),l(!0)},initLoginWithEmail:async c=>{let d=new io(c);t.startAuthFlow(d),await d.sendCodeEmail()},initLoginWithSms:async c=>{let d=new so(c);t.startAuthFlow(d),await d.sendSmsCode()},resendEmailCode:async()=>{var c;await((c=t.authFlow)==null?void 0:c.sendCodeEmail())},resendSmsCode:async()=>{var c;await((c=t.authFlow)==null?void 0:c.sendSmsCode())},loginWithCode:async c=>{if(t.authFlow instanceof io)t.authFlow.meta.emailCode=c.trim();else if(t.authFlow instanceof so)t.authFlow.meta.smsCode=c.trim();else throw new E("Must initialize a passwordless code flow first");let d,g;h?d=await t.link():{user:d,isNewUser:g}=await t.authenticate(),u(d||s||null),x(g||!1),l(!0)},refreshUser:async()=>{let c=await t.getAuthenticatedUser();return u(c),c},walletProxy:O,createAnalyticsEvent:(c,d,g)=>t.createAnalyticsEvent(c,d,g),getUsdTokenPrice:c=>t.getUsdTokenPrice(c),recoverEmbeddedWallet:async()=>new Promise(async(c,d)=>{let g=s==null?void 0:s.linkedAccounts.find(D=>D.type==="wallet"&&D.walletClientType==="privy"),f=await At();if(!f||!O||!g){d(new Error("Must have valid access token and Privy wallet to recover wallet"));return}L(!0);try{await O.connect({accessToken:f,address:g.address}),c(!0)}catch(D){jo(D)&&g.recoveryMethod==="privy"?(t.createAnalyticsEvent("embedded_wallet_pinless_recovery_started",{walletAddress:g.address}),(await O.recover({address:g.address,accessToken:f})).address||d(new Error("Unable to recover wallet")),t.createAnalyticsEvent("embedded_wallet_recovery_completed",{walletAddress:g.address}),c(!0)):jo(D)?(me({recoverWallet:{privyWallet:g,onFailure:d,onSuccess:()=>c(!0)}}),de("EMBEDDED_WALLET_RECOVERY_SCREEN")):d(D)}})}))();od=xt.recoverEmbeddedWallet;let nd=(0,z.useMemo)(()=>({wallets:b}),[b]);return(0,Ct.jsx)(Ni.Provider,{value:dr,children:(0,Ct.jsxs)(ba.Provider,{value:nd,children:[e.children,(0,Ct.jsxs)(Wi.Provider,{value:xt,children:[(0,Ct.jsx)(Vc,{theme:{...ne.appearance.palette||{}}}),(0,Ct.jsx)(xs,{appConfig:ne,data:_e,setModalData:me,initialScreen:S,visible:o,authenticated:a,children:o?(0,Ct.jsx)(jc,{}):null}),R&&re.id?(0,Ct.jsx)(Zc,{appId:e.appId,origin:t.apiUrl,onLoad:Q,onLoadFailed:()=>null}):null]})]})})};0&&(module.exports={AsExternalProvider,ConnectorManager,PrivyClient,PrivyProvider,PrivyProxyProvider,VERSION,WalletConnector,getAccessToken,usePrivy,useWallets});
